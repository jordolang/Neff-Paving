/* empty css                      */import{g as e,r as t,a as n}from"../chunks/chunk-DzqCDR9G.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function a(e={}){var t;if("undefined"==typeof window||null===e.route)return null;window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)});const n=function(e){return e.scriptSrc?e.scriptSrc:e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}(e);if(document.head.querySelector(`script[src*="${n}"]`))return null;e.beforeSend&&(null==(t=window.si)||t.call(window,"beforeSend",e.beforeSend));const a=document.createElement("script");return a.src=n,a.defer=!0,a.dataset.sdkn="@vercel/speed-insights"+(e.framework?`/${e.framework}`:""),a.dataset.sdkv="1.2.0",e.sampleRate&&(a.dataset.sampleRate=e.sampleRate.toString()),e.route&&(a.dataset.route=e.route),e.endpoint?a.dataset.endpoint=e.endpoint:e.basePath&&(a.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(a.dataset.dsn=e.dsn),a.onerror=()=>{},document.head.appendChild(a),{setRoute:e=>{a.dataset.route=null!=e?e:void 0}}}function r(){return"undefined"!=typeof window}function i(){try{}catch(e){}return"production"}function s(){return"development"===((r()?window.vam:i())||"production")}function o(e={debug:!0}){var t;if(!r())return;!function(e="auto"){window.vam="auto"!==e?e:i()}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=function(e){return e.scriptSrc?e.scriptSrc:s()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const a=document.createElement("script");a.src=n,a.defer=!0,a.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),a.dataset.sdkv="1.5.0",e.disableAutoTrack&&(a.dataset.disableAutoTrack="1"),e.endpoint?a.dataset.endpoint=e.endpoint:e.basePath&&(a.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(a.dataset.dsn=e.dsn),a.onerror=()=>{s()},s()&&!1===e.debug&&(a.dataset.debug="false"),document.head.appendChild(a)}const l={apiKey:"",libraries:["drawing","geometry","places"]},c={zoom:15,center:{lat:39.9612,lng:-82.9988},mapTypeId:"hybrid",mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_CENTER},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},fullscreenControl:!0},d={drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.RECTANGLE,google.maps.drawing.OverlayType.CIRCLE]},polygonOptions:{fillColor:"#FFD700",fillOpacity:.3,strokeWeight:2,strokeColor:"#FFD700",clickable:!1,editable:!0,zIndex:1},rectangleOptions:{fillColor:"#FFD700",fillOpacity:.3,strokeWeight:2,strokeColor:"#FFD700",clickable:!1,editable:!0,zIndex:1},circleOptions:{fillColor:"#FFD700",fillOpacity:.3,strokeWeight:2,strokeColor:"#FFD700",clickable:!1,editable:!0,zIndex:1}},u={GOOGLE_MAPS_DATA:"neff_paving_google_maps_measurements",ARCGIS_DATA:"neff_paving_arcgis_measurements",ACTIVE_TOOL:"neff_paving_active_measurement_tool",MEASUREMENT_SESSION:"neff_paving_measurement_session"};function m(e,t){try{const n=w(e),a={data:t,timestamp:(new Date).toISOString(),toolType:e};sessionStorage.setItem(n,JSON.stringify(a)),sessionStorage.setItem(u.ACTIVE_TOOL,e),x()}catch(n){}}function p(e){try{const t=w(e),n=sessionStorage.getItem(t);if(!n)return null;const a=JSON.parse(n),r=Date.now()-new Date(a.timestamp).getTime();return r>864e5?(g(e),null):a.data}catch(t){return null}}function g(e){try{const t=w(e);sessionStorage.removeItem(t),x()}catch(t){}}function h(){try{Object.values(u).forEach(e=>{sessionStorage.removeItem(e)})}catch(e){}}function f(){return sessionStorage.getItem(u.ACTIVE_TOOL)||"google-maps"}function v(){return Object.values(u).some(e=>e!==u.MEASUREMENT_SESSION&&null!==sessionStorage.getItem(e))}function y(){return{googleMaps:p("google-maps"),arcgis:p("arcgis"),activeTool:f()}}function b(){h()}function w(e){switch(e){case"google-maps":return u.GOOGLE_MAPS_DATA;case"arcgis":return u.ARCGIS_DATA;default:throw new Error(`Unknown tool type: ${e}`)}}function x(){try{const e={lastUpdated:(new Date).toISOString(),tools:[]};sessionStorage.getItem(u.GOOGLE_MAPS_DATA)&&e.tools.push("google-maps"),sessionStorage.getItem(u.ARCGIS_DATA)&&e.tools.push("arcgis"),sessionStorage.setItem(u.MEASUREMENT_SESSION,JSON.stringify(e))}catch(e){}}function S(){try{const e=sessionStorage.getItem(u.MEASUREMENT_SESSION);if(e){const t=JSON.parse(e),n=Date.now()-new Date(t.lastUpdated).getTime();n>864e5&&h()}}catch(e){}}const E=Object.freeze(Object.defineProperty({__proto__:null,clearAllMeasurementData:h,clearMeasurementData:g,getActiveTool:f,getAllMeasurementData:y,getMeasurementData:p,handleFormReset:function(){h()},handleFormSubmission:b,hasMeasurementData:v,initializeStorage:S,storeMeasurementData:m},Symbol.toStringTag,{value:"Module"}));class k{constructor(e,t={}){if(this.containerId=e,this.container=document.getElementById(e),this.options={showCalculator:!0,showAddressSearch:!0,showAreaInfo:!0,onAreaCalculated:()=>{},...t},this.map=null,this.drawingManager=null,this.currentShape=null,this.currentArea=null,this.geocoder=null,this.searchBox=null,!this.container)throw new Error(`Container with ID "${e}" not found`);this.init()}async init(){try{this.render(),await this.loadGoogleMaps(),this.initMap(),this.setupEventListeners()}catch(e){this.showError("Failed to initialize area finder")}}render(){this.container.innerHTML=`\n            <div class="area-finder-container">\n                ${this.options.showAddressSearch?'\n                <div class="area-finder-controls">\n                    <div class="search-section">\n                        <label for="address-search">Search Location</label>\n                        <div class="search-input-group">\n                            <input \n                                type="text" \n                                id="address-search" \n                                placeholder="Enter address or coordinates..."\n                                class="form-control"\n                            >\n                            <button type="button" id="search-btn" class="btn btn-primary">Search</button>\n                        </div>\n                    </div>\n                    \n                    <div class="drawing-controls">\n                        <button type="button" id="clear-shapes" class="btn btn-outline-danger" disabled>Clear All</button>\n                        <button type="button" id="calculate-area" class="btn btn-outline-success" disabled>Calculate Area</button>\n                    </div>\n                </div>\n                ':""}\n                \n                <div class="map-section">\n                    <div id="${this.containerId}-map" class="area-finder-map"></div>\n                    \n                    <div class="map-instructions">\n                        <h6>Instructions:</h6>\n                        <ul>\n                            <li>Click on the map to start drawing</li>\n                            <li>Continue clicking to add points</li>\n                            <li>Click the first point again to close the shape</li>\n                            <li>Use the drawing tools above the map to switch between shapes</li>\n                        </ul>\n                    </div>\n                </div>\n                \n                ${this.options.showAreaInfo?'\n                <div class="area-info-section">\n                    <div id="area-results" class="area-results" style="display: none;">\n                        <h6>Area Calculation Results</h6>\n                        <div class="results-grid">\n                            <div class="result-item">\n                                <span class="result-label">Area:</span>\n                                <span class="result-value" id="area-sqft">0 sq ft</span>\n                            </div>\n                            <div class="result-item">\n                                <span class="result-label">Perimeter:</span>\n                                <span class="result-value" id="perimeter-ft">0 ft</span>\n                            </div>\n                            <div class="result-item">\n                                <span class="result-label">Acres:</span>\n                                <span class="result-value" id="area-acres">0 acres</span>\n                            </div>\n                            <div class="result-item">\n                                <span class="result-label">Square Meters:</span>\n                                <span class="result-value" id="area-sqm">0 m²</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ':""}\n            </div>\n        `,this.addStyles()}addStyles(){if(document.getElementById("area-finder-styles"))return;const e=document.createElement("style");e.id="area-finder-styles",e.textContent="\n            .area-finder-container {\n                background: #ffffff;\n                border-radius: 12px;\n                overflow: hidden;\n                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n            }\n\n            .area-finder-controls {\n                padding: 20px;\n                background: #f8f9fa;\n                border-bottom: 1px solid #e9ecef;\n                display: flex;\n                flex-wrap: wrap;\n                gap: 20px;\n                align-items: end;\n            }\n\n            .search-section {\n                flex: 1;\n                min-width: 300px;\n            }\n\n            .search-section label {\n                display: block;\n                margin-bottom: 6px;\n                font-weight: 500;\n                color: #374151;\n            }\n\n            .search-input-group {\n                display: flex;\n                gap: 8px;\n            }\n\n            .search-input-group input {\n                flex: 1;\n                padding: 10px 12px;\n                border: 1px solid #d1d5db;\n                border-radius: 8px;\n                font-size: 14px;\n            }\n\n            .search-input-group input:focus {\n                outline: none;\n                border-color: #2563eb;\n                box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n            }\n\n            .drawing-controls {\n                display: flex;\n                gap: 10px;\n            }\n\n            .btn {\n                padding: 8px 16px;\n                border-radius: 6px;\n                font-size: 14px;\n                font-weight: 500;\n                border: 1px solid transparent;\n                cursor: pointer;\n                transition: all 0.2s;\n            }\n\n            .btn-primary {\n                background: #2563eb;\n                color: white;\n                border-color: #2563eb;\n            }\n\n            .btn-primary:hover {\n                background: #1d4ed8;\n            }\n\n            .btn-outline-danger {\n                color: #dc2626;\n                border-color: #dc2626;\n                background: transparent;\n            }\n\n            .btn-outline-danger:hover {\n                background: #dc2626;\n                color: white;\n            }\n\n            .btn-outline-success {\n                color: #16a34a;\n                border-color: #16a34a;\n                background: transparent;\n            }\n\n            .btn-outline-success:hover {\n                background: #16a34a;\n                color: white;\n            }\n\n            .btn:disabled {\n                opacity: 0.5;\n                cursor: not-allowed;\n            }\n\n            .map-section {\n                position: relative;\n            }\n\n            .area-finder-map {\n                height: 500px;\n                width: 100%;\n            }\n\n            .map-instructions {\n                position: absolute;\n                top: 10px;\n                left: 10px;\n                background: rgba(255, 255, 255, 0.95);\n                padding: 15px;\n                border-radius: 8px;\n                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n                max-width: 300px;\n                font-size: 13px;\n                z-index: 10;\n            }\n\n            .map-instructions h6 {\n                margin: 0 0 10px 0;\n                color: #1f2937;\n                font-weight: 600;\n            }\n\n            .map-instructions ul {\n                margin: 0;\n                padding-left: 16px;\n                color: #6b7280;\n            }\n\n            .map-instructions li {\n                margin-bottom: 4px;\n            }\n\n            .area-info-section {\n                padding: 20px;\n                background: #f8f9fa;\n                border-top: 1px solid #e9ecef;\n            }\n\n            .area-results {\n                background: white;\n                border-radius: 8px;\n                padding: 20px;\n                border: 1px solid #e5e7eb;\n            }\n\n            .area-results h6 {\n                margin: 0 0 15px 0;\n                color: #1f2937;\n                font-weight: 600;\n            }\n\n            .results-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n                gap: 15px;\n            }\n\n            .result-item {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                padding: 12px;\n                background: #f9fafb;\n                border-radius: 6px;\n                border: 1px solid #f3f4f6;\n            }\n\n            .result-label {\n                font-weight: 500;\n                color: #6b7280;\n            }\n\n            .result-value {\n                font-weight: 600;\n                color: #1f2937;\n                font-family: 'Courier New', monospace;\n            }\n\n            .error-message {\n                background: #fef2f2;\n                color: #dc2626;\n                padding: 12px 16px;\n                border-radius: 8px;\n                border: 1px solid #fecaca;\n                margin: 10px;\n            }\n\n            @media (max-width: 768px) {\n                .area-finder-controls {\n                    flex-direction: column;\n                    align-items: stretch;\n                }\n\n                .search-input-group {\n                    flex-direction: column;\n                }\n\n                .drawing-controls {\n                    justify-content: center;\n                }\n\n                .results-grid {\n                    grid-template-columns: 1fr;\n                }\n\n                .map-instructions {\n                    position: static;\n                    margin: 10px;\n                    max-width: none;\n                }\n            }\n        ",document.head.appendChild(e)}async loadGoogleMaps(){return new Promise((e,t)=>{if("undefined"!=typeof google&&google.maps)return void e();window.initAreaFinderMap=()=>{delete window.initAreaFinderMap,e()};const n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${l.apiKey}&libraries=${l.libraries.join(",")}&callback=initAreaFinderMap`,n.onerror=t,document.head.appendChild(n)})}initMap(){const e=document.getElementById(`${this.containerId}-map`);this.map=new google.maps.Map(e,{...c,center:{lat:39.9612,lng:-82.9988}}),this.geocoder=new google.maps.Geocoder,this.initDrawingManager(),this.initSearchBox(),this.restorePreviousData()}initDrawingManager(){this.drawingManager=new google.maps.drawing.DrawingManager({...d,map:this.map}),google.maps.event.addListener(this.drawingManager,"overlaycomplete",e=>{this.handleShapeComplete(e)})}initSearchBox(){const e=document.getElementById("address-search");e&&(this.searchBox=new google.maps.places.SearchBox(e),this.map.addListener("bounds_changed",()=>{this.searchBox.setBounds(this.map.getBounds())}),this.searchBox.addListener("places_changed",()=>{const e=this.searchBox.getPlaces();if(0===e.length)return;const t=e[0];t.geometry&&t.geometry.location&&(this.map.setCenter(t.geometry.location),this.map.setZoom(18))}))}setupEventListeners(){const e=document.getElementById("search-btn"),t=document.getElementById("clear-shapes"),n=document.getElementById("calculate-area");e&&e.addEventListener("click",()=>this.searchLocation()),t&&t.addEventListener("click",()=>this.clearShapes()),n&&n.addEventListener("click",()=>this.calculateArea());const a=document.getElementById("address-search");a&&a.addEventListener("keypress",e=>{"Enter"===e.key&&this.searchLocation()})}handleShapeComplete(e){this.currentShape&&this.currentShape.setMap(null),this.currentShape=e.overlay,this.drawingManager.setDrawingMode(null),this.enableButton("clear-shapes"),this.enableButton("calculate-area"),!1!==this.options.autoCalculate&&this.calculateArea()}async calculateArea(){if(this.currentShape)try{const e=this.getShapeCoordinates(this.currentShape),t=await fetch("/api/maps/calculate-area",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coordinates:e})}),n=await t.json();if(!n.success)throw new Error(n.message||"Calculation failed");this.displayAreaResults(n.data),this.currentArea=n.data;m("google-maps",{...n.data,coordinates:e,timestamp:(new Date).toISOString()}),this.options.onAreaCalculated(n.data)}catch(e){this.showError("Failed to calculate area. Please try again.")}else this.showError("No shape to calculate. Please draw a shape first.")}getShapeCoordinates(e){let t=[];if(e.getPath){const n=e.getPath();for(let e=0;e<n.getLength();e++){const a=n.getAt(e);t.push({lat:a.lat(),lng:a.lng()})}}else if(e.getBounds){const n=e.getBounds(),a=n.getNorthEast(),r=n.getSouthWest();if(e.getRadius){const n=e.getCenter(),a=e.getRadius(),r=32;for(let e=0;e<r;e++){const i=360*e/r*(Math.PI/180),s=n.lat()+a/111320*Math.cos(i),o=n.lng()+a/(111320*Math.cos(n.lat()*Math.PI/180))*Math.sin(i);t.push({lat:s,lng:o})}}else t=[{lat:a.lat(),lng:a.lng()},{lat:a.lat(),lng:r.lng()},{lat:r.lat(),lng:r.lng()},{lat:r.lat(),lng:a.lng()}]}return t}displayAreaResults(e){const t=document.getElementById("area-results");t&&(document.getElementById("area-sqft").textContent=`${e.areaInSquareFeet.toLocaleString()} sq ft`,document.getElementById("perimeter-ft").textContent=`${(3.28084*e.perimeter).toFixed(2)} ft`,document.getElementById("area-acres").textContent=`${e.areaInAcres} acres`,document.getElementById("area-sqm").textContent=`${e.area.toLocaleString()} m²`,t.style.display="block")}searchLocation(){const e=document.getElementById("address-search").value.trim();e?this.geocoder.geocode({address:e},(e,t)=>{if("OK"===t&&e[0]){const t=e[0].geometry.location;this.map.setCenter(t),this.map.setZoom(18),new google.maps.Marker({position:t,map:this.map,title:"Search Result"})}else this.showError("Location not found. Please try a different address.")}):this.showError("Please enter an address or coordinates")}clearShapes(){this.currentShape&&(this.currentShape.setMap(null),this.currentShape=null);const e=document.getElementById("area-results");e&&(e.style.display="none"),this.disableButton("clear-shapes"),this.disableButton("calculate-area"),this.currentArea=null}enableButton(e){const t=document.getElementById(e);t&&(t.disabled=!1)}disableButton(e){const t=document.getElementById(e);t&&(t.disabled=!0)}showError(e){const t=document.createElement("div");t.className="error-message",t.textContent=e,this.container.insertBefore(t,this.container.firstChild),setTimeout(()=>{t.remove()},5e3)}getAreaData(){return this.currentArea}setLocation(e,t,n=18){this.map&&(this.map.setCenter({lat:e,lng:t}),this.map.setZoom(n))}destroy(){this.currentShape&&this.currentShape.setMap(null),this.drawingManager&&this.drawingManager.setMap(null),this.container.innerHTML=""}restoreAreaData(e){if(!e)return;this.clearShapes();const t=e.coordinates.map(e=>new google.maps.LatLng(e.lat,e.lng));this.currentShape=new google.maps.Polygon({path:t,map:this.map}),this.calculateArea()}restorePreviousData(){try{const e=p("google-maps");if(e&&e.coordinates&&e.coordinates.length>0){const t=e.coordinates.map(e=>new google.maps.LatLng(e.lat,e.lng));this.currentShape=new google.maps.Polygon({path:t,map:this.map,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}),this.currentArea=e,this.displayAreaResults(e),this.enableButton("clear-shapes"),this.enableButton("calculate-area");const n=new google.maps.LatLngBounds;e.coordinates.forEach(e=>{n.extend(new google.maps.LatLng(e.lat,e.lng))}),this.map.fitBounds(n)}}catch(e){}}}class C{constructor(){this.locations={reynoldsburg:{address:"1847 Brice Road, Reynoldsburg, OH 43068",name:"Reynoldsburg Office",mapId:"reynoldsburg-google-map"},zanesville:{address:"6575 W Pike, Zanesville, OH 43701",name:"Main Location/Zanesville Office",mapId:"zanesville-google-map"}},this.init()}init(){this.setupMapPlaceholders(),this.bindEvents()}setupMapPlaceholders(){Object.values(this.locations).forEach(e=>{const t=document.getElementById(e.mapId);t&&(t.style.cursor="pointer",t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",`View ${e.name} on Google Maps`))})}bindEvents(){Object.entries(this.locations).forEach(([e,t])=>{const n=document.getElementById(t.mapId);n&&(n.addEventListener("click",()=>this.loadMap(e)),n.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.loadMap(e))}))})}loadMap(e){const t=this.locations[e];if(!t)return;const n=document.getElementById(t.mapId);if(!n)return;const a=this.createEmbedUrl(t.address);n.innerHTML=`\n            <iframe \n                src="${a}"\n                width="100%" \n                height="400" \n                style="border:0; border-radius: 8px;" \n                allowfullscreen="" \n                loading="lazy" \n                referrerpolicy="no-referrer-when-downgrade"\n                title="${t.name} Location Map">\n            </iframe>\n        `,n.style.cursor="default",n.classList.add("map-loaded")}createEmbedUrl(e){return`https://www.google.com/maps/embed/v1/place?key=&q=${encodeURIComponent(e)}&zoom=15&maptype=roadmap`}openInGoogleMaps(e){const t=this.locations[e];if(!t)return;const n=`https://www.google.com/maps/search/${encodeURIComponent(t.address)}`;window.open(n,"_blank")}initWithoutApiKey(){Object.entries(this.locations).forEach(([e,t])=>{const n=document.getElementById(t.mapId);if(!n)return;n.innerHTML=`\n                <div class="static-map-view" onclick="window.open('https://www.google.com/maps/search/${encodeURIComponent(t.address)}', '_blank')" style="cursor: pointer;">\n                    <div class="map-static-content">\n                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 48px; height: 48px; color: #4285f4; margin-bottom: 16px;">\n                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>\n                        </svg>\n                        <h4 style="margin: 0 0 8px 0; color: #1a73e8;">${t.address}</h4>\n                        <p style="margin: 0; color: #5f6368;">Click to view in Google Maps</p>\n                        <div style="margin-top: 12px; padding: 8px 16px; background: #4285f4; color: white; border-radius: 4px; display: inline-block;">\n                            View on Google Maps\n                        </div>\n                    </div>\n                </div>\n            `;const a=n.querySelector(".static-map-view");a&&(Object.assign(a.style,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px",backgroundColor:"#f8f9fa",border:"2px dashed #dadce0",borderRadius:"8px",textAlign:"center",transition:"all 0.3s ease",padding:"20px"}),a.addEventListener("mouseenter",function(){this.style.backgroundColor="#e8f0fe",this.style.borderColor="#4285f4"}),a.addEventListener("mouseleave",function(){this.style.backgroundColor="#f8f9fa",this.style.borderColor="#dadce0"}))})}loadEmbeddedMaps(){Object.entries(this.locations).forEach(([e,t])=>{const n=document.getElementById(t.mapId);if(!n)return;const a=encodeURIComponent(t.address);n.innerHTML=`\n                <iframe \n                    src="https://www.google.com/maps?q=${a}&output=embed"\n                    width="100%" \n                    height="350" \n                    style="border:0; border-radius: 8px;" \n                    allowfullscreen="" \n                    loading="lazy" \n                    referrerpolicy="no-referrer-when-downgrade"\n                    title="${t.name} Location Map">\n                </iframe>\n            `,n.classList.add("map-loaded")})}}document.addEventListener("DOMContentLoaded",()=>{(new C).loadEmbeddedMaps()});class I{constructor(){this.currentIndex=0,this.images=[],this.isOpen=!1,this.init()}init(){this.createLightbox(),this.bindEvents()}createLightbox(){document.body.insertAdjacentHTML("beforeend",'\n            <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-labelledby="lightbox-title" aria-describedby="lightbox-description">\n                <div class="lightbox-overlay"></div>\n                <div class="lightbox-content">\n                    <div class="lightbox-header">\n                        <h2 id="lightbox-title" class="lightbox-title"></h2>\n                        <button class="lightbox-close" aria-label="Close lightbox" title="Close">&times;</button>\n                    </div>\n                    <div class="lightbox-main">\n                        <button class="lightbox-nav lightbox-prev" aria-label="Previous image" title="Previous">\n                            <svg viewBox="0 0 24 24" fill="currentColor">\n                                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n                            </svg>\n                        </button>\n                        <div class="lightbox-image-container">\n                            <img class="lightbox-image" src="" alt="" loading="lazy">\n                            <div class="lightbox-loading">\n                                <div class="loading-spinner"></div>\n                            </div>\n                        </div>\n                        <button class="lightbox-nav lightbox-next" aria-label="Next image" title="Next">\n                            <svg viewBox="0 0 24 24" fill="currentColor">\n                                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n                            </svg>\n                        </button>\n                    </div>\n                    <div class="lightbox-footer">\n                        <p id="lightbox-description" class="lightbox-description"></p>\n                        <div class="lightbox-counter">\n                            <span class="current-index">1</span> / <span class="total-images">1</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '),this.lightboxElement=document.getElementById("lightbox"),this.lightboxImage=this.lightboxElement.querySelector(".lightbox-image"),this.lightboxTitle=this.lightboxElement.querySelector(".lightbox-title"),this.lightboxDescription=this.lightboxElement.querySelector(".lightbox-description"),this.lightboxLoading=this.lightboxElement.querySelector(".lightbox-loading"),this.currentIndexElement=this.lightboxElement.querySelector(".current-index"),this.totalImagesElement=this.lightboxElement.querySelector(".total-images")}bindEvents(){this.lightboxElement.querySelector(".lightbox-close").addEventListener("click",()=>{this.close()}),this.lightboxElement.querySelector(".lightbox-prev").addEventListener("click",()=>{this.prev()}),this.lightboxElement.querySelector(".lightbox-next").addEventListener("click",()=>{this.next()}),this.lightboxElement.querySelector(".lightbox-overlay").addEventListener("click",()=>{this.close()}),document.addEventListener("keydown",e=>{if(this.isOpen)switch(e.key){case"Escape":this.close();break;case"ArrowLeft":this.prev();break;case"ArrowRight":this.next()}}),this.lightboxImage.addEventListener("load",()=>{this.lightboxLoading.style.display="none"}),this.lightboxImage.addEventListener("error",()=>{this.lightboxLoading.style.display="none",this.lightboxImage.alt="Image failed to load"})}open(e,t=0){this.images=e,this.currentIndex=t,this.isOpen=!0,this.totalImagesElement.textContent=this.images.length,this.lightboxElement.classList.add("active"),this.lightboxElement.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",this.loadImage(),this.lightboxElement.querySelector(".lightbox-close").focus()}close(){this.isOpen=!1,this.lightboxElement.classList.remove("active"),this.lightboxElement.setAttribute("aria-hidden","true"),document.body.style.overflow="",setTimeout(()=>{this.lightboxImage.src=""},300)}prev(){this.images.length<=1||(this.currentIndex=this.currentIndex>0?this.currentIndex-1:this.images.length-1,this.loadImage())}next(){this.images.length<=1||(this.currentIndex=this.currentIndex<this.images.length-1?this.currentIndex+1:0,this.loadImage())}loadImage(){const e=this.images[this.currentIndex];this.lightboxLoading.style.display="flex",this.lightboxTitle.textContent=e.title||"",this.lightboxDescription.textContent=e.category||"",this.currentIndexElement.textContent=this.currentIndex+1,this.lightboxImage.src=e.src,this.lightboxImage.alt=e.alt||e.title||"";const t=this.lightboxElement.querySelector(".lightbox-prev"),n=this.lightboxElement.querySelector(".lightbox-next");this.images.length<=1?(t.style.display="none",n.style.display="none"):(t.style.display="flex",n.style.display="flex")}}const L={commercial:[{filename:"advance-auto-parking-lot-2.webp",title:"Advance Auto Parking Lot",alt:"Commercial parking lot paving for Advance Auto"},{filename:"advance-auto-parking-lot-3.webp",title:"Advance Auto Parking Lot",alt:"Commercial parking lot paving for Advance Auto"},{filename:"advance-auto-parking-lot.webp",title:"Advance Auto Parking Lot",alt:"Commercial parking lot paving for Advance Auto"},{filename:"amg.webp",title:"AMG Commercial Paving",alt:"Commercial paving project for AMG"},{filename:"apartment-parking-lot.webp",title:"Apartment Parking Lot",alt:"Parking lot paving for apartment complex"},{filename:"barn-parking-lot-1-of-2.webp",title:"The Barn Parking Lot",alt:"Commercial parking lot for The Barn"},{filename:"barn-parking-lot-2-of-2.webp",title:"The Barn Parking Lot",alt:"Commercial parking lot for The Barn"},{filename:"before-barn-parking-lot.webp",title:"The Barn - Before",alt:"Parking lot before paving"},{filename:"business-lot-1.webp",title:"Business Parking Lot",alt:"Commercial business parking lot"},{filename:"business-lot-2.webp",title:"Business Parking Lot",alt:"Commercial business parking lot"},{filename:"business-lot-3.webp",title:"Business Parking Lot",alt:"Commercial business parking lot"},{filename:"business-parking-lot-asphalt.webp",title:"Business Parking Lot",alt:"Asphalt parking lot for business"},{filename:"church-parking-lot-1.webp",title:"Church Parking Lot",alt:"Parking lot paving for church"},{filename:"church-parking-lot-2.webp",title:"Church Parking Lot",alt:"Parking lot paving for church"},{filename:"church-parking-lot-paving.webp",title:"Church Parking Lot",alt:"Church parking lot paving project"},{filename:"colony-square-mall-parking-lot.webp",title:"Colony Square Mall",alt:"Parking lot for Colony Square Mall"},{filename:"commercial-business-lot.webp",title:"Commercial Business Lot",alt:"Commercial business parking lot"},{filename:"commercial-lots-2.webp",title:"Commercial Parking Lots",alt:"Multiple commercial parking lots"},{filename:"commercial-lots.webp",title:"Commercial Parking Lots",alt:"Commercial parking lot projects"},{filename:"commercial-park-paths.webp",title:"Commercial Park Paths",alt:"Paved paths in commercial park"},{filename:"commercial-parking-lot-10.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-2.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-3.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-4.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-5.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-6.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-7.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-8.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-9.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-parking-lot-close-up.webp",title:"Parking Lot Close Up",alt:"Close up view of commercial parking lot"},{filename:"commercial-parking-lot-fresh-lines.webp",title:"Fresh Line Striping",alt:"Parking lot with fresh painted lines"},{filename:"commercial-parking-lot-sealed.webp",title:"Sealed Parking Lot",alt:"Sealed commercial parking lot"},{filename:"commercial-parking-lot.webp",title:"Commercial Parking Lot",alt:"Commercial parking lot paving"},{filename:"commercial-storage-facility.webp",title:"Storage Facility",alt:"Paving for commercial storage facility"},{filename:"downtown-paving-st-james.webp",title:"Downtown St. James",alt:"Downtown street paving in St. James"},{filename:"downtown-paving.webp",title:"Downtown Paving",alt:"Downtown street paving project"},{filename:"downtown-st-james.webp",title:"Downtown St. James",alt:"Street paving in downtown St. James"},{filename:"five-below-parking-lot-1.webp",title:"Five Below Parking Lot",alt:"Parking lot for Five Below store"},{filename:"five-below-parking-lot-2.webp",title:"Five Below Parking Lot",alt:"Parking lot for Five Below store"},{filename:"five-below-parking-lot-3.webp",title:"Five Below Parking Lot",alt:"Parking lot for Five Below store"},{filename:"friscos.webp",title:"Frisco's Parking Lot",alt:"Parking lot paving for Frisco's"},{filename:"hamilton-waltman-melsheimer-1.webp",title:"Hamilton Waltman Melsheimer",alt:"Commercial paving project"},{filename:"hamilton-waltman-melsheimer-2.webp",title:"Hamilton Waltman Melsheimer",alt:"Commercial paving project"},{filename:"hamilton-waltman-melsheimer-3.webp",title:"Hamilton Waltman Melsheimer",alt:"Commercial paving project"},{filename:"hamilton-waltman-melsheimer-4.webp",title:"Hamilton Waltman Melsheimer",alt:"Commercial paving project"},{filename:"hamilton-waltman-melsheimer-5.webp",title:"Hamilton Waltman Melsheimer",alt:"Commercial paving project"},{filename:"hamilton-waltman-melsheimer-6.webp",title:"Hamilton Waltman Melsheimer",alt:"Commercial paving project"},{filename:"holiday-inn-express-1.webp",title:"Holiday Inn Express",alt:"Parking lot for Holiday Inn Express"},{filename:"holiday-inn-express-2.webp",title:"Holiday Inn Express",alt:"Parking lot for Holiday Inn Express"},{filename:"holiday-inn-express-3.webp",title:"Holiday Inn Express",alt:"Parking lot for Holiday Inn Express"},{filename:"large-commercial-lot.webp",title:"Large Commercial Lot",alt:"Large commercial parking lot"},{filename:"large-parking-lot-asphalt.webp",title:"Large Parking Lot",alt:"Large asphalt parking lot"},{filename:"manufacturing-business-asphalt.webp",title:"Manufacturing Facility",alt:"Asphalt for manufacturing business"},{filename:"multi-tenant-1.webp",title:"Multi-Tenant Complex",alt:"Parking for multi-tenant building"},{filename:"multi-tenant-2.webp",title:"Multi-Tenant Complex",alt:"Parking for multi-tenant building"},{filename:"multi-tenant-3.webp",title:"Multi-Tenant Complex",alt:"Parking for multi-tenant building"},{filename:"multi-tenant-4.webp",title:"Multi-Tenant Complex",alt:"Parking for multi-tenant building"},{filename:"office-building-parking-lot.webp",title:"Office Building",alt:"Office building parking lot"},{filename:"parking-lot-sealcoat.webp",title:"Sealcoated Parking Lot",alt:"Freshly sealcoated parking lot"},{filename:"parking-lot-stripes.webp",title:"Parking Lot Striping",alt:"Parking lot with fresh striping"},{filename:"riesbecks-gas-station-1.webp",title:"Riesbeck's Gas Station",alt:"Paving for Riesbeck's gas station"},{filename:"riesbecks-gas-station-2.webp",title:"Riesbeck's Gas Station",alt:"Paving for Riesbeck's gas station"},{filename:"riesbecks-gas-station-3.webp",title:"Riesbeck's Gas Station",alt:"Paving for Riesbeck's gas station"},{filename:"shopping-center-parking-lot.webp",title:"Shopping Center",alt:"Shopping center parking lot"},{filename:"small-business-lot.webp",title:"Small Business Lot",alt:"Parking lot for small business"},{filename:"st-james-street-paving.webp",title:"St. James Street",alt:"Street paving in St. James"},{filename:"st-james-street-work.webp",title:"St. James Street Work",alt:"Street work in St. James"},{filename:"storage-units-parking.webp",title:"Storage Units",alt:"Parking area for storage units"},{filename:"strip-mall-parking-lot.webp",title:"Strip Mall Parking",alt:"Strip mall parking lot"},{filename:"the-barn-finished.webp",title:"The Barn - Completed",alt:"Completed parking lot for The Barn"},{filename:"the-barn-parking-lot.webp",title:"The Barn Parking Lot",alt:"Parking lot project for The Barn"},{filename:"warehouse-parking-lot.webp",title:"Warehouse Parking",alt:"Warehouse parking lot"},{filename:"zebra-striping.webp",title:"Zebra Striping",alt:"Parking lot with zebra striping"}],residential:[{filename:"asphalt-driveway-barn.webp",title:"Asphalt Driveway with Barn",alt:"Residential driveway leading to barn"},{filename:"asphalt-driveway.webp",title:"Asphalt Driveway",alt:"Residential asphalt driveway"},{filename:"basket-ball-court.webp",title:"Basketball Court",alt:"Residential basketball court"},{filename:"basketball-court-close-up.webp",title:"Basketball Court Close Up",alt:"Close up of residential basketball court"},{filename:"basketball-court-driveway.webp",title:"Basketball Court & Driveway",alt:"Driveway with basketball court"},{filename:"basketball-court.webp",title:"Basketball Court",alt:"Residential basketball court"},{filename:"cart-path.webp",title:"Cart Path",alt:"Residential cart path"},{filename:"country-driveway.webp",title:"Country Driveway",alt:"Country residential driveway"},{filename:"country-flag-pole-driveway.webp",title:"Country Driveway with Flag",alt:"Country driveway with flag pole"},{filename:"custom-driveway.webp",title:"Custom Driveway",alt:"Custom residential driveway"},{filename:"custom-mansion-driveway.webp",title:"Custom Mansion Driveway",alt:"Luxury mansion driveway"},{filename:"driveway-1.webp",title:"Residential Driveway",alt:"Residential driveway paving"},{filename:"driveway-2.webp",title:"Residential Driveway",alt:"Residential driveway paving"},{filename:"driveway-turnaround.webp",title:"Driveway Turnaround",alt:"Residential driveway with turnaround"},{filename:"house-driveway.webp",title:"House Driveway",alt:"Residential house driveway"},{filename:"long-driveway.webp",title:"Long Driveway",alt:"Long residential driveway"},{filename:"luxury-home-driveway.webp",title:"Luxury Home Driveway",alt:"Driveway for luxury home"},{filename:"new-asphalt-driveway.webp",title:"New Asphalt Driveway",alt:"Newly paved asphalt driveway"},{filename:"residential-driveway-paving.webp",title:"Driveway Paving",alt:"Residential driveway paving project"},{filename:"residential-driveway.webp",title:"Residential Driveway",alt:"Residential driveway"},{filename:"residential-turnaround.webp",title:"Residential Turnaround",alt:"Driveway turnaround area"},{filename:"stone-lined-driveway.webp",title:"Stone Lined Driveway",alt:"Driveway with stone borders"},{filename:"winding-driveway.webp",title:"Winding Driveway",alt:"Winding residential driveway"}],equipment:[{filename:"leeboy-closeup.webp",title:"Leeboy Equipment Close Up",alt:"Close up of Leeboy paving equipment"},{filename:"leeboy-in-action-loading.webp",title:"Leeboy Loading",alt:"Leeboy equipment being loaded"},{filename:"leeboy-in-action-tar-drop.webp",title:"Leeboy Tar Application",alt:"Leeboy equipment applying tar"},{filename:"leeboy-in-action-top-down.webp",title:"Leeboy Top View",alt:"Top down view of Leeboy equipment"},{filename:"leeboy-in-action.webp",title:"Leeboy in Action",alt:"Leeboy paving equipment in action"}],concrete:[{filename:"concrete-convenience-store.webp",title:"Convenience Store Concrete",alt:"Concrete work at convenience store"},{filename:"concrete-drain-covers.webp",title:"Concrete Drain Covers",alt:"Concrete drain cover installation"},{filename:"concrete-man-hole-covers.webp",title:"Concrete Manhole Covers",alt:"Concrete manhole cover work"},{filename:"concrete-pad.webp",title:"Concrete Pad",alt:"Concrete pad installation"}]},M="/Neff-Paving/",T="production",A=("undefined"!=typeof window&&window.location.search.includes("debug=assets"),{vercel:{useRelativePaths:!1,assetPrefix:"",cdnEnabled:!0,cacheStrategy:"aggressive"},github:{useRelativePaths:!0,assetPrefix:"/Neff-Paving",cdnEnabled:!1,cacheStrategy:"moderate"},development:{useRelativePaths:!1,assetPrefix:"",cdnEnabled:!1,cacheStrategy:"none"}});function P(){return A[T]||A.github}function D(e,t={}){"undefined"!=typeof window&&window.location.search.includes("debug=assets");const n=P(),{useRelative:a=n.useRelativePaths,addCacheBusting:r=!0,forceAbsolute:i=!1}=t;let s=e;if(e.startsWith("http://")||e.startsWith("https://"))return e;const o=e.startsWith("/")?e.slice(1):e;if(s="/"+o,s=s.replace(/([^:])\/{2,}/g,"$1/"),r&&"none"!==n.cacheStrategy){const e=s.includes("?")?"&":"?";s+=`${e}v=${"aggressive"===n.cacheStrategy?1753881568460:"2025-07-30T13:19:28.460Z"}`}return s}function q(){if("undefined"!=typeof document&&(function(e=[]){if("undefined"==typeof document)return;[{type:"style",href:"/assets/main.css",as:"style"},{type:"script",href:"/src/main.js",as:"script"},{type:"font",href:"https://fonts.gstatic.com/s/oswald/v49/TK3IWkUHHAIjg75cFRf3bXL8LICs1_Fw.woff2",as:"font",crossorigin:!0},{type:"image",href:"/assets/images/logo.png",as:"image"},...e].forEach(e=>{if(document.querySelector(`link[href="${e.href}"]`))return;const t=document.createElement("link");t.rel="font"===e.type?"preload":"prefetch",t.href=D(e.href,{addCacheBusting:!1}),t.as=e.as,e.crossorigin&&(t.crossOrigin="anonymous"),"font"===e.type&&(t.type="font/woff2"),document.head.appendChild(t)})}(),function(){if("undefined"==typeof document)return;document.querySelectorAll(['a[href^="/"]:not([href^="//"])','img[src^="/"]:not([src^="//"])','link[href^="/"]:not([href^="//"])','script[src^="/"]:not([src^="//"])','source[src^="/"]:not([src^="//"])','video[src^="/"]:not([src^="//"])','audio[src^="/"]:not([src^="//"])','[style*="url(/"]'].join(", ")).forEach(e=>{try{const t=e.tagName.toLowerCase();let n,a;if("a"===t||"link"===t)n="href";else if(["img","script","source","video","audio"].includes(t))n="src";else if(e.hasAttribute("style")){const t=e.getAttribute("style"),n=t.match(/url\(([^)]+)\)/g);if(n){let a=t;n.forEach(e=>{const t=e.replace(/url\(['"]?([^'"]+)['"]?\)/,"$1");if(t.startsWith("/")&&!t.startsWith("//")){const n=D(t);a=a.replace(e,`url(${n})`)}}),e.setAttribute("style",a)}return}if(n&&(a=e.getAttribute(n),a&&a.startsWith("/")&&!a.startsWith("//")&&!a.startsWith(M)&&!a.startsWith("http"))){const t=D(a,{addCacheBusting:!e.hasAttribute("data-no-cache-bust")});e.setAttribute(n,t)}}catch(t){}})}(),"IntersectionObserver"in window)){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=D(n.dataset.src),n.removeAttribute("data-src"),t.unobserve(n))}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}"undefined"!=typeof document&&"loading"===document.readyState?document.addEventListener("DOMContentLoaded",q):"undefined"!=typeof document&&q();class O{constructor(e){this.galleryElement=e,this.galleryContainer=e.querySelector(".gallery"),this.filterButtons=document.querySelectorAll(".button-group .button"),this.galleryItems=[],this.lightbox=new I,this.init()}init(){this.loadGalleryImages(),this.initFilters(),this.initLightbox(),this.filterItems("all"),this.filterButtons.length>0&&this.filterButtons[0].classList.add("cs-active")}loadGalleryImages(){this.galleryContainer.innerHTML="",Object.entries(L).forEach(([e,t])=>{t.forEach(t=>{const n=this.createGalleryCard(t,e);this.galleryContainer.appendChild(n),this.galleryItems.push(n)})})}createGalleryCard(e,t){const n=document.createElement("div");n.className="gallery-card",n.setAttribute("data-category",t);const a=D(`/assets/gallery/${t}/${e.filename}`);return n.innerHTML=`\n            <div class="card-image">\n                <picture class="image">\n                    <source media="(max-width: 600px)" srcset="${a}">\n                    <source media="(min-width: 601px)" srcset="${a}">\n                    <img loading="lazy" decoding="async" src="${a}" alt="${e.alt}" width="630" height="400">\n                </picture>\n            </div>\n            <div class="card-overlay">\n                <div class="card-title">${e.title}</div>\n                <div class="card-category">${t.charAt(0).toUpperCase()+t.slice(1)}</div>\n            </div>\n        `,n}initFilters(){this.filterButtons.forEach(e=>{e.addEventListener("click",()=>this.handleFilterClick(e))})}initLightbox(){this.galleryContainer.addEventListener("click",e=>{const t=e.target.closest(".gallery-card");if(!t)return;if(-1===this.galleryItems.indexOf(t))return;const n=this.galleryItems.filter(e=>"none"!==e.style.display).map(e=>({src:e.querySelector("img").src,title:e.querySelector(".card-title").textContent,category:e.querySelector(".card-category").textContent,alt:e.querySelector("img").alt})),a=this.galleryItems.filter(e=>"none"!==e.style.display).indexOf(t);this.lightbox.open(n,a)})}handleFilterClick(e){this.filterButtons.forEach(e=>e.classList.remove("cs-active")),e.classList.add("cs-active");const t=e.dataset.filter;this.filterItems(t)}filterItems(t){this.galleryItems.forEach(e=>{const n=e.dataset.category,a="all"===t||n===t;e.style.display=a?"block":"none"});const n=this.galleryItems.filter(e=>"block"===e.style.display);e.fromTo(n,{opacity:0,y:40},{opacity:1,y:0,duration:.8,stagger:.15,ease:"power2.out"})}}const B="loaded",F="error",_=new Map,R=new Map;const j=new class{constructor(e={}){this.config={maxConcurrentLoads:6,retryAttempts:3,retryDelay:1e3,enableCache:!0,enablePreloading:!0,enableLazyLoading:!0,...e},this.currentLoads=0,this.loadQueue=[],this.observers=new Map,this.config.enableLazyLoading&&"IntersectionObserver"in window&&this.initLazyLoading()}async loadAsset(e,t={}){const n=D(e),a=n;if(this.config.enableCache&&_.has(a)){const e=_.get(a);if(e.state===B)return e.data;if(e.state===F&&!t.forceRetry)throw e.error}if(R.has(a))return R.get(a);const r=this._loadAssetWithRetry(n,t);R.set(a,r);try{const e=await r;return this.config.enableCache&&_.set(a,{state:B,data:e,timestamp:Date.now()}),e}catch(i){throw this.config.enableCache&&_.set(a,{state:F,error:i,timestamp:Date.now()}),i}finally{R.delete(a),this.currentLoads--,this._processQueue()}}async loadAssets(e,t={}){const{failFast:n=!1,maxConcurrent:a=this.config.maxConcurrentLoads}=t,r=e.map(e=>{const n="string"==typeof e?e:e.path,a="object"==typeof e?{...t,...e}:t;return this.loadAsset(n,a)});return n?Promise.all(r):Promise.allSettled(r)}preloadCriticalAssets(e=[]){if(!this.config.enablePreloading)return;[{path:"/assets/styles/main.css",type:"style",priority:"high"},{path:"/entries/main.js",type:"script",priority:"high"},{path:"/assets/images/logo.png",type:"image",priority:"medium"},...e].forEach(e=>{this._createPreloadLink(e)})}initLazyLoading(){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(this._loadLazyImage(e.target),t.unobserve(e.target))})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)}),this.observers.set("lazyImages",e)}addLazyImages(e=document){if(!this.observers.has("lazyImages"))return;const t=this.observers.get("lazyImages");e.querySelectorAll("img[data-src]").forEach(e=>{t.observe(e)})}loadImage(e,t={}){return new Promise((n,a)=>{const r=new Image,i=D(e);r.onload=()=>n(r),r.onerror=()=>{if(t.fallback){const r=new Image;r.onload=()=>n(r),r.onerror=()=>a(new Error(`Failed to load image: ${e} and fallback`)),r.src=D(t.fallback)}else a(new Error(`Failed to load image: ${e}`))},t.crossOrigin&&(r.crossOrigin=t.crossOrigin),t.decoding&&(r.decoding=t.decoding),t.loading&&(r.loading=t.loading),r.src=i})}loadCSS(e,t={}){return new Promise((n,a)=>{const r=document.createElement("link"),i=D(e);r.rel="stylesheet",r.type="text/css",r.href=i,t.media&&(r.media=t.media),t.crossOrigin&&(r.crossOrigin=t.crossOrigin),r.onload=()=>n(r),r.onerror=()=>a(new Error(`Failed to load CSS: ${e}`)),document.head.appendChild(r)})}loadJS(e,t={}){return new Promise((n,a)=>{const r=document.createElement("script"),i=D(e);r.src=i,r.type=t.type||"text/javascript",void 0!==t.async&&(r.async=t.async),void 0!==t.defer&&(r.defer=t.defer),t.crossOrigin&&(r.crossOrigin=t.crossOrigin),t.integrity&&(r.integrity=t.integrity),r.onload=()=>n(r),r.onerror=()=>a(new Error(`Failed to load script: ${e}`)),document.head.appendChild(r)})}clearCache(e=null){if(e){const t=new RegExp(e);for(const[e]of _)t.test(e)&&_.delete(e)}else _.clear()}getCacheStats(){const e={size:_.size,loaded:0,error:0,totalSize:0};for(const[t,n]of _)n.state===B?e.loaded++:n.state===F&&e.error++;return e}async _loadAssetWithRetry(e,t={}){const{retryAttempts:n=this.config.retryAttempts}=t;for(let r=0;r<=n;r++)try{return await this._loadAssetDirect(e,t)}catch(a){if(r===n)throw a;await new Promise(e=>setTimeout(e,this.config.retryDelay*Math.pow(2,r)))}}async _loadAssetDirect(e,t={}){const{type:n=this._detectAssetType(e)}=t;switch(n){case"image":return this.loadImage(e,t);case"css":return this.loadCSS(e,t);case"js":return this.loadJS(e,t);default:const n=await fetch(e);if(!n.ok)throw new Error(`Failed to load asset: ${e} (${n.status})`);return n}}_detectAssetType(e){var t;const n=null==(t=e.split(".").pop())?void 0:t.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(n)?"image":"css"===n?"css":["js","mjs"].includes(n)?"js":"unknown"}_createPreloadLink(e){if(document.querySelector(`link[href="${D(e.path)}"]`))return;const t=document.createElement("link");t.rel="font"===e.type?"preload":"prefetch",t.href=D(e.path),t.as=e.as||e.type,"font"===e.type&&(t.type="font/woff2",t.crossOrigin="anonymous"),"high"===e.priority&&(t.fetchPriority="high"),document.head.appendChild(t)}async _loadLazyImage(e){try{const t=e.dataset.src;if(!t)return;const n=await this.loadImage(t,{crossOrigin:e.crossOrigin,decoding:"async"});e.src=n.src,e.removeAttribute("data-src"),e.classList.add("loaded"),e.dispatchEvent(new Event("load"))}catch(t){e.classList.add("error")}}_processQueue(){for(;this.loadQueue.length>0&&this.currentLoads<this.config.maxConcurrentLoads;){const e=this.loadQueue.shift();this.currentLoads++,e()}}};function $(){const e=["/assets/images/logo.png","/assets/styles/main.css","/entries/main.js","assets/images/hero-bg.jpg","styles/main.css","https://external.com/image.jpg","/favicon.ico"];e.forEach(e=>{const t=D(e);t.includes("//")&&t.startsWith("http"),t.includes("/Neff-Paving//")});return["index.html","/index.html","services/","/services/"].forEach(e=>{!function(e){const t=e.startsWith("/")?e.slice(1):e;((M.endsWith("/")?M:M+"/")+t).replace(/([^:])\/{2,}/g,"$1/")}(e)}),{buildVars:{baseUrl:"/Neff-Paving/",deployMode:"production",isVercel:!1,isGitHub:!1},computedValues:{BASE_URL:M,DEPLOY_MODE:T,baseUrl:M,envConfig:P()},testResults:e.map(e=>({input:e,output:D(e),hasIssues:D(e).includes("//")&&!D(e).startsWith("http")}))}}function z(){const e=new Image,t=D("/assets/images/logo.png");e.onload=()=>{},e.onerror=()=>{},e.src=t;const n=document.createElement("link");n.rel="stylesheet",n.type="text/css";const a=D("/assets/styles/test.css");n.onload=()=>{n.remove()},n.onerror=()=>{n.remove()},n.href=a,document.head.appendChild(n)}function N(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}
/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{j.preloadCriticalAssets()}):j.preloadCriticalAssets(),"undefined"!=typeof window&&window.location.search.includes("debug=assets")&&document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{$(),z()},1e3)}),"undefined"!=typeof window&&(window.debugAssetPaths=$,window.testAssetLoading=z,window.fixDoubleSlashes=function(){['img[src*="//"]','link[href*="//"]','script[src*="//"]','a[href*="//"]'].forEach(e=>{document.querySelectorAll(e).forEach(e=>{const t="a"===e.tagName.toLowerCase()||"link"===e.tagName.toLowerCase()?"href":"src",n=e.getAttribute(t);if(n&&n.includes("//")&&!n.startsWith("http")){const a=n.replace(/\/+/g,"/");e.setAttribute(t,a)}})})},window.disableAssetOptimization=function(){window.originalGetAssetPath=window.getAssetPath,window.getAssetPath=function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/"+e}},window.enableAssetOptimization=function(){window.originalGetAssetPath&&(window.getAssetPath=window.originalGetAssetPath,delete window.originalGetAssetPath)});var G,H,W,V,U,Y,X,J,Z,Q,K,ee,te,ne=function(){return G||"undefined"!=typeof window&&(G=window.gsap)&&G.registerPlugin&&G},ae=1,re=[],ie=[],se=[],oe=Date.now,le=function(e,t){return t},ce=function(e,t){return~se.indexOf(e)&&se[se.indexOf(e)+1][t]},de=function(e){return!!~Q.indexOf(e)},ue=function(e,t,n,a,r){return e.addEventListener(t,n,{passive:!1!==a,capture:!!r})},me=function(e,t,n,a){return e.removeEventListener(t,n,!!a)},pe="scrollLeft",ge="scrollTop",he=function(){return K&&K.isPressed||ie.cache++},fe=function(e,t){var n=function n(a){if(a||0===a){ae&&(W.history.scrollRestoration="manual");var r=K&&K.isPressed;a=n.v=Math.round(a)||(K&&K.iOS?1:0),e(a),n.cacheID=ie.cache,r&&le("ss",a)}else(t||ie.cache!==n.cacheID||le("ref"))&&(n.cacheID=ie.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},ve={s:pe,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:fe(function(e){return arguments.length?W.scrollTo(e,ye.sc()):W.pageXOffset||V[pe]||U[pe]||Y[pe]||0})},ye={s:ge,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ve,sc:fe(function(e){return arguments.length?W.scrollTo(ve.sc(),e):W.pageYOffset||V[ge]||U[ge]||Y[ge]||0})},be=function(e,t){return(t&&t._ctx&&t._ctx.selector||G.utils.toArray)(e)[0]||("string"==typeof e&&!1!==G.config().nullTargetWarn?void 0:null)},we=function(e,t){var n=t.s,a=t.sc;de(e)&&(e=V.scrollingElement||U);var r=ie.indexOf(e),i=a===ye.sc?1:2;!~r&&(r=ie.push(e)-1),ie[r+i]||ue(e,"scroll",he);var s=ie[r+i],o=s||(ie[r+i]=fe(ce(e,n),!0)||(de(e)?a:fe(function(t){return arguments.length?e[n]=t:e[n]})));return o.target=e,s||(o.smooth="smooth"===G.getProperty(e,"scrollBehavior")),o},xe=function(e,t,n){var a=e,r=e,i=oe(),s=i,o=t||50,l=Math.max(500,3*o),c=function(e,t){var l=oe();t||l-i>o?(r=a,a=e,s=i,i=l):n?a+=e:a=r+(e-r)/(l-s)*(i-s)};return{update:c,reset:function(){r=a=n?0:a,s=i=0},getVelocity:function(e){var t=s,o=r,d=oe();return(e||0===e)&&e!==a&&c(e),i===s||d-s>l?0:(a+(n?o:-o))/((n?d:i)-t)*1e3}}},Se=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Ee=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},ke=function(){var e,t,n,a;(Z=G.core.globals().ScrollTrigger)&&Z.core&&(e=Z.core,t=e.bridge||{},n=e._scrollers,a=e._proxies,n.push.apply(n,ie),a.push.apply(a,se),ie=n,se=a,le=function(e,n){return t[e](n)})},Ce=function(e){return G=e||ne(),!H&&G&&"undefined"!=typeof document&&document.body&&(W=window,V=document,U=V.documentElement,Y=V.body,Q=[W,V,U,Y],G.utils.clamp,te=G.core.context||function(){},J="onpointerenter"in Y?"pointer":"mouse",X=Ie.isTouch=W.matchMedia&&W.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in W||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,ee=Ie.eventTypes=("ontouchstart"in U?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in U?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ae=0},500),ke(),H=1),H};ve.op=ye,ie.cache=0;var Ie=function(){function e(e){this.init(e)}return e.prototype.init=function(e){H||Ce(G),Z||ke();var t=e.tolerance,n=e.dragMinimum,a=e.type,r=e.target,i=e.lineHeight,s=e.debounce,o=e.preventDefault,l=e.onStop,c=e.onStopDelay,d=e.ignore,u=e.wheelSpeed,m=e.event,p=e.onDragStart,g=e.onDragEnd,h=e.onDrag,f=e.onPress,v=e.onRelease,y=e.onRight,b=e.onLeft,w=e.onUp,x=e.onDown,S=e.onChangeX,E=e.onChangeY,k=e.onChange,C=e.onToggleX,I=e.onToggleY,L=e.onHover,M=e.onHoverEnd,T=e.onMove,A=e.ignoreCheck,P=e.isNormalizer,D=e.onGestureStart,q=e.onGestureEnd,O=e.onWheel,B=e.onEnable,F=e.onDisable,_=e.onClick,R=e.scrollSpeed,j=e.capture,$=e.allowClicks,z=e.lockAxis,N=e.onLockAxis;this.target=r=be(r)||U,this.vars=e,d&&(d=G.utils.toArray(d)),t=t||1e-9,n=n||0,u=u||1,R=R||1,a=a||"wheel,touch,pointer",s=!1!==s,i||(i=parseFloat(W.getComputedStyle(Y).lineHeight)||22);var Q,ne,ae,ie,se,le,ce,pe=this,ge=0,fe=0,Ie=e.passive||!o&&!1!==e.passive,Le=we(r,ve),Me=we(r,ye),Te=Le(),Ae=Me(),Pe=~a.indexOf("touch")&&!~a.indexOf("pointer")&&"pointerdown"===ee[0],De=de(r),qe=r.ownerDocument||V,Oe=[0,0,0],Be=[0,0,0],Fe=0,_e=function(){return Fe=oe()},Re=function(e,t){return(pe.event=e)&&d&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,d)||t&&Pe&&"touch"!==e.pointerType||A&&A(e,t)},je=function(){var e=pe.deltaX=Ee(Oe),n=pe.deltaY=Ee(Be),a=Math.abs(e)>=t,r=Math.abs(n)>=t;k&&(a||r)&&k(pe,e,n,Oe,Be),a&&(y&&pe.deltaX>0&&y(pe),b&&pe.deltaX<0&&b(pe),S&&S(pe),C&&pe.deltaX<0!=ge<0&&C(pe),ge=pe.deltaX,Oe[0]=Oe[1]=Oe[2]=0),r&&(x&&pe.deltaY>0&&x(pe),w&&pe.deltaY<0&&w(pe),E&&E(pe),I&&pe.deltaY<0!=fe<0&&I(pe),fe=pe.deltaY,Be[0]=Be[1]=Be[2]=0),(ie||ae)&&(T&&T(pe),ae&&(p&&1===ae&&p(pe),h&&h(pe),ae=0),ie=!1),le&&!(le=!1)&&N&&N(pe),se&&(O(pe),se=!1),Q=0},$e=function(e,t,n){Oe[n]+=e,Be[n]+=t,pe._vx.update(e),pe._vy.update(t),s?Q||(Q=requestAnimationFrame(je)):je()},ze=function(e,t){z&&!ce&&(pe.axis=ce=Math.abs(e)>Math.abs(t)?"x":"y",le=!0),"y"!==ce&&(Oe[2]+=e,pe._vx.update(e,!0)),"x"!==ce&&(Be[2]+=t,pe._vy.update(t,!0)),s?Q||(Q=requestAnimationFrame(je)):je()},Ne=function(e){if(!Re(e,1)){var t=(e=Se(e,o)).clientX,a=e.clientY,r=t-pe.x,i=a-pe.y,s=pe.isDragging;pe.x=t,pe.y=a,(s||(r||i)&&(Math.abs(pe.startX-t)>=n||Math.abs(pe.startY-a)>=n))&&(ae=s?2:1,s||(pe.isDragging=!0),ze(r,i))}},Ge=pe.onPress=function(e){Re(e,1)||e&&e.button||(pe.axis=ce=null,ne.pause(),pe.isPressed=!0,e=Se(e),ge=fe=0,pe.startX=pe.x=e.clientX,pe.startY=pe.y=e.clientY,pe._vx.reset(),pe._vy.reset(),ue(P?r:qe,ee[1],Ne,Ie,!0),pe.deltaX=pe.deltaY=0,f&&f(pe))},He=pe.onRelease=function(e){if(!Re(e,1)){me(P?r:qe,ee[1],Ne,!0);var t=!isNaN(pe.y-pe.startY),n=pe.isDragging,a=n&&(Math.abs(pe.x-pe.startX)>3||Math.abs(pe.y-pe.startY)>3),i=Se(e);!a&&t&&(pe._vx.reset(),pe._vy.reset(),o&&$&&G.delayedCall(.08,function(){if(oe()-Fe>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(qe.createEvent){var t=qe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,W,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),pe.isDragging=pe.isGesturing=pe.isPressed=!1,l&&n&&!P&&ne.restart(!0),ae&&je(),g&&n&&g(pe),v&&v(pe,a)}},We=function(e){return e.touches&&e.touches.length>1&&(pe.isGesturing=!0)&&D(e,pe.isDragging)},Ve=function(){return(pe.isGesturing=!1)||q(pe)},Ue=function(e){if(!Re(e)){var t=Le(),n=Me();$e((t-Te)*R,(n-Ae)*R,1),Te=t,Ae=n,l&&ne.restart(!0)}},Ye=function(e){if(!Re(e)){e=Se(e,o),O&&(se=!0);var t=(1===e.deltaMode?i:2===e.deltaMode?W.innerHeight:1)*u;$e(e.deltaX*t,e.deltaY*t,0),l&&!P&&ne.restart(!0)}},Xe=function(e){if(!Re(e)){var t=e.clientX,n=e.clientY,a=t-pe.x,r=n-pe.y;pe.x=t,pe.y=n,ie=!0,l&&ne.restart(!0),(a||r)&&ze(a,r)}},Je=function(e){pe.event=e,L(pe)},Ze=function(e){pe.event=e,M(pe)},Qe=function(e){return Re(e)||Se(e,o)&&_(pe)};ne=pe._dc=G.delayedCall(c||.25,function(){pe._vx.reset(),pe._vy.reset(),ne.pause(),l&&l(pe)}).pause(),pe.deltaX=pe.deltaY=0,pe._vx=xe(0,50,!0),pe._vy=xe(0,50,!0),pe.scrollX=Le,pe.scrollY=Me,pe.isDragging=pe.isGesturing=pe.isPressed=!1,te(this),pe.enable=function(e){return pe.isEnabled||(ue(De?qe:r,"scroll",he),a.indexOf("scroll")>=0&&ue(De?qe:r,"scroll",Ue,Ie,j),a.indexOf("wheel")>=0&&ue(r,"wheel",Ye,Ie,j),(a.indexOf("touch")>=0&&X||a.indexOf("pointer")>=0)&&(ue(r,ee[0],Ge,Ie,j),ue(qe,ee[2],He),ue(qe,ee[3],He),$&&ue(r,"click",_e,!0,!0),_&&ue(r,"click",Qe),D&&ue(qe,"gesturestart",We),q&&ue(qe,"gestureend",Ve),L&&ue(r,J+"enter",Je),M&&ue(r,J+"leave",Ze),T&&ue(r,J+"move",Xe)),pe.isEnabled=!0,pe.isDragging=pe.isGesturing=pe.isPressed=ie=ae=!1,pe._vx.reset(),pe._vy.reset(),Te=Le(),Ae=Me(),e&&e.type&&Ge(e),B&&B(pe)),pe},pe.disable=function(){pe.isEnabled&&(re.filter(function(e){return e!==pe&&de(e.target)}).length||me(De?qe:r,"scroll",he),pe.isPressed&&(pe._vx.reset(),pe._vy.reset(),me(P?r:qe,ee[1],Ne,!0)),me(De?qe:r,"scroll",Ue,j),me(r,"wheel",Ye,j),me(r,ee[0],Ge,j),me(qe,ee[2],He),me(qe,ee[3],He),me(r,"click",_e,!0),me(r,"click",Qe),me(qe,"gesturestart",We),me(qe,"gestureend",Ve),me(r,J+"enter",Je),me(r,J+"leave",Ze),me(r,J+"move",Xe),pe.isEnabled=pe.isPressed=pe.isDragging=!1,F&&F(pe))},pe.kill=pe.revert=function(){pe.disable();var e=re.indexOf(pe);e>=0&&re.splice(e,1),K===pe&&(K=0)},re.push(pe),P&&de(r)&&(K=pe),pe.enable(m)},N(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();Ie.version="3.13.0",Ie.create=function(e){return new Ie(e)},Ie.register=Ce,Ie.getAll=function(){return re.slice()},Ie.getById=function(e){return re.filter(function(t){return t.vars.id===e})[0]},ne()&&G.registerPlugin(Ie);
/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
var Le,Me,Te,Ae,Pe,De,qe,Oe,Be,Fe,_e,Re,je,$e,ze,Ne,Ge,He,We,Ve,Ue,Ye,Xe,Je,Ze,Qe,Ke,et,tt,nt,at,rt,it,st,ot,lt,ct,dt,ut=1,mt=Date.now,pt=mt(),gt=0,ht=0,ft=function(e,t,n){var a=At(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=a,a?e.substr(6,e.length-7):e},vt=function(e,t){return!t||At(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},yt=function e(){return ht&&requestAnimationFrame(e)},bt=function(){return $e=1},wt=function(){return $e=0},xt=function(e){return e},St=function(e){return Math.round(1e5*e)/1e5||0},Et=function(){return"undefined"!=typeof window},kt=function(){return Le||Et()&&(Le=window.gsap)&&Le.registerPlugin&&Le},Ct=function(e){return!!~qe.indexOf(e)},It=function(e){return("Height"===e?at:Te["inner"+e])||Pe["client"+e]||De["client"+e]},Lt=function(e){return ce(e,"getBoundingClientRect")||(Ct(e)?function(){return zn.width=Te.innerWidth,zn.height=at,zn}:function(){return Kt(e)})},Mt=function(e,t){var n=t.s,a=t.d2,r=t.d,i=t.a;return Math.max(0,(n="scroll"+a)&&(i=ce(e,n))?i()-Lt(e)()[r]:Ct(e)?(Pe[n]||De[n])-It(a):e[n]-e["offset"+a])},Tt=function(e,t){for(var n=0;n<We.length;n+=3)(!t||~t.indexOf(We[n+1]))&&e(We[n],We[n+1],We[n+2])},At=function(e){return"string"==typeof e},Pt=function(e){return"function"==typeof e},Dt=function(e){return"number"==typeof e},qt=function(e){return"object"==typeof e},Ot=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},Bt=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Ft=Math.abs,_t="left",Rt="right",jt="bottom",$t="width",zt="height",Nt="Right",Gt="Left",Ht="Top",Wt="Bottom",Vt="padding",Ut="margin",Yt="Width",Xt="Height",Jt="px",Zt=function(e){return Te.getComputedStyle(e)},Qt=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Kt=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Zt(e)[ze]&&Le.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=e.getBoundingClientRect();return n&&n.progress(0).kill(),a},en=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},tn=function(e){var t,n=[],a=e.labels,r=e.duration();for(t in a)n.push(a[t]/r);return n},nn=function(e){var t=Le.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,a,r){var i;if(void 0===r&&(r=.001),!a)return t(e);if(a>0){for(e-=r,i=0;i<n.length;i++)if(n[i]>=e)return n[i];return n[i-1]}for(i=n.length,e+=r;i--;)if(n[i]<=e)return n[i];return n[0]}:function(n,a,r){void 0===r&&(r=.001);var i=t(n);return!a||Math.abs(i-n)<r||i-n<0==a<0?i:t(a<0?n-e:n+e)}},an=function(e,t,n,a){return n.split(",").forEach(function(n){return e(t,n,a)})},rn=function(e,t,n,a,r){return e.addEventListener(t,n,{passive:!a,capture:!!r})},sn=function(e,t,n,a){return e.removeEventListener(t,n,!!a)},on=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},ln={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},cn={toggleActions:"play",anticipatePin:0},dn={top:0,left:0,center:.5,bottom:1,right:1},un=function(e,t){if(At(e)){var n=e.indexOf("="),a=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(a*=t/100),e=e.substr(0,n-1)),e=a+(e in dn?dn[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},mn=function(e,t,n,a,r,i,s,o){var l=r.startColor,c=r.endColor,d=r.fontSize,u=r.indent,m=r.fontWeight,p=Ae.createElement("div"),g=Ct(n)||"fixed"===ce(n,"pinType"),h=-1!==e.indexOf("scroller"),f=g?De:n,v=-1!==e.indexOf("start"),y=v?l:c,b="border-color:"+y+";font-size:"+d+";color:"+y+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((h||o)&&g?"fixed;":"absolute;"),(h||o||!g)&&(b+=(a===ye?Rt:jt)+":"+(i+parseFloat(u))+"px;"),s&&(b+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=b,p.innerText=t||0===t?e+"-"+t:e,f.children[0]?f.insertBefore(p,f.children[0]):f.appendChild(p),p._offset=p["offset"+a.op.d2],pn(p,0,a,v),p},pn=function(e,t,n,a){var r={display:"block"},i=n[a?"os2":"p2"],s=n[a?"p2":"os2"];e._isFlipped=a,r[n.a+"Percent"]=a?-100:0,r[n.a]=a?"1px":0,r["border"+i+Yt]=1,r["border"+s+Yt]=0,r[n.p]=t+"px",Le.set(e,r)},gn=[],hn={},fn=function(){return mt()-gt>34&&(ot||(ot=requestAnimationFrame(On)))},vn=function(){(!Xe||!Xe.isPressed||Xe.startX>De.clientWidth)&&(ie.cache++,Xe?ot||(ot=requestAnimationFrame(On)):On(),gt||En("scrollStart"),gt=mt())},yn=function(){Qe=Te.innerWidth,Ze=Te.innerHeight},bn=function(e){ie.cache++,(!0===e||!je&&!Ye&&!Ae.fullscreenElement&&!Ae.webkitFullscreenElement&&(!Je||Qe!==Te.innerWidth||Math.abs(Te.innerHeight-Ze)>.25*Te.innerHeight))&&Oe.restart(!0)},wn={},xn=[],Sn=function e(){return sn(Yn,"scrollEnd",e)||Pn(!0)},En=function(e){return wn[e]&&wn[e].map(function(e){return e()})||xn},kn=[],Cn=function(e){for(var t=0;t<kn.length;t+=5)(!e||kn[t+4]&&kn[t+4].query===e)&&(kn[t].style.cssText=kn[t+1],kn[t].getBBox&&kn[t].setAttribute("transform",kn[t+2]||""),kn[t+3].uncache=1)},In=function(e,t){var n;for(Ne=0;Ne<gn.length;Ne++)!(n=gn[Ne])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));rt=!0,t&&Cn(t),t||En("revert")},Ln=function(e,t){ie.cache++,(t||!lt)&&ie.forEach(function(e){return Pt(e)&&e.cacheID++&&(e.rec=0)}),At(e)&&(Te.history.scrollRestoration=tt=e)},Mn=0,Tn=function(){De.appendChild(nt),at=!Xe&&nt.offsetHeight||Te.innerHeight,De.removeChild(nt)},An=function(e){return Be(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Pn=function(e,t){if(Pe=Ae.documentElement,De=Ae.body,qe=[Te,Ae,Pe,De],!gt||e||rt){Tn(),lt=Yn.isRefreshing=!0,ie.forEach(function(e){return Pt(e)&&++e.cacheID&&(e.rec=e())});var n=En("refreshInit");Ve&&Yn.sort(),t||In(),ie.forEach(function(e){Pt(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),gn.slice(0).forEach(function(e){return e.refresh()}),rt=!1,gn.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),it=1,An(!0),gn.forEach(function(e){var t=Mt(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,a=e._startClamp&&e.start>=t;(n||a)&&e.setPositions(a?t-1:e.start,n?Math.max(a?t:e.start+1,t):e.end,!0)}),An(!1),it=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),ie.forEach(function(e){Pt(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),Ln(tt,1),Oe.pause(),Mn++,lt=2,On(2),gn.forEach(function(e){return Pt(e.vars.onRefresh)&&e.vars.onRefresh(e)}),lt=Yn.isRefreshing=!1,En("refresh")}else rn(Yn,"scrollEnd",Sn)},Dn=0,qn=1,On=function(e){if(2===e||!lt&&!rt){Yn.isUpdating=!0,dt&&dt.update(0);var t=gn.length,n=mt(),a=n-pt>=50,r=t&&gn[0].scroll();if(qn=Dn>r?-1:1,lt||(Dn=r),a&&(gt&&!$e&&n-gt>200&&(gt=0,En("scrollEnd")),_e=pt,pt=n),qn<0){for(Ne=t;Ne-- >0;)gn[Ne]&&gn[Ne].update(0,a);qn=1}else for(Ne=0;Ne<t;Ne++)gn[Ne]&&gn[Ne].update(0,a);Yn.isUpdating=!1}ot=0},Bn=[_t,"top",jt,Rt,Ut+Wt,Ut+Nt,Ut+Ht,Ut+Gt,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Fn=Bn.concat([$t,zt,"boxSizing","max"+Yt,"max"+Xt,"position",Ut,Vt,Vt+Ht,Vt+Nt,Vt+Wt,Vt+Gt]),_n=function(e,t,n,a){if(!e._gsap.swappedIn){for(var r,i=Bn.length,s=t.style,o=e.style;i--;)s[r=Bn[i]]=n[r];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),o[jt]=o[Rt]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[$t]=en(e,ve)+Jt,s[zt]=en(e,ye)+Jt,s[Vt]=o[Ut]=o.top=o[_t]="0",jn(a),o[$t]=o["max"+Yt]=n[$t],o[zt]=o["max"+Xt]=n[zt],o[Vt]=n[Vt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Rn=/([A-Z])/g,jn=function(e){if(e){var t,n,a=e.t.style,r=e.length,i=0;for((e.t._gsap||Le.core.getCache(e.t)).uncache=1;i<r;i+=2)n=e[i+1],t=e[i],n?a[t]=n:a[t]&&a.removeProperty(t.replace(Rn,"-$1").toLowerCase())}},$n=function(e){for(var t=Fn.length,n=e.style,a=[],r=0;r<t;r++)a.push(Fn[r],n[Fn[r]]);return a.t=e,a},zn={left:0,top:0},Nn=function(e,t,n,a,r,i,s,o,l,c,d,u,m,p){Pt(e)&&(e=e(o)),At(e)&&"max"===e.substr(0,3)&&(e=u+("="===e.charAt(4)?un("0"+e.substr(3),n):0));var g,h,f,v=m?m.time():0;if(m&&m.seek(0),isNaN(e)||(e=+e),Dt(e))m&&(e=Le.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,u,e)),s&&pn(s,n,a,!0);else{Pt(t)&&(t=t(o));var y,b,w,x,S=(e||"0").split(" ");f=be(t,o)||De,(y=Kt(f)||{})&&(y.left||y.top)||"none"!==Zt(f).display||(x=f.style.display,f.style.display="block",y=Kt(f),x?f.style.display=x:f.style.removeProperty("display")),b=un(S[0],y[a.d]),w=un(S[1]||"0",n),e=y[a.p]-l[a.p]-c+b+r-w,s&&pn(s,w,a,n-w<20||s._isStart&&w>20),n-=n-w}if(p&&(o[p]=e||-.001,e<0&&(e=0)),i){var E=e+n,k=i._isStart;g="scroll"+a.d2,pn(i,E,a,k&&E>20||!k&&(d?Math.max(De[g],Pe[g]):i.parentNode[g])<=E+1),d&&(l=Kt(s),d&&(i.style[a.op.p]=l[a.op.p]-a.op.m-i._offset+Jt))}return m&&f&&(g=Kt(f),m.seek(u),h=Kt(f),m._caScrollDist=g[a.p]-h[a.p],e=e/m._caScrollDist*u),m&&m.seek(v),m?e:Math.round(e)},Gn=/(webkit|moz|length|cssText|inset)/i,Hn=function(e,t,n,a){if(e.parentNode!==t){var r,i,s=e.style;if(t===De){for(r in e._stOrig=s.cssText,i=Zt(e))+r||Gn.test(r)||!i[r]||"string"!=typeof s[r]||"0"===r||(s[r]=i[r]);s.top=n,s.left=a}else s.cssText=e._stOrig;Le.core.getCache(e).uncache=1,t.appendChild(e)}},Wn=function(e,t,n){var a=t,r=a;return function(t){var i=Math.round(e());return i!==a&&i!==r&&Math.abs(i-a)>3&&Math.abs(i-r)>3&&(t=i,n&&n()),r=a,a=Math.round(t)}},Vn=function(e,t,n){var a={};a[t.p]="+="+n,Le.set(e,a)},Un=function(e,t){var n=we(e,t),a="_scroll"+t.p2,r=function t(r,i,s,o,l){var c=t.tween,d=i.onComplete,u={};s=s||n();var m=Wn(n,s,function(){c.kill(),t.tween=0});return l=o&&l||0,o=o||r-s,c&&c.kill(),i[a]=r,i.inherit=!1,i.modifiers=u,u[a]=function(){return m(s+o*c.ratio+l*c.ratio*c.ratio)},i.onUpdate=function(){ie.cache++,t.tween&&On()},i.onComplete=function(){t.tween=0,d&&d.call(c)},c=t.tween=Le.to(e,i)};return e[a]=n,n.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},rn(e,"wheel",n.wheelHandler),Yn.isTouch&&rn(e,"touchmove",n.wheelHandler),r},Yn=function(){function e(t,n){Me||e.register(Le),et(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),ht){var a,r,i,s,o,l,c,d,u,m,p,g,h,f,v,y,b,w,x,S,E,k,C,I,L,M,T,A,P,D,q,O,B,F,_,R,j,$,z,N,G,H,W=t=Qt(At(t)||Dt(t)||t.nodeType?{trigger:t}:t,cn),V=W.onUpdate,U=W.toggleClass,Y=W.id,X=W.onToggle,J=W.onRefresh,Z=W.scrub,Q=W.trigger,K=W.pin,ee=W.pinSpacing,te=W.invalidateOnRefresh,ne=W.anticipatePin,ae=W.onScrubComplete,re=W.onSnapComplete,oe=W.once,le=W.snap,de=W.pinReparent,ue=W.pinSpacer,me=W.containerAnimation,pe=W.fastScrollEnd,ge=W.preventOverlaps,he=t.horizontal||t.containerAnimation&&!1!==t.horizontal?ve:ye,fe=!Z&&0!==Z,xe=be(t.scroller||Te),Se=Le.core.getCache(xe),Ee=Ct(xe),ke="fixed"===("pinType"in t?t.pinType:ce(xe,"pinType")||Ee&&"fixed"),Ce=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],Ie=fe&&t.toggleActions.split(" "),Me="markers"in t?t.markers:cn.markers,qe=Ee?0:parseFloat(Zt(xe)["border"+he.p2+Yt])||0,Oe=this,Re=t.onRefreshInit&&function(){return t.onRefreshInit(Oe)},ze=function(e,t,n){var a=n.d,r=n.d2,i=n.a;return(i=ce(e,"getBoundingClientRect"))?function(){return i()[a]}:function(){return(t?It(r):e["client"+r])||0}}(xe,Ee,he),Ge=function(e,t){return!t||~se.indexOf(e)?Lt(e):function(){return zn}}(xe,Ee),He=0,We=0,Ye=0,Xe=we(xe,he);if(Oe._startClamp=Oe._endClamp=!1,Oe._dir=he,ne*=45,Oe.scroller=xe,Oe.scroll=me?me.time.bind(me):Xe,s=Xe(),Oe.vars=t,n=n||t.animation,"refreshPriority"in t&&(Ve=1,-9999===t.refreshPriority&&(dt=Oe)),Se.tweenScroll=Se.tweenScroll||{top:Un(xe,ye),left:Un(xe,ve)},Oe.tweenTo=a=Se.tweenScroll[he.p],Oe.scrubDuration=function(e){(B=Dt(e)&&e)?O?O.duration(e):O=Le.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:B,paused:!0,onComplete:function(){return ae&&ae(Oe)}}):(O&&O.progress(1).kill(),O=0)},n&&(n.vars.lazy=!1,n._initted&&!Oe.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),Oe.animation=n.pause(),n.scrollTrigger=Oe,Oe.scrubDuration(Z),D=0,Y||(Y=n.vars.id)),le&&(qt(le)&&!le.push||(le={snapTo:le}),"scrollBehavior"in De.style&&Le.set(Ee?[De,Pe]:xe,{scrollBehavior:"auto"}),ie.forEach(function(e){return Pt(e)&&e.target===(Ee?Ae.scrollingElement||Pe:xe)&&(e.smooth=!1)}),i=Pt(le.snapTo)?le.snapTo:"labels"===le.snapTo?function(e){return function(t){return Le.utils.snap(tn(e),t)}}(n):"labelsDirectional"===le.snapTo?(N=n,function(e,t){return nn(tn(N))(e,t.direction)}):!1!==le.directional?function(e,t){return nn(le.snapTo)(e,mt()-We<500?0:t.direction)}:Le.utils.snap(le.snapTo),F=le.duration||{min:.1,max:2},F=qt(F)?Fe(F.min,F.max):Fe(F,F),_=Le.delayedCall(le.delay||B/2||.1,function(){var e=Xe(),t=mt()-We<500,r=a.tween;if(!(t||Math.abs(Oe.getVelocity())<10)||r||$e||He===e)Oe.isActive&&He!==e&&_.restart(!0);else{var s,o,d=(e-l)/f,u=n&&!fe?n.totalProgress():d,m=t?0:(u-q)/(mt()-_e)*1e3||0,p=Le.utils.clamp(-d,1-d,Ft(m/2)*m/.185),g=d+(!1===le.inertia?0:p),h=le,v=h.onStart,y=h.onInterrupt,b=h.onComplete;if(s=i(g,Oe),Dt(s)||(s=g),o=Math.max(0,Math.round(l+s*f)),e<=c&&e>=l&&o!==e){if(r&&!r._initted&&r.data<=Ft(o-e))return;!1===le.inertia&&(p=s-d),a(o,{duration:F(Ft(.185*Math.max(Ft(g-u),Ft(s-u))/m/.05||0)),ease:le.ease||"power3",data:Ft(o-e),onInterrupt:function(){return _.restart(!0)&&y&&y(Oe)},onComplete:function(){Oe.update(),He=Xe(),n&&!fe&&(O?O.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),D=q=n&&!fe?n.totalProgress():Oe.progress,re&&re(Oe),b&&b(Oe)}},e,p*f,o-e-p*f),v&&v(Oe,a.tween)}}}).pause()),Y&&(hn[Y]=Oe),(z=(Q=Oe.trigger=be(Q||!0!==K&&K))&&Q._gsap&&Q._gsap.stRevert)&&(z=z(Oe)),K=!0===K?Q:be(K),At(U)&&(U={targets:Q,className:U}),K&&(!1===ee||ee===Ut||(ee=!(!ee&&K.parentNode&&K.parentNode.style&&"flex"===Zt(K.parentNode).display)&&Vt),Oe.pin=K,(r=Le.core.getCache(K)).spacer?v=r.pinState:(ue&&((ue=be(ue))&&!ue.nodeType&&(ue=ue.current||ue.nativeElement),r.spacerIsNative=!!ue,ue&&(r.spacerState=$n(ue))),r.spacer=w=ue||Ae.createElement("div"),w.classList.add("pin-spacer"),Y&&w.classList.add("pin-spacer-"+Y),r.pinState=v=$n(K)),!1!==t.force3D&&Le.set(K,{force3D:!0}),Oe.spacer=w=r.spacer,P=Zt(K),I=P[ee+he.os2],S=Le.getProperty(K),E=Le.quickSetter(K,he.a,Jt),_n(K,w,P),b=$n(K)),Me){g=qt(Me)?Qt(Me,ln):ln,m=mn("scroller-start",Y,xe,he,g,0),p=mn("scroller-end",Y,xe,he,g,0,m),x=m["offset"+he.op.d2];var Je=be(ce(xe,"content")||xe);d=this.markerStart=mn("start",Y,Je,he,g,x,0,me),u=this.markerEnd=mn("end",Y,Je,he,g,x,0,me),me&&($=Le.quickSetter([d,u],he.a,Jt)),ke||se.length&&!0===ce(xe,"fixedMarkers")||(H=Zt(G=Ee?De:xe).position,G.style.position="absolute"===H||"fixed"===H?H:"relative",Le.set([m,p],{force3D:!0}),M=Le.quickSetter(m,he.a,Jt),A=Le.quickSetter(p,he.a,Jt))}if(me){var Ze=me.vars.onUpdate,Qe=me.vars.onUpdateParams;me.eventCallback("onUpdate",function(){Oe.update(0,0,1),Ze&&Ze.apply(me,Qe||[])})}if(Oe.previous=function(){return gn[gn.indexOf(Oe)-1]},Oe.next=function(){return gn[gn.indexOf(Oe)+1]},Oe.revert=function(e,t){if(!t)return Oe.kill(!0);var a=!1!==e||!Oe.enabled,r=je;a!==Oe.isReverted&&(a&&(R=Math.max(Xe(),Oe.scroll.rec||0),Ye=Oe.progress,j=n&&n.progress()),d&&[d,u,m,p].forEach(function(e){return e.style.display=a?"none":"block"}),a&&(je=Oe,Oe.update(a)),!K||de&&Oe.isActive||(a?function(e,t,n){jn(n);var a=e._gsap;if(a.spacerIsNative)jn(a.spacerState);else if(e._gsap.swappedIn){var r=t.parentNode;r&&(r.insertBefore(e,t),r.removeChild(t))}e._gsap.swappedIn=!1}(K,w,v):_n(K,w,Zt(K),L)),a||Oe.update(a),je=r,Oe.isReverted=a)},Oe.refresh=function(r,i,g,x){if(!je&&Oe.enabled||i)if(K&&r&&gt)rn(e,"scrollEnd",Sn);else{!lt&&Re&&Re(Oe),je=Oe,a.tween&&!g&&(a.tween.kill(),a.tween=0),O&&O.pause(),te&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren&&n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)})),Oe.isReverted||Oe.revert(!0,!0),Oe._subPinOffset=!1;var E,I,M,A,P,D,q,B,F,$,z,N,G,H=ze(),W=Ge(),V=me?me.duration():Mt(xe,he),U=f<=.01||!f,Y=0,X=x||0,Z=qt(g)?g.end:t.end,ne=t.endTrigger||Q,ae=qt(g)?g.start:t.start||(0!==t.start&&Q?K?"0 0":"0 100%":0),re=Oe.pinnedContainer=t.pinnedContainer&&be(t.pinnedContainer,Oe),ie=Q&&Math.max(0,gn.indexOf(Oe))||0,se=ie;for(Me&&qt(g)&&(N=Le.getProperty(m,he.p),G=Le.getProperty(p,he.p));se-- >0;)(D=gn[se]).end||D.refresh(0,1)||(je=Oe),!(q=D.pin)||q!==Q&&q!==K&&q!==re||D.isReverted||($||($=[]),$.unshift(D),D.revert(!0,!0)),D!==gn[se]&&(ie--,se--);for(Pt(ae)&&(ae=ae(Oe)),ae=ft(ae,"start",Oe),l=Nn(ae,Q,H,he,Xe(),d,m,Oe,W,qe,ke,V,me,Oe._startClamp&&"_startClamp")||(K?-.001:0),Pt(Z)&&(Z=Z(Oe)),At(Z)&&!Z.indexOf("+=")&&(~Z.indexOf(" ")?Z=(At(ae)?ae.split(" ")[0]:"")+Z:(Y=un(Z.substr(2),H),Z=At(ae)?ae:(me?Le.utils.mapRange(0,me.duration(),me.scrollTrigger.start,me.scrollTrigger.end,l):l)+Y,ne=Q)),Z=ft(Z,"end",Oe),c=Math.max(l,Nn(Z||(ne?"100% 0":V),ne,H,he,Xe()+Y,u,p,Oe,W,qe,ke,V,me,Oe._endClamp&&"_endClamp"))||-.001,Y=0,se=ie;se--;)(q=(D=gn[se]).pin)&&D.start-D._pinPush<=l&&!me&&D.end>0&&(E=D.end-(Oe._startClamp?Math.max(0,D.start):D.start),(q===Q&&D.start-D._pinPush<l||q===re)&&isNaN(ae)&&(Y+=E*(1-D.progress)),q===K&&(X+=E));if(l+=Y,c+=Y,Oe._startClamp&&(Oe._startClamp+=Y),Oe._endClamp&&!lt&&(Oe._endClamp=c||-.001,c=Math.min(c,Mt(xe,he))),f=c-l||(l-=.01)&&.001,U&&(Ye=Le.utils.clamp(0,1,Le.utils.normalize(l,c,R))),Oe._pinPush=X,d&&Y&&((E={})[he.a]="+="+Y,re&&(E[he.p]="-="+Xe()),Le.set([d,u],E)),!K||it&&Oe.end>=Mt(xe,he)){if(Q&&Xe()&&!me)for(I=Q.parentNode;I&&I!==De;)I._pinOffset&&(l-=I._pinOffset,c-=I._pinOffset),I=I.parentNode}else E=Zt(K),A=he===ye,M=Xe(),k=parseFloat(S(he.a))+X,!V&&c>1&&(z={style:z=(Ee?Ae.scrollingElement||Pe:xe).style,value:z["overflow"+he.a.toUpperCase()]},Ee&&"scroll"!==Zt(De)["overflow"+he.a.toUpperCase()]&&(z.style["overflow"+he.a.toUpperCase()]="scroll")),_n(K,w,E),b=$n(K),I=Kt(K,!0),B=ke&&we(xe,A?ve:ye)(),ee?((L=[ee+he.os2,f+X+Jt]).t=w,(se=ee===Vt?en(K,he)+f+X:0)&&(L.push(he.d,se+Jt),"auto"!==w.style.flexBasis&&(w.style.flexBasis=se+Jt)),jn(L),re&&gn.forEach(function(e){e.pin===re&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),ke&&Xe(R)):(se=en(K,he))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=se+Jt),ke&&((P={top:I.top+(A?M-l:B)+Jt,left:I.left+(A?B:M-l)+Jt,boxSizing:"border-box",position:"fixed"})[$t]=P["max"+Yt]=Math.ceil(I.width)+Jt,P[zt]=P["max"+Xt]=Math.ceil(I.height)+Jt,P[Ut]=P[Ut+Ht]=P[Ut+Nt]=P[Ut+Wt]=P[Ut+Gt]="0",P[Vt]=E[Vt],P[Vt+Ht]=E[Vt+Ht],P[Vt+Nt]=E[Vt+Nt],P[Vt+Wt]=E[Vt+Wt],P[Vt+Gt]=E[Vt+Gt],y=function(e,t,n){for(var a,r=[],i=e.length,s=n?8:0;s<i;s+=2)a=e[s],r.push(a,a in t?t[a]:e[s+1]);return r.t=e.t,r}(v,P,de),lt&&Xe(0)),n?(F=n._initted,Ue(1),n.render(n.duration(),!0,!0),C=S(he.a)-k+f+X,T=Math.abs(f-C)>1,ke&&T&&y.splice(y.length-2,2),n.render(0,!0,!0),F||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Ue(0)):C=f,z&&(z.value?z.style["overflow"+he.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+he.a));$&&$.forEach(function(e){return e.revert(!1,!0)}),Oe.start=l,Oe.end=c,s=o=lt?R:Xe(),me||lt||(s<R&&Xe(R),Oe.scroll.rec=0),Oe.revert(!1,!0),We=mt(),_&&(He=-1,_.restart(!0)),je=0,n&&fe&&(n._initted||j)&&n.progress()!==j&&n.progress(j||0,!0).render(n.time(),!0,!0),(U||Ye!==Oe.progress||me||te||n&&!n._initted)&&(n&&!fe&&(n._initted||Ye||!1!==n.vars.immediateRender)&&n.totalProgress(me&&l<-.001&&!Ye?Le.utils.normalize(l,c,0):Ye,!0),Oe.progress=U||(s-l)/f===Ye?0:Ye),K&&ee&&(w._pinOffset=Math.round(Oe.progress*C)),O&&O.invalidate(),isNaN(N)||(N-=Le.getProperty(m,he.p),G-=Le.getProperty(p,he.p),Vn(m,he,N),Vn(d,he,N-(x||0)),Vn(p,he,G),Vn(u,he,G-(x||0))),U&&!lt&&Oe.update(),!J||lt||h||(h=!0,J(Oe),h=!1)}},Oe.getVelocity=function(){return(Xe()-o)/(mt()-_e)*1e3||0},Oe.endAnimation=function(){Ot(Oe.callbackAnimation),n&&(O?O.progress(1):n.paused()?fe||Ot(n,Oe.direction<0,1):Ot(n,n.reversed()))},Oe.labelToScroll=function(e){return n&&n.labels&&(l||Oe.refresh()||l)+n.labels[e]/n.duration()*f||0},Oe.getTrailing=function(e){var t=gn.indexOf(Oe),n=Oe.direction>0?gn.slice(0,t).reverse():gn.slice(t+1);return(At(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return Oe.direction>0?e.end<=l:e.start>=c})},Oe.update=function(e,t,r){if(!me||r||e){var i,d,u,p,g,h,v,x=!0===lt?R:Oe.scroll(),S=e?0:(x-l)/f,L=S<0?0:S>1?1:S||0,P=Oe.progress;if(t&&(o=s,s=me?Xe():x,le&&(q=D,D=n&&!fe?n.totalProgress():L)),ne&&K&&!je&&!ut&&gt&&(!L&&l<x+(x-o)/(mt()-_e)*ne?L=1e-4:1===L&&c>x+(x-o)/(mt()-_e)*ne&&(L=.9999)),L!==P&&Oe.enabled){if(p=(g=(i=Oe.isActive=!!L&&L<1)!==(!!P&&P<1))||!!L!=!!P,Oe.direction=L>P?1:-1,Oe.progress=L,p&&!je&&(d=L&&!P?0:1===L?1:1===P?2:3,fe&&(u=!g&&"none"!==Ie[d+1]&&Ie[d+1]||Ie[d],v=n&&("complete"===u||"reset"===u||u in n))),ge&&(g||v)&&(v||Z||!n)&&(Pt(ge)?ge(Oe):Oe.getTrailing(ge).forEach(function(e){return e.endAnimation()})),fe||(!O||je||ut?n&&n.totalProgress(L,!(!je||!We&&!e)):(O._dp._time-O._start!==O._time&&O.render(O._dp._time-O._start),O.resetTo?O.resetTo("totalProgress",L,n._tTime/n._tDur):(O.vars.totalProgress=L,O.invalidate().restart()))),K)if(e&&ee&&(w.style[ee+he.os2]=I),ke){if(p){if(h=!e&&L>P&&c+1>x&&x+1>=Mt(xe,he),de)if(e||!i&&!h)Hn(K,w);else{var B=Kt(K,!0),F=x-l;Hn(K,De,B.top+(he===ye?F:0)+Jt,B.left+(he===ye?0:F)+Jt)}jn(i||h?y:b),T&&L<1&&i||E(k+(1!==L||h?0:C))}}else E(St(k+C*L));le&&!a.tween&&!je&&!ut&&_.restart(!0),U&&(g||oe&&L&&(L<1||!st))&&Be(U.targets).forEach(function(e){return e.classList[i||oe?"add":"remove"](U.className)}),V&&!fe&&!e&&V(Oe),p&&!je?(fe&&(v&&("complete"===u?n.pause().totalProgress(1):"reset"===u?n.restart(!0).pause():"restart"===u?n.restart(!0):n[u]()),V&&V(Oe)),!g&&st||(X&&g&&Bt(Oe,X),Ce[d]&&Bt(Oe,Ce[d]),oe&&(1===L?Oe.kill(!1,1):Ce[d]=0),g||Ce[d=1===L?1:3]&&Bt(Oe,Ce[d])),pe&&!i&&Math.abs(Oe.getVelocity())>(Dt(pe)?pe:2500)&&(Ot(Oe.callbackAnimation),O?O.progress(1):Ot(n,"reverse"===u?1:!L,1))):fe&&V&&!je&&V(Oe)}if(A){var j=me?x/me.duration()*(me._caScrollDist||0):x;M(j+(m._isFlipped?1:0)),A(j)}$&&$(-x/me.duration()*(me._caScrollDist||0))}},Oe.enable=function(t,n){Oe.enabled||(Oe.enabled=!0,rn(xe,"resize",bn),Ee||rn(xe,"scroll",vn),Re&&rn(e,"refreshInit",Re),!1!==t&&(Oe.progress=Ye=0,s=o=He=Xe()),!1!==n&&Oe.refresh())},Oe.getTween=function(e){return e&&a?a.tween:O},Oe.setPositions=function(e,t,n,a){if(me){var r=me.scrollTrigger,i=me.duration(),s=r.end-r.start;e=r.start+s*e/i,t=r.start+s*t/i}Oe.refresh(!1,!1,{start:vt(e,n&&!!Oe._startClamp),end:vt(t,n&&!!Oe._endClamp)},a),Oe.update()},Oe.adjustPinSpacing=function(e){if(L&&e){var t=L.indexOf(he.d)+1;L[t]=parseFloat(L[t])+e+Jt,L[1]=parseFloat(L[1])+e+Jt,jn(L)}},Oe.disable=function(t,n){if(Oe.enabled&&(!1!==t&&Oe.revert(!0,!0),Oe.enabled=Oe.isActive=!1,n||O&&O.pause(),R=0,r&&(r.uncache=1),Re&&sn(e,"refreshInit",Re),_&&(_.pause(),a.tween&&a.tween.kill()&&(a.tween=0)),!Ee)){for(var i=gn.length;i--;)if(gn[i].scroller===xe&&gn[i]!==Oe)return;sn(xe,"resize",bn),Ee||sn(xe,"scroll",vn)}},Oe.kill=function(e,a){Oe.disable(e,a),O&&!a&&O.kill(),Y&&delete hn[Y];var i=gn.indexOf(Oe);i>=0&&gn.splice(i,1),i===Ne&&qn>0&&Ne--,i=0,gn.forEach(function(e){return e.scroller===Oe.scroller&&(i=1)}),i||lt||(Oe.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),a||n.kill()),d&&[d,u,m,p].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),dt===Oe&&(dt=0),K&&(r&&(r.uncache=1),i=0,gn.forEach(function(e){return e.pin===K&&i++}),i||(r.spacer=0)),t.onKill&&t.onKill(Oe)},gn.push(Oe),Oe.enable(!1,!1),z&&z(Oe),n&&n.add&&!f){var Ke=Oe.update;Oe.update=function(){Oe.update=Ke,ie.cache++,l||c||Oe.refresh()},Le.delayedCall(.01,Oe.update),f=.01,l=c=0}else Oe.refresh();K&&function(){if(ct!==Mn){var e=ct=Mn;requestAnimationFrame(function(){return e===Mn&&Pn(!0)})}}()}else this.update=this.refresh=this.kill=xt},e.register=function(t){return Me||(Le=t||kt(),Et()&&window.document&&e.enable(),Me=ht),Me},e.defaults=function(e){if(e)for(var t in e)cn[t]=e[t];return cn},e.disable=function(e,t){ht=0,gn.forEach(function(n){return n[t?"kill":"disable"](e)}),sn(Te,"wheel",vn),sn(Ae,"scroll",vn),clearInterval(Re),sn(Ae,"touchcancel",xt),sn(De,"touchstart",xt),an(sn,Ae,"pointerdown,touchstart,mousedown",bt),an(sn,Ae,"pointerup,touchend,mouseup",wt),Oe.kill(),Tt(sn);for(var n=0;n<ie.length;n+=3)on(sn,ie[n],ie[n+1]),on(sn,ie[n],ie[n+2])},e.enable=function(){if(Te=window,Ae=document,Pe=Ae.documentElement,De=Ae.body,Le&&(Be=Le.utils.toArray,Fe=Le.utils.clamp,et=Le.core.context||xt,Ue=Le.core.suppressOverwrites||xt,tt=Te.history.scrollRestoration||"auto",Dn=Te.pageYOffset||0,Le.core.globals("ScrollTrigger",e),De)){ht=1,(nt=document.createElement("div")).style.height="100vh",nt.style.position="absolute",Tn(),yt(),Ie.register(Le),e.isTouch=Ie.isTouch,Ke=Ie.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Je=1===Ie.isTouch,rn(Te,"wheel",vn),qe=[Te,Ae,Pe,De],Le.matchMedia&&(e.matchMedia=function(e){var t,n=Le.matchMedia();for(t in e)n.add(t,e[t]);return n},Le.addEventListener("matchMediaInit",function(){return In()}),Le.addEventListener("matchMediaRevert",function(){return Cn()}),Le.addEventListener("matchMedia",function(){Pn(0,1),En("matchMedia")}),Le.matchMedia().add("(orientation: portrait)",function(){return yn(),yn})),yn(),rn(Ae,"scroll",vn);var t,n,a=De.hasAttribute("style"),r=De.style,i=r.borderTopStyle,s=Le.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",t=Kt(De),ye.m=Math.round(t.top+ye.sc())||0,ve.m=Math.round(t.left+ve.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),a||(De.setAttribute("style",""),De.removeAttribute("style")),Re=setInterval(fn,250),Le.delayedCall(.5,function(){return ut=0}),rn(Ae,"touchcancel",xt),rn(De,"touchstart",xt),an(rn,Ae,"pointerdown,touchstart,mousedown",bt),an(rn,Ae,"pointerup,touchend,mouseup",wt),ze=Le.utils.checkPrefix("transform"),Fn.push(ze),Me=mt(),Oe=Le.delayedCall(.2,Pn).pause(),We=[Ae,"visibilitychange",function(){var e=Te.innerWidth,t=Te.innerHeight;Ae.hidden?(Ge=e,He=t):Ge===e&&He===t||bn()},Ae,"DOMContentLoaded",Pn,Te,"load",Pn,Te,"resize",bn],Tt(rn),gn.forEach(function(e){return e.enable(0,1)}),n=0;n<ie.length;n+=3)on(sn,ie[n],ie[n+1]),on(sn,ie[n],ie[n+2])}},e.config=function(t){"limitCallbacks"in t&&(st=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(Re)||(Re=n)&&setInterval(fn,n),"ignoreMobileResize"in t&&(Je=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Tt(sn)||Tt(rn,t.autoRefreshEvents||"none"),Ye=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=be(e),a=ie.indexOf(n),r=Ct(n);~a&&ie.splice(a,r?6:2),t&&(r?se.unshift(Te,t,De,t,Pe,t):se.unshift(n,t))},e.clearMatchMedia=function(e){gn.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var a=(At(e)?be(e):e).getBoundingClientRect(),r=a[n?$t:zt]*t||0;return n?a.right-r>0&&a.left+r<Te.innerWidth:a.bottom-r>0&&a.top+r<Te.innerHeight},e.positionInViewport=function(e,t,n){At(e)&&(e=be(e));var a=e.getBoundingClientRect(),r=a[n?$t:zt],i=null==t?r/2:t in dn?dn[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0;return n?(a.left+i)/Te.innerWidth:(a.top+i)/Te.innerHeight},e.killAll=function(e){if(gn.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=wn.killAll||[];wn={},t.forEach(function(e){return e()})}},e}();Yn.version="3.13.0",Yn.saveStyles=function(e){return e?Be(e).forEach(function(e){if(e&&e.style){var t=kn.indexOf(e);t>=0&&kn.splice(t,5),kn.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Le.core.getCache(e),et())}}):kn},Yn.revert=function(e,t){return In(!e,t)},Yn.create=function(e,t){return new Yn(e,t)},Yn.refresh=function(e){return e?bn(!0):(Me||Yn.register())&&Pn(!0)},Yn.update=function(e){return++ie.cache&&On(!0===e?2:0)},Yn.clearScrollMemory=Ln,Yn.maxScroll=function(e,t){return Mt(e,t?ve:ye)},Yn.getScrollFunc=function(e,t){return we(be(e),t?ve:ye)},Yn.getById=function(e){return hn[e]},Yn.getAll=function(){return gn.filter(function(e){return"ScrollSmoother"!==e.vars.id})},Yn.isScrolling=function(){return!!gt},Yn.snapDirectional=nn,Yn.addEventListener=function(e,t){var n=wn[e]||(wn[e]=[]);~n.indexOf(t)||n.push(t)},Yn.removeEventListener=function(e,t){var n=wn[e],a=n&&n.indexOf(t);a>=0&&n.splice(a,1)},Yn.batch=function(e,t){var n,a=[],r={},i=t.interval||.016,s=t.batchMax||1e9,o=function(e,t){var n=[],a=[],r=Le.delayedCall(i,function(){t(n,a),n=[],a=[]}).pause();return function(e){n.length||r.restart(!0),n.push(e.trigger),a.push(e),s<=n.length&&r.progress(1)}};for(n in t)r[n]="on"===n.substr(0,2)&&Pt(t[n])&&"onRefreshInit"!==n?o(0,t[n]):t[n];return Pt(s)&&(s=s(),rn(Yn,"refresh",function(){return s=t.batchMax()})),Be(e).forEach(function(e){var t={};for(n in r)t[n]=r[n];t.trigger=e,a.push(Yn.create(t))}),a};var Xn,Jn=function(e,t,n,a){return t>a?e(a):t<0&&e(0),n>a?(a-t)/(n-t):n<0?t/(t-n):1},Zn=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(Ie.isTouch?" pinch-zoom":""):"none",t===Pe&&e(De,n)},Qn={auto:1,scroll:1},Kn=function(e){var t,n=e.event,a=e.target,r=e.axis,i=(n.changedTouches?n.changedTouches[0]:n).target,s=i._gsap||Le.core.getCache(i),o=mt();if(!s._isScrollT||o-s._isScrollT>2e3){for(;i&&i!==De&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!Qn[(t=Zt(i)).overflowY]&&!Qn[t.overflowX]);)i=i.parentNode;s._isScroll=i&&i!==a&&!Ct(i)&&(Qn[(t=Zt(i)).overflowY]||Qn[t.overflowX]),s._isScrollT=o}(s._isScroll||"x"===r)&&(n.stopPropagation(),n._gsapAllow=!0)},ea=function(e,t,n,a){return Ie.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:a=a&&Kn,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&rn(Ae,Ie.eventTypes[0],na,!1,!0)},onDisable:function(){return sn(Ae,Ie.eventTypes[0],na,!0)}})},ta=/(input|label|select|textarea)/i,na=function(e){var t=ta.test(e.target.tagName);(t||Xn)&&(e._gsapAllow=!0,Xn=t)},aa=function(e){qt(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,a,r,i,s,o,l,c=e,d=c.normalizeScrollX,u=c.momentum,m=c.allowNestedScroll,p=c.onRelease,g=be(e.target)||Pe,h=Le.core.globals().ScrollSmoother,f=h&&h.get(),v=Ke&&(e.content&&be(e.content)||f&&!1!==e.content&&!f.smooth()&&f.content()),y=we(g,ye),b=we(g,ve),w=1,x=(Ie.isTouch&&Te.visualViewport?Te.visualViewport.scale*Te.visualViewport.width:Te.outerWidth)/Te.innerWidth,S=0,E=Pt(u)?function(){return u(t)}:function(){return u||2.8},k=ea(g,e.type,!0,m),C=function(){return r=!1},I=xt,L=xt,M=function(){n=Mt(g,ye),L=Fe(Ke?1:0,n),d&&(I=Fe(0,Mt(g,ve))),a=Mn},T=function(){v._gsap.y=St(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},A=function(){M(),i.isActive()&&i.vars.scrollY>n&&(y()>n?i.progress(1)&&y(n):i.resetTo("scrollY",n))};return v&&Le.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return Ke&&"touchmove"===e.type&&function(){if(r){requestAnimationFrame(C);var e=St(t.deltaY/2),n=L(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var a=St((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+a+", 0, 1)",v._gsap.y=a+"px",y.cacheID=ie.cache,On()}return!0}y.offset&&T(),r=!0}()||w>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){r=!1;var e=w;w=St((Te.visualViewport&&Te.visualViewport.scale||1)/x),i.pause(),e!==w&&Zn(g,w>1.01||!d&&"x"),s=b(),o=y(),M(),a=Mn},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&T(),t){ie.cache++;var a,r,s=E();d&&(r=(a=b())+.05*s*-e.velocityX/.227,s*=Jn(b,a,r,Mt(g,ve)),i.vars.scrollX=I(r)),r=(a=y())+.05*s*-e.velocityY/.227,s*=Jn(y,a,r,Mt(g,ye)),i.vars.scrollY=L(r),i.invalidate().duration(s).play(.01),(Ke&&i.vars.scrollY>=n||a>=n-1)&&Le.to({},{onUpdate:A,duration:s})}else l.restart(!0);p&&p(e)},e.onWheel=function(){i._ts&&i.pause(),mt()-S>1e3&&(a=0,S=mt())},e.onChange=function(e,t,n,r,i){if(Mn!==a&&M(),t&&d&&b(I(r[2]===t?s+(e.startX-e.x):b()+t-r[1])),n){y.offset&&T();var l=i[2]===n,c=l?o+e.startY-e.y:y()+n-i[1],u=L(c);l&&c!==u&&(o+=u-c),y(u)}(n||t)&&On()},e.onEnable=function(){Zn(g,!d&&"x"),Yn.addEventListener("refresh",A),rn(Te,"resize",A),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),k.enable()},e.onDisable=function(){Zn(g,!0),sn(Te,"resize",A),Yn.removeEventListener("refresh",A),k.kill()},e.lockAxis=!1!==e.lockAxis,(t=new Ie(e)).iOS=Ke,Ke&&!y()&&y(1),Ke&&Le.ticker.add(xt),l=t._dc,i=Le.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:d?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Wn(y,y(),function(){return i.pause()})},onUpdate:On,onComplete:l.vars.onComplete}),t};Yn.sort=function(e){if(Pt(e))return gn.sort(e);var t=Te.pageYOffset||0;return Yn.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+Te.innerHeight}),gn.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},Yn.observe=function(e){return new Ie(e)},Yn.normalizeScroll=function(e){if(void 0===e)return Xe;if(!0===e&&Xe)return Xe.enable();if(!1===e)return Xe&&Xe.kill(),void(Xe=e);var t=e instanceof Ie?e:aa(e);return Xe&&Xe.target===t.target&&Xe.kill(),Ct(t.target)&&(Xe=t),t},Yn.core={_getVelocityProp:xe,_inputObserver:ea,_scrollers:ie,_proxies:se,bridge:{ss:function(){gt||En("scrollStart"),gt=mt()},ref:function(){return je}}},kt()&&Le.registerPlugin(Yn);const ra=n(t());e.registerPlugin(Yn);class ia{constructor(){this.scrollRevealElements=[],this.isLoading=!1,this.formProgress=0,this.areaFinderInstance=null,this.arcGISInstance=null,this.arcGISLoaded=!1,this.arcGISLoading=!1,this.activeMeasurementTool="google-maps",this.galleryFilter=null,this.init()}init(){q(),S(),o(),a({beforeSend:e=>e}),this.preloadCriticalAssets(),this.initHeroVideo(),this.initLoadingAnimation(),this.initAnimations(),this.initScrollEffects(),this.initRevealOnScroll(),this.initNavigation(),this.initGalleryFilters(),this.initContactForm(),this.initSectionAnimations(),this.initConversionOptimizations(),this.initInteractiveFeatures(),this.initClickToCall(),this.initEmergencyServiceHighlight(),this.initNotificationSystem(),this.initLocationMaps(),this.initLazyLoading(),this.initMeasurementToolToggle(),this.initServiceWorker()}initMeasurementToolToggle(){const e=document.querySelectorAll(".toggle-btn");document.getElementById("google-maps-container");const t=document.getElementById("arcgis-container"),n=document.getElementById("arcgis-placeholder");t&&(t.style.display="block",t.style.visibility="visible",t.style.opacity="1"),this.arcGISLoaded||this.arcGISLoading||(this.arcGISLoading=!0,n&&(n.style.display="flex"),this.loadArcGIS().then(()=>{this.arcGISLoaded=!0,this.arcGISLoading=!1,n&&(n.style.display="none")}).catch(e=>{this.arcGISLoading=!1,n&&this.showArcGISError(n,e)})),e.forEach(e=>{const t=e.dataset.tool;e.classList.remove("active"),"arcgis-3d"===t&&e.classList.add("active"),e.style.pointerEvents="none",e.style.opacity="0.6"}),this.activeMeasurementTool="arcgis-3d"}async loadArcGIS(){return new Promise((e,t)=>{if(this.arcGISLoaded)return void e();const n=document.createElement("link");n.rel="stylesheet",n.href="https://js.arcgis.com/4.33/esri/themes/light/main.css",document.head.appendChild(n);const a=document.createElement("script");a.type="module",a.src="https://js.arcgis.com/calcite-components/3.2.1/calcite.esm.js",document.head.appendChild(a);const r=document.createElement("script");r.src="https://js.arcgis.com/4.33/",r.onload=()=>{const n=document.createElement("script");n.type="module",n.src="https://js.arcgis.com/4.33/map-components/",n.onload=()=>{this.initializeArcGISScene(),e()},n.onerror=t,document.head.appendChild(n)},r.onerror=t,document.head.appendChild(r)})}initializeArcGISScene(){const e=document.getElementById("arcgis-scene-view");document.getElementById("arcgis-placeholder");const t=document.getElementById("arcgis-results"),n=document.getElementById("line-result"),a=document.getElementById("area-result");e.innerHTML='\n            <arcgis-scene item-id="5ce0de673d3b41a3bf3a217942211c4b" style="height: 100%; width: 100%;">\n                <arcgis-zoom position="top-left"></arcgis-zoom>\n                <arcgis-navigation-toggle position="top-left"></arcgis-navigation-toggle>\n                <arcgis-compass position="top-left"></arcgis-compass>\n                <arcgis-expand id="expand-line" position="top-right" group="top-right">\n                    <arcgis-direct-line-measurement-3d></arcgis-direct-line-measurement-3d>\n                </arcgis-expand>\n                <arcgis-expand id="expand-area" position="top-right" group="top-right">\n                    <arcgis-area-measurement-3d></arcgis-area-measurement-3d>\n                </arcgis-expand>\n            </arcgis-scene>\n        ',setTimeout(()=>{const r=e.querySelector("arcgis-scene"),i=e.querySelector("arcgis-direct-line-measurement-3d"),s=e.querySelector("arcgis-area-measurement-3d"),o=e.querySelector("#expand-line"),l=e.querySelector("#expand-area");r&&i&&s&&r.viewOnReady().then(()=>{this.setupArcGISMeasurementObservers(o,l,i,s,n,a,t)})},1e3)}setupArcGISMeasurementObservers(e,t,n,a,r,i,s){new MutationObserver(e=>{e.forEach(e=>{e.target.expanded?(n.start(),s.style.display="block"):(n.clear(),a.clear(),r.textContent="0 m",i.textContent="0 m²",t.expanded||(s.style.display="none"))})}).observe(e,{attributeFilter:["expanded"]});new MutationObserver(t=>{t.forEach(t=>{t.target.expanded?(a.start(),s.style.display="block"):(n.clear(),a.clear(),r.textContent="0 m",i.textContent="0 m²",e.expanded||(s.style.display="none"))})}).observe(t,{attributeFilter:["expanded"]}),n.addEventListener("measure-complete",e=>{e.detail&&e.detail.distance&&(r.textContent=`${e.detail.distance.toFixed(2)} ${e.detail.unit||"m"}`,this.updateProjectSizeFromMeasurement(e.detail,"distance"))}),a.addEventListener("measure-complete",e=>{e.detail&&e.detail.area&&(i.textContent=`${e.detail.area.toFixed(2)} ${e.detail.unit||"m²"}`,this.updateProjectSizeFromMeasurement(e.detail,"area"))}),window.arcGISTool={getMeasurementData:()=>{const e=r.textContent,t=i.textContent,n=parseFloat(t.split(" ")[0]),a=parseFloat(e.split(" ")[0]);return n>0?{area:10.764*n,perimeter:3.28084*a,coordinates:[],unit:"sqft"}:null},clearMeasurements:()=>{n.clear(),a.clear(),r.textContent="0 m",i.textContent="0 m²",s.style.display="none"}}}updateProjectSizeFromMeasurement(e,t){const n=document.getElementById("project-size");if(n&&"area"===t&&e.area){const t=Math.round(10.764*e.area);n.value=`${t} sq ft`,n.dispatchEvent(new Event("input",{bubbles:!0}))}}showArcGISError(e,t){e.innerHTML='\n            <div style="text-align: center; padding: 2rem; color: #dc3545;">\n                <div style="font-size: 48px; margin-bottom: 1rem;">⚠️</div>\n                <h3 style="margin-bottom: 1rem; color: #dc3545;">Failed to Load ArcGIS</h3>\n                <p style="margin-bottom: 1.5rem; color: #6c757d;">Unable to load the 3D measurement tool. This might be due to a network issue or service unavailability.</p>\n                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">\n                    <button onclick="window.location.reload();" \n                            style="padding: 0.5rem 1rem; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">Retry</button>\n                </div>\n                <p style="margin-top: 1rem; font-size: 0.9rem; color: #6c757d;">Please try refreshing the page or contact us directly for assistance.</p>\n            </div>\n        '}initHeroVideo(){const e=document.getElementById("hero-video");if(!e)return;const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"":window.location.pathname.includes("/Neff-Paving/")?"/Neff-Paving":"",n=e.querySelector("source");if(n){const e="assets/videos/optimized/neff-paving-1080p.mp4";n.src=t?`${t}/${e}`:e}e.addEventListener("error",e=>{const t=document.getElementById("hero");t&&(t.style.backgroundColor="#2c2c2c")}),e.addEventListener("loadeddata",()=>{e.play().catch(e=>{})}),e.style.opacity="1"}preloadCriticalAssets(){j.preloadCriticalAssets([{path:"/assets/images/hero-bg.jpg",type:"image",priority:"high"},{path:"/assets/videos/optimized/neff-paving-1080p.mp4",type:"video",priority:"medium"},{path:"/assets/images/logo.png",type:"image",priority:"high"}])}initLazyLoading(){document.querySelectorAll("img[src]").forEach(e=>{const t=e.src;!t||t.startsWith("data:")||e.hasAttribute("data-no-lazy")||(e.dataset.src=t,e.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB2aWV3Qm94PSIwIDAgMSAxIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiNGOEY5RkEiIGQ9Ik0wIDBoMXYxSDB6Ii8+PC9zdmc+",e.loading="lazy",e.classList.add("lazy-load"))}),j.addLazyImages()}initSectionAnimations(){document.querySelectorAll(".service-card").forEach(t=>{t.addEventListener("mouseenter",()=>{e.to(t,{scale:1.03,duration:.3,ease:"power2.out"})}),t.addEventListener("mouseleave",()=>{e.to(t,{scale:1,duration:.3,ease:"power2.out"})})}),document.querySelectorAll(".team-member").forEach((t,n)=>{e.from(t,{y:50,opacity:0,duration:.8,delay:.1*n,scrollTrigger:{trigger:t,start:"top 80%",toggleActions:"play none none reverse"}})}),document.querySelectorAll(".contact-method").forEach((e,t)=>{e.style.opacity="1",e.style.transform="none"}),document.querySelectorAll(".stat-number").forEach(t=>{const n=t.textContent;t.textContent="0",e.to(t,{textContent:n,duration:2,ease:"power2.out",snap:{textContent:1},scrollTrigger:{trigger:t,start:"top 80%",toggleActions:"play none none none"}})}),document.querySelectorAll(".cert-icon").forEach((t,n)=>{e.from(t,{scale:0,rotation:180,duration:.5,delay:.05*n,ease:"back.out(1.7)",scrollTrigger:{trigger:t,start:"top 85%",toggleActions:"play none none reverse"}})})}initAnimations(){ra.init({duration:1e3,once:!0,offset:100}),e.from(".hero-content h2",{duration:1.5,y:50,opacity:0,ease:"power3.out"}),e.from(".hero-content p",{duration:1.5,y:30,opacity:0,delay:.3,ease:"power3.out"})}initAreaFinder(){const e=document.querySelector(".map-placeholder");if(e){e.innerHTML='\n                <div id="area-finder-container">\n                    <h4>Project Area Calculator</h4>\n                    <p>Draw the area of your project on the map to get an accurate estimate.</p>\n                </div>\n            ';try{this.areaFinderInstance=new k("area-finder-container",{showCalculator:!0,showAddressSearch:!0,showAreaInfo:!0,onAreaCalculated:e=>{this.updateProjectSizeFromArea(e)}})}catch(t){e.innerHTML='\n                    <div class="error-message">\n                        <p>Unable to load map. Please enter project size manually in the form above.</p>\n                    </div>\n                '}}}updateProjectSizeFromArea(e){const t=document.getElementById("project-size");t&&e.areaInSquareFeet&&(t.value=`${Math.round(e.areaInSquareFeet)} sq ft`,t.dispatchEvent(new Event("input",{bubbles:!0})))}initScrollEffects(){window.matchMedia("(prefers-reduced-motion: reduce)").matches||e.to(".hero-content",{yPercent:10,ease:"none",scrollTrigger:{trigger:"#hero",start:"top bottom",end:"bottom top",scrub:2}});e.timeline({scrollTrigger:{trigger:"#hero",start:"top 80%",toggleActions:"play none none reverse"}}).from(".hero-title",{y:60,opacity:0,duration:1.2,ease:"power3.out"}).from(".hero-subtitle",{y:40,opacity:0,duration:1,ease:"power3.out"},"-=0.8").from(".hero-cta .btn",{y:30,opacity:0,duration:.8,stagger:.2,ease:"power3.out"},"-=0.6").from(".feature-badge",{y:20,opacity:0,duration:.6,stagger:.1,ease:"power3.out"},"-=0.4"),e.from(".asphalt-service-grid .service-card, .concrete-service-container .service-card",{y:80,opacity:0,duration:1,stagger:.2,ease:"power3.out",scrollTrigger:{trigger:".services-section",start:"top 80%",toggleActions:"play none none reverse"}}),e.from(".gallery-item",{scale:.8,opacity:0,duration:.8,stagger:.1,ease:"power3.out",scrollTrigger:{trigger:".gallery-container",start:"top 80%",toggleActions:"play none none reverse"}}),e.to("header",{backgroundColor:"rgba(44, 62, 80, 0.98)",scrollTrigger:{trigger:"body",start:"top -50px",end:"top -100px",scrub:1}}),e.utils.toArray("section").forEach((t,n)=>{"hero"!==t.id&&e.from(t,{opacity:0,y:50,duration:1,scrollTrigger:{trigger:t,start:"top 85%",toggleActions:"play none none reverse"}})})}initNavigation(){document.querySelectorAll('nav a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});let e=0;window.addEventListener("scroll",()=>{const t=window.pageYOffset||document.documentElement.scrollTop,n=document.querySelector("header");n.style.transform=t>e&&t>100?"translateY(-100%)":"translateY(0)",e=t<=0?0:t})}initGalleryFilters(){const e=document.getElementById("gallery");e&&(this.galleryFilter=new O(e))}initContactForm(){const e=document.getElementById("contact-form");e&&e.addEventListener("submit",async t=>{t.preventDefault();const n=new FormData(e),a=Object.fromEntries(n),r=this.getMeasurementData();if(r&&!this.validateMeasurementData(r))return void this.showValidationErrors(["measurement-invalid"]);if(r&&(a.measurementData=r,a.areaInSquareFeet=r.areaInSquareFeet,a.measurementTool=r.toolType),!this.validateForm(a))return;const i=e.querySelector('button[type="submit"]'),s=i.textContent;i.textContent="Sending...",i.disabled=!0;try{const t=await fetch("/api/estimates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await t.json();if(!n.success)throw new Error(n.message||"Submission failed");this.showSuccessMessage("Your estimate request has been submitted successfully!"),e.reset(),this.clearMeasurementData(),b()}catch(o){this.showSuccessMessage("Form submitted! We will contact you within 2 business hours.","warning")}finally{i.textContent=s,i.disabled=!1}});const t=document.getElementById("start-chat");t&&t.addEventListener("click",()=>{alert("Chat widget would open here. In a real implementation, this would integrate with a chat service like Intercom, Zendesk, or custom solution.")})}validateForm(e){const t=[];["firstName","lastName","email","phone","serviceType"].forEach(n=>{e[n]&&""!==e[n].trim()||t.push(n)});e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&t.push("email-format");return e.phone&&!/^[\d\s\-\+\(\)]{10,}$/.test(e.phone.replace(/\D/g,""))&&t.push("phone-format"),!(t.length>0)||(this.showValidationErrors(t),!1)}showValidationErrors(e){document.querySelectorAll(".error-message").forEach(e=>e.remove()),e.forEach(e=>{let t,n;switch(e){case"firstName":t="first-name",n="First name is required";break;case"lastName":t="last-name",n="Last name is required";break;case"email":t="email",n="Email is required";break;case"email-format":t="email",n="Please enter a valid email address";break;case"phone":t="phone",n="Phone number is required";break;case"phone-format":t="phone",n="Please enter a valid phone number";break;case"serviceType":t="service-type",n="Please select a service type";break;case"measurement-invalid":t="project-size",n="Please complete the measurement or clear the drawing to proceed"}const a=document.getElementById(t);if(a){const e=document.createElement("div");e.className="error-message",e.style.color="var(--error-red)",e.style.fontSize="14px",e.style.marginTop="var(--spacing-xs)",e.textContent=n,a.parentNode.appendChild(e),a.style.borderColor="var(--error-red)"}})}getMeasurementData(){if(this.areaFinderInstance&&this.areaFinderInstance.getAreaData()){const e=this.areaFinderInstance.getAreaData();return{toolType:"google-maps",areaInSquareFeet:e.areaInSquareFeet,areaInAcres:e.areaInAcres,perimeter:e.perimeter,coordinates:e.coordinates||[],timestamp:(new Date).toISOString()}}if(window.arcGISTool&&window.arcGISTool.getMeasurementData){const e=window.arcGISTool.getMeasurementData();if(e&&e.area)return{toolType:"arcgis",areaInSquareFeet:e.area,areaInAcres:e.area/43560,perimeter:e.perimeter||0,coordinates:e.coordinates||[],timestamp:(new Date).toISOString()}}return null}validateMeasurementData(e){if(!e)return!1;if(!e.areaInSquareFeet||e.areaInSquareFeet<=0)return!1;return!!["google-maps","arcgis"].includes(e.toolType)}clearMeasurementData(){this.areaFinderInstance&&this.areaFinderInstance.clearShapes(),window.arcGISTool&&window.arcGISTool.clearMeasurements&&window.arcGISTool.clearMeasurements()}showSuccessMessage(t="Thank You!",n="success"){const a=document.querySelector(".success-message");a&&a.remove();const r=document.createElement("div");r.className="success-message alert alert-"+("success"===n?"success":"warning"),r.style.cssText=`\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: ${"success"===n?"#d4edda":"#fff3cd"};\n            color: ${"success"===n?"#155724":"#856404"};\n            padding: 1rem 1.5rem;\n            border-radius: 8px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n            z-index: 10000;\n            border: 1px solid ${"success"===n?"#c3e6cb":"#ffeaa7"};\n            max-width: 400px;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        `,r.innerHTML=`\n            <div style="display: flex; align-items: center; justify-content: space-between;">\n                <div>\n                    <h4 style="margin: 0 0 0.5rem 0; font-size: 1.1rem; font-weight: 600;">${"success"===n?"✅ ":"⚠️ "}${t}</h4>\n                    <p style="margin: 0; font-size: 0.9rem;">\n                        ${"success"===n?"Your estimate request has been submitted successfully. We'll contact you within 2 business hours with a detailed quote.":"Your form has been submitted. If you don't hear from us within 24 hours, please call us directly."}\n                    </p>\n                </div>\n                <button onclick="this.parentElement.parentElement.remove()" \n                        style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: inherit; margin-left: 1rem;">×</button>\n            </div>\n        `,document.body.appendChild(r),setTimeout(()=>{r.parentElement&&r.remove()},8e3),void 0!==e&&e.fromTo(r,{x:400,opacity:0},{x:0,opacity:1,duration:.5,ease:"back.out(1.7)"})}initLoadingAnimation(){const e=document.createElement("div");e.className="loading-overlay show",e.innerHTML='\n            <div class="loading-spinner"></div>\n        ',document.body.appendChild(e),window.addEventListener("load",()=>{setTimeout(()=>{e.classList.remove("show"),setTimeout(()=>{e.remove()},300)},500)})}initRevealOnScroll(){[{selector:".service-card",class:"reveal stagger-1"},{selector:".gallery-item",class:"reveal-scale stagger-2"},{selector:".team-member",class:"reveal-left stagger-3"},{selector:".contact-method",class:"reveal-right stagger-1"},{selector:".cert-category",class:"reveal stagger-2"}].forEach(({selector:e,class:t})=>{document.querySelectorAll(e).forEach((e,n)=>{e.classList.add("reveal"),t.includes("stagger")&&e.classList.add("stagger-"+(n%6+1)),t.includes("reveal-left")?e.classList.add("reveal-left"):t.includes("reveal-right")?e.classList.add("reveal-right"):t.includes("reveal-scale")&&e.classList.add("reveal-scale")})});const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("revealed")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".reveal, .reveal-left, .reveal-right, .reveal-scale").forEach(t=>{e.observe(t)})}initConversionOptimizations(){const e=document.getElementById("contact-form");if(e){const t=document.createElement("div");t.className="form-progress",t.innerHTML='<div class="form-progress-bar"></div>',e.insertBefore(t,e.firstChild);const n=e.querySelectorAll("input[required], select[required], textarea[required]"),a=t.querySelector(".form-progress-bar");n.forEach(e=>{e.addEventListener("input",()=>{this.updateFormProgress(n,a)}),e.addEventListener("change",()=>{this.updateFormProgress(n,a)})})}this.addUrgencyIndicators(),this.trackUserEngagement()}updateFormProgress(e,t){const n=Array.from(e).filter(e=>"email"===e.type?e.value&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value):e.value&&""!==e.value.trim()).length/e.length*100;t.style.width=`${n}%`,e.forEach(e=>{const t=e.closest(".form-group");e.value&&""!==e.value.trim()?"email"!==e.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)?(t.classList.remove("error"),t.classList.add("success")):(t.classList.remove("success"),t.classList.add("error")):t.classList.remove("success","error")})}createStickyCTA(){const e=document.createElement("div");e.className="sticky-cta",e.style.cssText="\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: var(--safety-yellow);\n            color: var(--asphalt-dark);\n            padding: var(--spacing-md) var(--spacing-lg);\n            border-radius: 25px;\n            box-shadow: var(--shadow-lg);\n            z-index: 1000;\n            font-family: var(--font-primary);\n            font-weight: 600;\n            cursor: pointer;\n            transform: translateY(100px);\n            transition: var(--transition);\n        ",e.innerHTML="\n            📞 Call for Free Quote: (555) 123-PAVE\n        ",e.addEventListener("click",()=>{window.location.href="tel:5551237283"}),document.body.appendChild(e);const t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting?e.style.transform="translateY(100px)":e.style.transform="translateY(0)"})},{threshold:.1}),n=document.getElementById("hero");n&&t.observe(n)}addUrgencyIndicators(){const e=document.querySelector(".emergency-service");if(e){const t=document.createElement("div");t.style.cssText="\n                background: rgba(255, 255, 255, 0.1);\n                padding: var(--spacing-sm);\n                border-radius: var(--border-radius);\n                margin-top: var(--spacing-md);\n                font-size: 14px;\n                text-align: center;\n            ",t.innerHTML="⚡ Average response time: 30 minutes",e.appendChild(t)}this.addSocialProof()}addSocialProof(){const e=document.querySelector(".hero-content");if(e){const t=document.createElement("div");t.className="social-proof",t.style.cssText="\n                margin-top: var(--spacing-lg);\n                padding: var(--spacing-md);\n                background: rgba(255, 255, 255, 0.1);\n                border-radius: var(--border-radius);\n                text-align: center;\n                font-size: 14px;\n            ",t.innerHTML="\n                ⭐⭐⭐⭐⭐ Rated 4.9/5 by 200+ customers | 🏆 BBB A+ Rating\n            ",e.appendChild(t)}}trackUserEngagement(){window.addEventListener("scroll",()=>{Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100)>=50&&!this.hasShownScrollOffer&&(this.showScrollOffer(),this.hasShownScrollOffer=!0)});let e=0;setInterval(()=>{e+=1,e>=120&&!this.hasShownTimeOffer&&(this.showTimeOffer(),this.hasShownTimeOffer=!0)},1e3),document.addEventListener("mouseleave",e=>{e.clientY<0&&!this.hasShownExitIntent&&(this.showExitIntentOffer(),this.hasShownExitIntent=!0)})}showScrollOffer(){this.showNotification("📱 Still browsing? Get a free quote in under 2 minutes!","info",()=>{document.getElementById("contact-form").scrollIntoView({behavior:"smooth"})})}showTimeOffer(){this.showNotification("⏰ Limited Time: Free site consultation with any quote request!","warning")}showExitIntentOffer(){this.showNotification("🚀 Wait! Get 10% off your first project - Call now: (555) 123-PAVE","success",()=>{window.location.href="tel:5551237283"})}initInteractiveFeatures(){document.querySelectorAll(".cert-icon").forEach(e=>{const t=e.closest("li");t&&(t.classList.add("tooltip"),t.setAttribute("data-tooltip","Click for more information"))}),document.querySelectorAll(".service-card").forEach(e=>{const t=e.querySelector(".btn");t&&t.addEventListener("click",t=>{t.preventDefault(),this.prefilleForm(e)})})}prefilleForm(e){const t=e.querySelector("h3").textContent,n=document.getElementById("service-type");if(n){const e={"Residential Paving":"residential","Commercial Paving":"commercial","Maintenance Services":"maintenance","Custom Solutions":"custom"}[t];e&&(n.value=e,n.dispatchEvent(new Event("change")))}document.getElementById("contact-form").scrollIntoView({behavior:"smooth"}),this.showNotification(`Form pre-filled for ${t} services!`,"success")}initClickToCall(){document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",()=>{this.trackPhoneClick(e.href)})});document.querySelectorAll(".method-info, .hero-subtitle").forEach(e=>{const t=e.textContent,n=/\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})/;n.test(t)&&(e.style.cursor="pointer",e.style.textDecoration="underline",e.addEventListener("click",()=>{const e=t.match(n)[0];window.location.href=`tel:${e.replace(/\D/g,"")}`}))})}trackPhoneClick(e){}initEmergencyServiceHighlight(){const e=(new Date).getHours(),t=e>=7&&e<=19;document.querySelectorAll(".contact-method.emergency").forEach(e=>{if(!t){e.style.order="-1",e.style.transform="scale(1.05)";const t=document.createElement("div");t.style.cssText="\n                    position: absolute;\n                    top: -10px;\n                    right: -10px;\n                    background: var(--warning-amber);\n                    color: var(--asphalt-dark);\n                    padding: var(--spacing-xs) var(--spacing-sm);\n                    border-radius: 15px;\n                    font-size: 12px;\n                    font-weight: 700;\n                    animation: pulse 2s infinite;\n                ",t.textContent="AFTER HOURS",e.style.position="relative",e.appendChild(t)}})}initNotificationSystem(){const e=document.createElement("div");e.id="notification-container",e.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 10000;\n            display: flex;\n            flex-direction: column;\n            gap: var(--spacing-md);\n        ",document.body.appendChild(e)}showNotification(e,t="info",n=null){const a=document.getElementById("notification-container");if(!a)return;const r=document.createElement("div");r.className=`notification ${t} show`,r.innerHTML=`\n            <div style="display: flex; align-items: center; justify-content: space-between;">\n                <span>${e}</span>\n                <button onclick="this.closest('.notification').remove()" style="background: none; border: none; color: inherit; font-size: 18px; cursor: pointer; margin-left: var(--spacing-md);">&times;</button>\n            </div>\n        `,n&&(r.style.cursor="pointer",r.addEventListener("click",n)),a.appendChild(r),setTimeout(()=>{r.remove()},5e3)}initLocationMaps(){try{this.locationMaps=new C}catch(e){}}initServiceWorker(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&this.showUpdateNotification()})})}).catch(e=>{})})}showUpdateNotification(){const e=document.createElement("div");e.className="update-notification",e.style.cssText="\n            position: fixed;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background: #2196F3;\n            color: white;\n            padding: 1rem 2rem;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            z-index: 10001;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n        ",e.innerHTML='\n            <span>🚀 A new version is available!</span>\n            <button onclick="window.location.reload()" \n                    style="background: white; color: #2196F3; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Update</button>\n            <button onclick="this.parentElement.remove()" \n                    style="background: transparent; color: white; border: 1px solid white; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer;">Later</button>\n        ',document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.remove()},1e4)}debounce(e,t){let n;return function(...a){const r=this;clearTimeout(n),n=setTimeout(()=>e.apply(r,a),t)}}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}document.addEventListener("DOMContentLoaded",()=>{new ia});const sa={},oa=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));a=e(t.map(e=>{if((e=function(e){return"/Neff-Paving/"+e}(e))in sa)return;sa[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};class la{constructor(){this.validationRules={area:{min:50,max:5e5,reasonable:{residential:{min:100,max:1e4},commercial:{min:1e3,max:1e5},maintenance:{min:50,max:5e4},custom:{min:50,max:5e5},emergency:{min:50,max:2e4}}},perimeter:{min:28,max:1e4}},this.measurementToolInstructions={"google-maps":{title:"Google Maps Area Finder",description:"Easy-to-use 2D measurement with satellite imagery",instructions:["Search for your project location using the address search","Click the drawing tools to select polygon, rectangle, or circle","Click on the map to start drawing your area","For polygons: Click to add points, click first point again to close","For rectangles: Click and drag to create the rectangle","For circles: Click center point, then drag to set radius",'Use the "Calculate Area" button to get measurements'],benefits:["Simple and intuitive interface","Real satellite imagery for accurate placement","Multiple drawing tools (polygon, rectangle, circle)","Automatic area and perimeter calculation","Address search for quick location finding"],limitations:["Limited to 2D measurements only","Cannot account for elevation changes","May be less accurate for complex terrain"]},"arcgis-3d":{title:"ArcGIS 3D Measurement Tool",description:"Advanced 3D measurement with terrain analysis",instructions:["Wait for the 3D scene to load completely","Use the navigation controls to position the view",'Click the "Area Measurement" tool in the toolbar',"Click on the terrain to start measuring","Continue clicking to add measurement points","Double-click to finish the measurement","View results in the measurement panel"],benefits:["True 3D measurements with elevation data","Terrain-aware calculations for slopes and hills","More accurate for complex topography","Professional-grade measurement precision","Automatic calculation of surface area on slopes"],limitations:["Requires modern browser with WebGL support","Longer loading time for 3D scene","May require more computer resources","Steeper learning curve for new users"]}},this.helpText={serviceTypes:{residential:"Driveways, walkways, patios, and small parking areas for homes",commercial:"Parking lots, loading docks, and business access areas",maintenance:"Crack sealing, sealcoating, striping, and repair work",custom:"Specialized paving projects requiring unique solutions",emergency:"Urgent repairs for safety hazards or damage"},measurementTools:{when3DRecommended:["Properties with significant elevation changes","Sloped driveways or parking areas","Terraced or multi-level projects","Properties near hills or valleys","When precise surface area is critical"],when2DAcceptable:["Flat or nearly flat surfaces","Simple rectangular areas","Quick estimates for planning","Basic residential driveways","Small maintenance projects"]}},this.tooltips={measurement3D:"Use 3D measurement for slopes and complex terrain to get accurate surface area calculations. This is especially important for driveways on hills or uneven ground.",areaValidation:"Area measurements help us provide accurate estimates and ensure we bring the right equipment and materials for your project.",serviceTypeSelection:"Select the service type that best matches your project. This helps us provide appropriate pricing and timeline estimates.",addressImportant:"Project address helps us factor in local conditions, permit requirements, and travel time for accurate estimates.",timeline:"Timeline preferences help us schedule your project efficiently and set realistic expectations for completion."}}validateAreaMeasurement(e,t="residential",n="sqft"){const a={isValid:!0,warnings:[],errors:[],recommendations:[]};if(!e||e<=0)return a.isValid=!1,a.errors.push("Area measurement is required and must be greater than 0"),a;const r=this.convertToSquareFeet(e,n);r<this.validationRules.area.min&&(a.isValid=!1,a.errors.push(`Area is below minimum of ${this.validationRules.area.min} sq ft`)),r>this.validationRules.area.max&&(a.isValid=!1,a.errors.push(`Area exceeds maximum of ${this.validationRules.area.max.toLocaleString()} sq ft`));const i=this.validationRules.area.reasonable[t];return i&&(r<i.min&&a.warnings.push(`Area seems small for ${t} projects. Typical range is ${i.min.toLocaleString()}-${i.max.toLocaleString()} sq ft`),r>i.max&&(a.warnings.push(`Area seems large for ${t} projects. Typical range is ${i.min.toLocaleString()}-${i.max.toLocaleString()} sq ft`),a.recommendations.push("Consider breaking large projects into phases"))),r>5e3&&a.recommendations.push("For large areas, consider using 3D measurement tools for better accuracy"),r>2e4&&a.recommendations.push("Large commercial projects may require site survey for final measurements"),a}validatePerimeterMeasurement(e,t,n="ft"){const a={isValid:!0,warnings:[],errors:[]};if(!e||e<=0)return a.warnings.push("Perimeter measurement not provided - using area-based estimate"),a;const r=this.convertToFeet(e,n);if(r<this.validationRules.perimeter.min&&a.warnings.push(`Perimeter seems unusually small (${r} ft)`),r>this.validationRules.perimeter.max&&a.warnings.push(`Perimeter seems unusually large (${r.toLocaleString()} ft)`),t){const e=this.convertToSquareFeet(t,"ft"===n?"sqft":"sqm"),i=r/Math.sqrt(e);i>8&&a.warnings.push("Area shape appears very elongated or irregular"),i<2&&a.warnings.push("Area shape appears very compact - please verify measurements")}return a}getMeasurementToolInstructions(e){return this.measurementToolInstructions[e]||null}getHelpText(e,t=null){return t&&this.helpText[e]&&this.helpText[e][t]?this.helpText[e][t]:this.helpText[e]||null}getTooltip(e){return this.tooltips[e]||null}recommendMeasurementTool(e,t="",n=!1){const a={primary:"google-maps",secondary:"arcgis-3d",reasoning:[]},r=["slope","hill","sloped","steep","elevation","grade","incline"].some(e=>t.toLowerCase().includes(e));return(n||r)&&(a.primary="arcgis-3d",a.secondary="google-maps",a.reasoning.push("3D measurement recommended for sloped terrain")),"commercial"===e&&(a.reasoning.push("Commercial projects benefit from precise 3D measurements"),"google-maps"===a.primary&&a.reasoning.push("Consider 3D measurement for complex layouts")),"emergency"===e&&(a.primary="google-maps",a.secondary="arcgis-3d",a.reasoning.push("Quick 2D measurement suitable for emergency repairs")),a}validateForm(e){const t={isValid:!0,errors:[],warnings:[],recommendations:[]};if(["firstName","lastName","email","phone","serviceType"].forEach(n=>{e[n]&&""!==e[n].trim()||(t.isValid=!1,t.errors.push(`${this.formatFieldName(n)} is required`))}),e.email&&!this.isValidEmail(e.email)&&(t.isValid=!1,t.errors.push("Please enter a valid email address")),e.phone&&!this.isValidPhone(e.phone)&&t.warnings.push("Phone number format could not be verified"),e.areaData){const n=this.validateAreaMeasurement(e.areaData.area||e.areaData.areaInSquareFeet,e.serviceType,"sqft");if(t.isValid=t.isValid&&n.isValid,t.errors.push(...n.errors),t.warnings.push(...n.warnings),t.recommendations.push(...n.recommendations),e.areaData.perimeter){const n=this.validatePerimeterMeasurement(e.areaData.perimeter,e.areaData.area||e.areaData.areaInSquareFeet,"ft");t.warnings.push(...n.warnings),t.errors.push(...n.errors)}}const n=this.recommendMeasurementTool(e.serviceType,e.projectDescription);return t.recommendations.push(...n.reasoning),t}getValidationMessage(e){let t="";return e.errors.length>0&&(t+=`Errors: ${e.errors.join(", ")}\n`),e.warnings.length>0&&(t+=`Warnings: ${e.warnings.join(", ")}\n`),e.recommendations.length>0&&(t+=`Recommendations: ${e.recommendations.join(", ")}`),t.trim()}convertToSquareFeet(e,t){return e*({sqft:1,sqm:10.7639,acres:43560}[t]||1)}convertToFeet(e,t){return e*({ft:1,m:3.28084,meters:3.28084}[t]||1)}formatFieldName(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}isValidPhone(e){const t=e.replace(/\D/g,"");return t.length>=10&&/^[\+]?[1-9][\d]{0,15}$/.test(t)}}class ca{constructor(){this.rates={residential:{base:3.5,premium:4.5},commercial:{base:4,premium:5}},this.modifiers={complexity:{simple:1,moderate:1.2,complex:1.5},accessibility:{easy:1,moderate:1.15,difficult:1.3},season:{peak:1.1,regular:1,offSeason:.9},urgency:{standard:1,rush:1.25,emergency:1.5}},this.materialCosts={asphalt:2.5,concrete:4,sealcoating:.5,striping:.25},this.laborRates={skilled:45,semiskilled:35,general:25}}calculateEstimate(e,t,n={}){const a={baseCost:0,materialCost:0,laborCost:0,totalCost:0,timeline:{days:0,startDate:null,endDate:null},breakdown:{}},{base:r,premium:i}=this.rates[t];a.baseCost=e*(n.premium?i:r);let s=a.baseCost;return n.complexity&&(s*=this.modifiers.complexity[n.complexity]||1),n.accessibility&&(s*=this.modifiers.accessibility[n.accessibility]||1),n.season&&(s*=this.modifiers.season[n.season]||1),n.urgency&&(s*=this.modifiers.urgency[n.urgency]||1),n.discount&&n.discount>0&&n.discount<1&&(s*=1-n.discount),a.baseCost=s,a.materialCost=this.calculateMaterialCost(e,n.materials||[]),a.laborCost=this.calculateLaborCost(e,t,n),a.timeline=this.calculateTimeline(e,t,n),a.totalCost=a.baseCost+a.materialCost+a.laborCost,a.breakdown={baseRate:n.premium?i:r,squareFeet:e,modifiers:this.getAppliedModifiers(n),materials:n.materials||[],laborHours:this.calculateLaborHours(e,t,n)},a}calculateMaterialCost(e,t){let n=0;return t.forEach(t=>{const a=this.materialCosts[t.type]||0,r=t.coverage||e,i=t.quantity||1;n+=a*r*i}),n}calculateLaborCost(e,t,n){const a=this.calculateLaborHours(e,t,n),r=n.skillLevel||"semiskilled";return a*(this.laborRates[r]||this.laborRates.semiskilled)}calculateLaborHours(e,t,n){let a=e*({residential:.02,commercial:.015}[t]||.02);return"complex"===n.complexity?a*=1.5:"moderate"===n.complexity&&(a*=1.2),"difficult"===n.accessibility?a*=1.3:"moderate"===n.accessibility&&(a*=1.15),Math.max(a,4)}calculateTimeline(e,t,n){const a=this.calculateLaborHours(e,t,n),r=n.hoursPerDay||8,i=Math.ceil(a/r),s=Math.ceil(.2*i),o=i+s,l=n.startDate?new Date(n.startDate):new Date,c=new Date(l);return c.setDate(l.getDate()+o),{days:o,workDays:i,bufferDays:s,startDate:l.toISOString().split("T")[0],endDate:c.toISOString().split("T")[0]}}getAppliedModifiers(e){const t={};return e.complexity&&(t.complexity={type:e.complexity,multiplier:this.modifiers.complexity[e.complexity]}),e.accessibility&&(t.accessibility={type:e.accessibility,multiplier:this.modifiers.accessibility[e.accessibility]}),e.season&&(t.season={type:e.season,multiplier:this.modifiers.season[e.season]}),e.urgency&&(t.urgency={type:e.urgency,multiplier:this.modifiers.urgency[e.urgency]}),e.discount&&(t.discount={rate:e.discount,multiplier:1-e.discount}),t}getAvailableOptions(){return{serviceTypes:Object.keys(this.rates),complexityLevels:Object.keys(this.modifiers.complexity),accessibilityLevels:Object.keys(this.modifiers.accessibility),seasons:Object.keys(this.modifiers.season),urgencyLevels:Object.keys(this.modifiers.urgency),materialTypes:Object.keys(this.materialCosts),skillLevels:Object.keys(this.laborRates)}}}class da{constructor(e){this.container=document.getElementById(e),this.validationService=new la,this.estimateService=new ca,this.formData={},this.measurementData=null,this.serviceType=document.getElementById("service-type"),this.squareFootage=document.getElementById("square-footage"),this.isSubmitting=!1,this.init()}init(){this.render(),this.attachEventListeners(),this.loadMeasurementData(),this.updateSubmitButtonState()}render(){this.container.innerHTML=`\n            <div class="estimate-form-container">\n                <div class="form-header">\n                    <h2>Request Your Free Estimate</h2>\n                    <p class="form-subtitle">Complete the form below to receive a detailed estimate for your paving project</p>\n                </div>\n\n                <form id="estimate-form" class="estimate-form" novalidate>\n                    \x3c!-- Personal Information Section --\x3e\n                    <div class="form-section">\n                        <h3 class="section-title">\n                            <span class="section-icon">👤</span>\n                            Personal Information\n                        </h3>\n                        \n                        <div class="form-row">\n                            <div class="form-group">\n                                <label for="firstName" class="form-label">\n                                    First Name <span class="required">*</span>\n                                </label>\n                                <input \n                                    type="text" \n                                    id="firstName" \n                                    name="firstName" \n                                    class="form-input" \n                                    required\n                                    aria-describedby="firstName-error"\n                                >\n                                <div class="error-message" id="firstName-error"></div>\n                            </div>\n                            \n                            <div class="form-group">\n                                <label for="lastName" class="form-label">\n                                    Last Name <span class="required">*</span>\n                                </label>\n                                <input \n                                    type="text" \n                                    id="lastName" \n                                    name="lastName" \n                                    class="form-input" \n                                    required\n                                    aria-describedby="lastName-error"\n                                >\n                                <div class="error-message" id="lastName-error"></div>\n                            </div>\n                        </div>\n\n                        <div class="form-row">\n                            <div class="form-group">\n                                <label for="email" class="form-label">\n                                    Email Address <span class="required">*</span>\n                                </label>\n                                <input \n                                    type="email" \n                                    id="email" \n                                    name="email" \n                                    class="form-input" \n                                    required\n                                    aria-describedby="email-error"\n                                    placeholder="your@email.com"\n                                >\n                                <div class="error-message" id="email-error"></div>\n                            </div>\n                            \n                            <div class="form-group">\n                                <label for="phone" class="form-label">\n                                    Phone Number <span class="required">*</span>\n                                </label>\n                                <input \n                                    type="tel" \n                                    id="phone" \n                                    name="phone" \n                                    class="form-input" \n                                    required\n                                    aria-describedby="phone-error"\n                                    placeholder="(555) 123-4567"\n                                >\n                                <div class="error-message" id="phone-error"></div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- Project Details Section --\x3e\n                    <div class="form-section">\n                        <h3 class="section-title">\n                            <span class="section-icon">🏗️</span>\n                            Project Details\n                        </h3>\n                        \n                        <div class="form-row">\n                            <div class="form-group">\n                                <label for="serviceType" class="form-label">\n                                    Service Type <span class="required">*</span>\n                                    <span class="tooltip" data-tooltip="${this.validationService.getTooltip("serviceTypeSelection")}">ℹ️</span>\n                                </label>\n                                <select \n                                    id="serviceType" \n                                    name="serviceType" \n                                    class="form-select" \n                                    required\n                                    aria-describedby="serviceType-error"\n                                >\n                                    <option value="">Select a service type</option>\n                                    <option value="residential">Residential Paving</option>\n                                    <option value="commercial">Commercial Paving</option>\n                                    <option value="maintenance">Maintenance Services</option>\n                                    <option value="custom">Custom Projects</option>\n                                    <option value="emergency">Emergency Repairs</option>\n                                </select>\n                                <div class="error-message" id="serviceType-error"></div>\n                                <div class="help-text" id="serviceType-help"></div>\n                            </div>\n                            \n                            <div class="form-group">\n                                <label for="timeline" class="form-label">\n                                    Preferred Timeline\n                                    <span class="tooltip" data-tooltip="${this.validationService.getTooltip("timeline")}">ℹ️</span>\n                                </label>\n                                <input \n                                    type="date" \n                                    id="timeline" \n                                    name="timeline" \n                                    class="form-input"\n                                    min="${(new Date).toISOString().split("T")[0]}"\n                                    aria-describedby="timeline-error"\n                                >\n                                <div class="error-message" id="timeline-error"></div>\n                            </div>\n                        </div>\n\n                        <div class="form-group">\n                            <label for="projectDescription" class="form-label">\n                                Project Description\n                            </label>\n                            <textarea \n                                id="projectDescription" \n                                name="projectDescription" \n                                class="form-textarea" \n                                rows="4"\n                                placeholder="Please describe your paving project in detail..."\n                                aria-describedby="projectDescription-error"\n                            ></textarea>\n                            <div class="error-message" id="projectDescription-error"></div>\n                        </div>\n                    </div>\n\n                    \x3c!-- Property Address Section --\x3e\n                    <div class="form-section">\n                        <h3 class="section-title">\n                            <span class="section-icon">📍</span>\n                            Property Address\n                            <span class="tooltip" data-tooltip="${this.validationService.getTooltip("addressImportant")}">ℹ️</span>\n                        </h3>\n                        \n                        <div class="form-group">\n                            <label for="streetAddress" class="form-label">\n                                Street Address <span class="required">*</span>\n                            </label>\n                            <input \n                                type="text" \n                                id="streetAddress" \n                                name="streetAddress" \n                                class="form-input" \n                                required\n                                placeholder="123 Main Street"\n                                aria-describedby="streetAddress-error"\n                            >\n                            <div class="error-message" id="streetAddress-error"></div>\n                        </div>\n\n                        <div class="form-row">\n                            <div class="form-group">\n                                <label for="city" class="form-label">\n                                    City <span class="required">*</span>\n                                </label>\n                                <input \n                                    type="text" \n                                    id="city" \n                                    name="city" \n                                    class="form-input" \n                                    required\n                                    aria-describedby="city-error"\n                                >\n                                <div class="error-message" id="city-error"></div>\n                            </div>\n                            \n                            <div class="form-group">\n                                <label for="state" class="form-label">\n                                    State <span class="required">*</span>\n                                </label>\n                                <select \n                                    id="state" \n                                    name="state" \n                                    class="form-select" \n                                    required\n                                    aria-describedby="state-error"\n                                >\n                                    <option value="">Select State</option>\n                                    <option value="OH">Ohio</option>\n                                    <option value="KY">Kentucky</option>\n                                    <option value="WV">West Virginia</option>\n                                    <option value="PA">Pennsylvania</option>\n                                    <option value="IN">Indiana</option>\n                                    <option value="MI">Michigan</option>\n                                </select>\n                                <div class="error-message" id="state-error"></div>\n                            </div>\n                            \n                            <div class="form-group">\n                                <label for="zipCode" class="form-label">\n                                    ZIP Code <span class="required">*</span>\n                                </label>\n                                <input \n                                    type="text" \n                                    id="zipCode" \n                                    name="zipCode" \n                                    class="form-input" \n                                    required\n                                    pattern="[0-9]{5}(-[0-9]{4})?"\n                                    placeholder="12345"\n                                    aria-describedby="zipCode-error"\n                                >\n                                <div class="error-message" id="zipCode-error"></div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- Map Measurement Data Section --\x3e\n                    <div class="form-section">\n                        <h3 class="section-title">\n                            <span class="section-icon">📐</span>\n                            Area Measurement\n                            <span class="tooltip" data-tooltip="${this.validationService.getTooltip("areaValidation")}">ℹ️</span>\n                        </h3>\n                        \n                        <div class="measurement-status" id="measurement-status">\n                            <div class="measurement-requirement">\n                                <strong>Use the map below to measure your project area</strong>\n                                <p>Draw the area on the map to get an accurate measurement for your estimate.</p>\n                            </div>\n                        </div>\n\n                        \x3c!-- Map Container --\x3e\n                        <div class="map-container">\n                            \x3c!-- Tool Selection --\x3e\n                            <div class="tool-selection">\n                                <button type="button" class="toggle-btn active" data-tool="arcgis-3d" id="arcgis-toggle">\n                                    🗺️ ArcGIS 3D Measurement\n                                </button>\n                                <button type="button" class="toggle-btn" data-tool="google-maps" id="google-maps-toggle">\n                                    📍 Google Maps Measurement\n                                </button>\n                            </div>\n\n                            \x3c!-- ArcGIS Container (Default/Active) --\x3e\n                            <div id="arcgis-container" class="map-placeholder" style="display: block;">\n                                <div id="arcgis-scene-view" style="height: 400px; width: 100%; position: relative;">\n                                    <div id="arcgis-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; background: #f5f5f5; border-radius: 8px; flex-direction: column; gap: 1rem;">\n                                        <div class="loading-spinner" style="width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #ffd700; border-radius: 50%; animation: spin 1s linear infinite;"></div>\n                                        <p style="color: #6b6b6b; font-size: 16px; margin: 0;">Loading ArcGIS 3D scene...</p>\n                                    </div>\n                                </div>\n                                <div id="arcgis-results" class="measurement-results" style="display: none; margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">\n                                    <h4 style="margin: 0 0 0.5rem 0; color: #2c2c2c; font-size: 18px;">Measurement Results</h4>\n                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">\n                                        <div class="result-item">\n                                            <span style="font-weight: 600; color: #495057;">Line Measurement:</span>\n                                            <span id="line-result" style="color: #007bff; font-weight: 600;">0 m</span>\n                                        </div>\n                                        <div class="result-item">\n                                            <span style="font-weight: 600; color: #495057;">Area Measurement:</span>\n                                            <span id="area-result" style="color: #28a745; font-weight: 600;">0 m²</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            \x3c!-- Google Maps Container (Hidden by default) --\x3e\n                            <div id="google-maps-container" class="map-placeholder" style="display: none;">\n                                <div id="google-maps-measurement" style="height: 400px; width: 100%; position: relative;">\n                                    <p style="text-align: center; padding: 2rem; color: #6b6b6b;">Google Maps measurement tool will load here</p>\n                                </div>\n                                <div id="google-maps-results" class="measurement-results" style="display: none; margin-top: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">\n                                    <h4 style="margin: 0 0 0.5rem 0; color: #2c2c2c; font-size: 18px;">Measurement Results</h4>\n                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">\n                                        <div class="result-item">\n                                            <span style="font-weight: 600; color: #495057;">Area:</span>\n                                            <span id="google-area-result" style="color: #28a745; font-weight: 600;">0 sq ft</span>\n                                        </div>\n                                        <div class="result-item">\n                                            <span style="font-weight: 600; color: #495057;">Perimeter:</span>\n                                            <span id="google-perimeter-result" style="color: #007bff; font-weight: 600;">0 ft</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        \x3c!-- Hidden fields for measurement data --\x3e\n                        <input type="hidden" id="areaCoordinates" name="areaCoordinates">\n                        <input type="hidden" id="calculatedSquareFootage" name="calculatedSquareFootage">\n                        <input type="hidden" id="measurementTool" name="measurementTool">\n                        <input type="hidden" id="measurementTimestamp" name="measurementTimestamp">\n                    </div>\n\n                    \x3c!-- Form Actions --\x3e\n                    <div class="form-actions">\n                        <button type="button" class="btn btn-outline" id="reset-form">\n                            Reset Form\n                        </button>\n                        <button type="submit" class="btn btn-primary" id="submit-estimate" disabled>\n                            <span class="btn-text">Request Estimate</span>\n                            <span class="btn-loading" style="display: none;">\n                                <span class="spinner"></span> Processing...\n                            </span>\n                        </button>\n                        <button type="button" class="btn btn-secondary" id="get-quote" disabled style="margin-left: 1rem;">\n                            <span class="btn-text">Get Quick Quote</span>\n                            <span class="btn-loading" style="display: none;">\n                                <span class="spinner"></span> Calculating...\n                            </span>\n                        </button>\n                    </div>\n                    \n                    \x3c!-- Pricing Display Section --\x3e\n                    <div class="pricing-display" id="pricing-display" style="display: none;">\n                        <div class="pricing-header">\n                            <h3>Estimated Pricing</h3>\n                            <p class="pricing-disclaimer">*This is an estimate. Final pricing may vary based on site conditions and additional requirements.</p>\n                        </div>\n                        <div class="pricing-details" id="pricing-details">\n                            \x3c!-- Pricing information will be populated here --\x3e\n                        </div>\n                    </div>\n\n                    \x3c!-- Form Validation Summary --\x3e\n                    <div class="validation-summary" id="validation-summary" style="display: none;">\n                        <h4>Please correct the following errors:</h4>\n                        <ul id="validation-errors"></ul>\n                    </div>\n                </form>\n            </div>\n        `}attachEventListeners(){const e=document.getElementById("estimate-form");document.getElementById("submit-estimate");const t=document.getElementById("get-quote"),n=document.getElementById("reset-form"),a=document.getElementById("serviceType"),r=document.getElementById("arcgis-toggle"),i=document.getElementById("google-maps-toggle");e.addEventListener("submit",e=>this.handleSubmit(e)),t&&t.addEventListener("click",()=>this.handleGetQuote()),n.addEventListener("click",()=>this.resetForm()),a.addEventListener("change",e=>this.handleServiceTypeChange(e)),e.addEventListener("input",e=>this.handleFieldValidation(e)),e.addEventListener("blur",e=>this.handleFieldValidation(e),!0),r&&r.addEventListener("click",()=>this.toggleMeasurementTool("arcgis-3d")),i&&i.addEventListener("click",()=>this.toggleMeasurementTool("google-maps"));document.getElementById("phone").addEventListener("input",e=>this.formatPhoneNumber(e)),setTimeout(()=>this.initializeMeasurementTools(),100)}handleSubmit(e){if(e.preventDefault(),this.isSubmitting)return;this.isSubmitting=!0,this.updateSubmitButtonState(!0);const t=new FormData(e.target),n=Object.fromEntries(t.entries());this.measurementData&&(n.areaData=this.measurementData);const a=this.validationService.validateForm(n);if(!a.isValid)return this.displayValidationErrors(a),this.isSubmitting=!1,void this.updateSubmitButtonState(!1);this.submitForm(n)}async submitForm(e){var t;try{const n=this.estimateService.calculateEstimate((null==(t=e.areaData)?void 0:t.areaInSquareFeet)||0,e.serviceType,{premium:!1,complexity:"moderate",accessibility:"easy",season:"regular",urgency:"standard"}),a={...e,estimate:n,submittedAt:(new Date).toISOString()},r=await fetch("/api/estimates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw new Error("Failed to submit estimate request");const i=await r.json();this.handleSubmitSuccess(i)}catch(n){this.handleSubmitError(n)}finally{this.isSubmitting=!1,this.updateSubmitButtonState(!1)}}handleSubmitSuccess(e){var t,n;this.container.innerHTML=`\n            <div class="success-message">\n                <div class="success-icon">✅</div>\n                <h2>Estimate Request Submitted Successfully!</h2>\n                <p>Thank you for your interest in our paving services. We've received your request and will contact you within 2 hours.</p>\n                <div class="success-details">\n                    <p><strong>Reference #:</strong> ${e.referenceNumber}</p>\n                    <p><strong>Estimated Project Cost:</strong> $${(null==(n=null==(t=e.estimate)?void 0:t.totalCost)?void 0:n.toLocaleString())||"TBD"}</p>\n                </div>\n                <button type="button" class="btn btn-primary" onclick="window.location.reload()">\n                    Submit Another Request\n                </button>\n            </div>\n        `,oa(async()=>{const{handleFormSubmission:e}=await Promise.resolve().then(()=>E);return{handleFormSubmission:e}},void 0).then(({handleFormSubmission:e})=>{e()})}handleSubmitError(e){const t=document.createElement("div");t.className="error-alert",t.innerHTML=`\n            <strong>Error:</strong> ${e.message}\n            <button type="button" class="error-close" onclick="this.parentElement.remove()">×</button>\n        `,this.container.insertBefore(t,this.container.firstChild)}handleFieldValidation(e){const t=e.target,n=t.name,a=t.value;if(!n)return;const r=document.getElementById(`${n}-error`);if(r&&(r.textContent="",t.classList.remove("error")),!t.hasAttribute("required")||a.trim()){switch(n){case"email":a&&!this.validationService.isValidEmail(a)&&this.showFieldError(t,"Please enter a valid email address");break;case"phone":a&&!this.validationService.isValidPhone(a)&&this.showFieldError(t,"Please enter a valid phone number");break;case"zipCode":a&&!/^\d{5}(-\d{4})?$/.test(a)&&this.showFieldError(t,"Please enter a valid ZIP code")}this.updateSubmitButtonState()}else"blur"===e.type&&this.showFieldError(t,"This field is required")}showFieldError(e,t){const n=document.getElementById(`${e.name}-error`);n&&(n.textContent=t,e.classList.add("error"))}displayValidationErrors(e){const t=document.getElementById("validation-summary"),n=document.getElementById("validation-errors");e.errors.length>0&&(n.innerHTML=e.errors.map(e=>`<li>${e}</li>`).join(""),t.style.display="block",t.scrollIntoView({behavior:"smooth"}))}handleServiceTypeChange(e){const t=e.target.value,n=document.getElementById("serviceType-help");t&&this.validationService.getHelpText("serviceTypes",t)?(n.textContent=this.validationService.getHelpText("serviceTypes",t),n.style.display="block"):n.style.display="none"}formatPhoneNumber(e){let t=e.target.value.replace(/\D/g,"");t.length>=6?t=t.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):t.length>=3?t=t.replace(/(\d{3})(\d{3})/,"($1) $2"):t.length>0&&(t=t.replace(/(\d{3})/,"($1")),e.target.value=t}launchMeasurementTool(e){window.open(`/assets/measurement-tools/${e}.html`,"_blank")}loadMeasurementData(){v()&&(this.measurementData=y(),this.updateMeasurementStatus())}updateMeasurementStatus(){const e=document.getElementById("measurement-status");if(this.measurementData&&(this.measurementData.googleMaps||this.measurementData.arcgis)){const t=this.measurementData.googleMaps||this.measurementData.arcgis,n=t.areaInSquareFeet||t.area||0;e.innerHTML=`\n                <div class="measurement-success">\n                    <strong>✅ Area Measured: ${n.toLocaleString()} sq ft</strong>\n                    <p>Using ${"google-maps"===this.measurementData.activeTool?"Google Maps":"ArcGIS 3D"} tool</p>\n                </div>\n            `,document.getElementById("calculatedSquareFootage").value=n,document.getElementById("measurementTool").value=this.measurementData.activeTool,document.getElementById("measurementTimestamp").value=(new Date).toISOString()}}updateSubmitButtonState(e=!1){const t=document.getElementById("submit-estimate"),n=document.getElementById("get-quote"),a=t.querySelector(".btn-text"),r=t.querySelector(".btn-loading"),i=n.querySelector(".btn-text"),s=n.querySelector(".btn-loading");if(e)return a.style.display="none",r.style.display="inline-flex",void(t.disabled=!0);a.style.display="inline",r.style.display="none";const o=this.checkRequiredFields(),l=this.measurementData&&(this.measurementData.googleMaps||this.measurementData.arcgis);t.disabled=!o||!l,n.disabled=!l,l||(i.style.display="inline",s.style.display="none")}checkRequiredFields(){return["firstName","lastName","email","phone","serviceType","streetAddress","city","state","zipCode"].every(e=>{const t=document.getElementById(e);return t&&t.value.trim()})}resetForm(){confirm("Are you sure you want to reset the form? All entered data will be lost.")&&(document.getElementById("estimate-form").reset(),this.measurementData=null,this.updateMeasurementStatus(),this.updateSubmitButtonState(),document.querySelectorAll(".error-message").forEach(e=>e.textContent=""),document.querySelectorAll(".form-input, .form-select, .form-textarea").forEach(e=>{e.classList.remove("error")}),oa(async()=>{const{handleFormReset:e}=await Promise.resolve().then(()=>E);return{handleFormReset:e}},void 0).then(({handleFormReset:e})=>{e()}))}initializeMeasurementTools(){this.loadArcGISMeasurementTool()}toggleMeasurementTool(e){const t=document.getElementById("arcgis-toggle"),n=document.getElementById("google-maps-toggle"),a=document.getElementById("arcgis-container"),r=document.getElementById("google-maps-container");document.querySelectorAll(".toggle-btn").forEach(e=>e.classList.remove("active")),"arcgis-3d"===e?(t.classList.add("active"),a.style.display="block",r.style.display="none",this.arcgisLoaded||this.loadArcGISMeasurementTool()):"google-maps"===e&&(n.classList.add("active"),a.style.display="none",r.style.display="block",this.googleMapsLoaded||this.loadGoogleMapsMeasurementTool()),this.activeMeasurementTool=e}async loadArcGISMeasurementTool(){if(!this.arcgisLoaded)try{this.arcgisLoaded=!0;const e=document.createElement("link");e.rel="stylesheet",e.href="https://js.arcgis.com/4.33/esri/themes/light/main.css",document.head.appendChild(e);const t=document.createElement("script");t.type="module",t.src="https://js.arcgis.com/calcite-components/3.2.1/calcite.esm.js",document.head.appendChild(t);const n=document.createElement("script");n.src="https://js.arcgis.com/4.33/",n.onload=()=>{const e=document.createElement("script");e.type="module",e.src="https://js.arcgis.com/4.33/map-components/",e.onload=()=>{this.initializeArcGISScene()},document.head.appendChild(e)},document.head.appendChild(n)}catch(e){this.showArcGISError(e)}}initializeArcGISScene(){const e=document.getElementById("arcgis-scene-view");document.getElementById("arcgis-placeholder");const t=document.getElementById("arcgis-results"),n=document.getElementById("line-result"),a=document.getElementById("area-result");e.innerHTML='\n            <arcgis-scene item-id="5ce0de673d3b41a3bf3a217942211c4b" style="height: 100%; width: 100%;">\n                <arcgis-zoom position="top-left"></arcgis-zoom>\n                <arcgis-navigation-toggle position="top-left"></arcgis-navigation-toggle>\n                <arcgis-compass position="top-left"></arcgis-compass>\n                <arcgis-expand id="expand-line" position="top-right" group="top-right">\n                    <arcgis-direct-line-measurement-3d></arcgis-direct-line-measurement-3d>\n                </arcgis-expand>\n                <arcgis-expand id="expand-area" position="top-right" group="top-right">\n                    <arcgis-area-measurement-3d></arcgis-area-measurement-3d>\n                </arcgis-expand>\n            </arcgis-scene>\n        ',setTimeout(()=>{const r=e.querySelector("arcgis-scene"),i=e.querySelector("arcgis-direct-line-measurement-3d"),s=e.querySelector("arcgis-area-measurement-3d"),o=e.querySelector("#expand-line"),l=e.querySelector("#expand-area");r&&i&&s&&r.viewOnReady().then(()=>{this.setupArcGISMeasurementObservers(o,l,i,s,n,a,t)})},1e3)}setupArcGISMeasurementObservers(e,t,n,a,r,i,s){new MutationObserver(e=>{e.forEach(e=>{e.target.expanded?(n.start(),s.style.display="block"):(n.clear(),a.clear(),r.textContent="0 m",i.textContent="0 m²",t.expanded||(s.style.display="none"))})}).observe(e,{attributeFilter:["expanded"]});new MutationObserver(t=>{t.forEach(t=>{t.target.expanded?(a.start(),s.style.display="block"):(n.clear(),a.clear(),r.textContent="0 m",i.textContent="0 m²",e.expanded||(s.style.display="none"))})}).observe(t,{attributeFilter:["expanded"]}),n.addEventListener("measure-complete",e=>{e.detail&&e.detail.distance&&(r.textContent=`${e.detail.distance.toFixed(2)} ${e.detail.unit||"m"}`,this.updateProjectSizeFromMeasurement(e.detail,"distance"))}),a.addEventListener("measure-complete",e=>{e.detail&&e.detail.area&&(i.textContent=`${e.detail.area.toFixed(2)} ${e.detail.unit||"m²"}`,this.updateProjectSizeFromMeasurement(e.detail,"area"))})}updateProjectSizeFromMeasurement(e,t){if("area"===t&&e.area){const t=Math.round(10.764*e.area);document.getElementById("calculatedSquareFootage").value=t,document.getElementById("measurementTool").value="arcgis-3d",document.getElementById("measurementTimestamp").value=(new Date).toISOString(),this.measurementData={arcgis:{area:t,areaInSquareFeet:t,coordinates:[],timestamp:(new Date).toISOString()},activeTool:"arcgis-3d"},this.updateMeasurementStatus(),this.updateSubmitButtonState()}}async loadGoogleMapsMeasurementTool(){document.getElementById("google-maps-measurement").innerHTML='<p style="text-align: center; padding: 2rem; color: #28a745;">Google Maps measurement tool coming soon!</p>',this.googleMapsLoaded=!0}showArcGISError(e){const t=document.getElementById("arcgis-placeholder");t&&(t.innerHTML='\n                <div style="text-align: center; padding: 2rem; color: #dc3545;">\n                    <div style="font-size: 48px; margin-bottom: 1rem;">⚠️</div>\n                    <h3 style="margin-bottom: 1rem; color: #dc3545;">Failed to Load ArcGIS</h3>\n                    <p style="margin-bottom: 1.5rem; color: #6c757d;">Unable to load the 3D measurement tool. This might be due to a network issue or service unavailability.</p>\n                    <button onclick="window.location.reload();" \n                            style="padding: 0.5rem 1rem; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">Retry</button>\n                    <p style="margin-top: 1rem; font-size: 0.9rem; color: #6c757d;">Please try refreshing the page or contact us directly for assistance.</p>\n                </div>\n            ')}async handleGetQuote(){if(!this.measurementData||!this.measurementData.googleMaps&&!this.measurementData.arcgis)return void alert("Please measure the project area first using the map tool above.");const e=document.getElementById("get-quote"),t=e.querySelector(".btn-text"),n=e.querySelector(".btn-loading");t.style.display="none",n.style.display="inline-flex",e.disabled=!0;try{const e=document.getElementById("serviceType").value||"residential",t=this.calculatePricing(e);this.displayPricing(t)}catch(a){alert("Unable to calculate pricing. Please try again.")}finally{t.style.display="inline",n.style.display="none",e.disabled=!1}}calculatePricing(e="residential"){if(!this.measurementData)throw new Error("No measurement data available");const t=this.measurementData.googleMaps||this.measurementData.arcgis,n=t.areaInSquareFeet||t.area||0,a={residential:{asphalt:{min:3.5,max:7,avg:5.25},concrete:{min:6,max:12,avg:9},maintenance:{min:1.5,max:3,avg:2.25}},commercial:{asphalt:{min:4,max:8.5,avg:6.25},concrete:{min:7,max:15,avg:11},maintenance:{min:2,max:4,avg:3}},maintenance:{asphalt:{min:1.5,max:3.5,avg:2.5},concrete:{min:2,max:4.5,avg:3.25},maintenance:{min:1,max:2.5,avg:1.75}},custom:{asphalt:{min:4.5,max:9,avg:6.75},concrete:{min:8,max:16,avg:12},maintenance:{min:2.5,max:5,avg:3.75}},emergency:{asphalt:{min:5,max:10,avg:7.5},concrete:{min:9,max:18,avg:13.5},maintenance:{min:3,max:6,avg:4.5}}},r=a[e]||a.residential,i={asphalt:{min:Math.round(n*r.asphalt.min),max:Math.round(n*r.asphalt.max),avg:Math.round(n*r.asphalt.avg)},concrete:{min:Math.round(n*r.concrete.min),max:Math.round(n*r.concrete.max),avg:Math.round(n*r.concrete.avg)},maintenance:{min:Math.round(n*r.maintenance.min),max:Math.round(n*r.maintenance.max),avg:Math.round(n*r.maintenance.avg)}},s=this.getSizeMultiplier(n),o=this.getSeasonMultiplier();return Object.keys(i).forEach(e=>{i[e].min=Math.round(i[e].min*s*o),i[e].max=Math.round(i[e].max*s*o),i[e].avg=Math.round(i[e].avg*s*o)}),{squareFootage:n,serviceType:e,calculations:i,factors:{sizeMultiplier:s,seasonMultiplier:o},timestamp:(new Date).toISOString()}}getSizeMultiplier(e){return e<500?1.2:e<1e3?1.1:e<2e3?1:e<5e3?.95:.9}getSeasonMultiplier(){const e=(new Date).getMonth();return 11===e||0===e||1===e?1.15:e>=2&&e<=4||e>=8&&e<=9?1:.95}displayPricing(e){const t=document.getElementById("pricing-display"),n=document.getElementById("pricing-details");if(!t||!n)return;const{squareFootage:a,serviceType:r,calculations:i,factors:s}=e;n.innerHTML=`\n            <div class="pricing-overview">\n                <div class="pricing-stat">\n                    <span class="stat-label">Project Area:</span>\n                    <span class="stat-value">${a.toLocaleString()} sq ft</span>\n                </div>\n                <div class="pricing-stat">\n                    <span class="stat-label">Service Type:</span>\n                    <span class="stat-value">${this.formatServiceType(r)}</span>\n                </div>\n            </div>\n            \n            <div class="estimate-disclaimer" style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 1rem; margin: 1.5rem 0; color: #856404;">\n                <div style="display: flex; align-items: flex-start; gap: 0.75rem;">\n                    <span style="font-size: 1.25rem; flex-shrink: 0;">⚠️</span>\n                    <div>\n                        <strong style="display: block; margin-bottom: 0.5rem; color: #856404;">Important Pricing Disclaimer</strong>\n                        <p style="margin: 0; line-height: 1.5; color: #856404;">These estimates are preliminary calculations based on basic measurements and standard pricing. The final project price may vary anywhere from <strong>25% to 50% higher or lower</strong> than the predicted cost depending on site conditions, material choices, accessibility, permits, and specific project requirements.</p>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="material-pricing">\n                <h4>Pricing by Material</h4>\n                \n                <div class="material-option">\n                    <div class="material-header">\n                        <h5>🛣️ Asphalt Paving</h5>\n                        <p>Durable, cost-effective option for driveways and parking lots</p>\n                    </div>\n                    <div class="price-range">\n                        <span class="price-min">$${i.asphalt.min.toLocaleString()}</span>\n                        <span class="price-separator">-</span>\n                        <span class="price-max">$${i.asphalt.max.toLocaleString()}</span>\n                        <span class="price-avg">Avg: $${i.asphalt.avg.toLocaleString()}</span>\n                    </div>\n                </div>\n                \n                <div class="material-option">\n                    <div class="material-header">\n                        <h5>🏗️ Concrete Paving</h5>\n                        <p>Long-lasting, premium option with excellent durability</p>\n                    </div>\n                    <div class="price-range">\n                        <span class="price-min">$${i.concrete.min.toLocaleString()}</span>\n                        <span class="price-separator">-</span>\n                        <span class="price-max">$${i.concrete.max.toLocaleString()}</span>\n                        <span class="price-avg">Avg: $${i.concrete.avg.toLocaleString()}</span>\n                    </div>\n                </div>\n                \n                <div class="material-option">\n                    <div class="material-header">\n                        <h5>🔧 Maintenance Services</h5>\n                        <p>Repairs, sealing, and restoration services</p>\n                    </div>\n                    <div class="price-range">\n                        <span class="price-min">$${i.maintenance.min.toLocaleString()}</span>\n                        <span class="price-separator">-</span>\n                        <span class="price-max">$${i.maintenance.max.toLocaleString()}</span>\n                        <span class="price-avg">Avg: $${i.maintenance.avg.toLocaleString()}</span>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="pricing-factors">\n                <h4>Pricing Factors Applied</h4>\n                <ul>\n                    <li>Project Size: ${this.formatMultiplier(s.sizeMultiplier)} (${this.getSizeDescription(a)})</li>\n                    <li>Seasonal Rate: ${this.formatMultiplier(s.seasonMultiplier)} (${this.getSeasonDescription()})</li>\n                    <li>Service Type: ${this.formatServiceType(r)}</li>\n                </ul>\n            </div>\n            \n            <div class="pricing-actions">\n                <button type="button" class="btn btn-primary" onclick="document.getElementById('submit-estimate').scrollIntoView({behavior: 'smooth'})">\n                    Request Detailed Estimate\n                </button>\n                <button type="button" class="btn btn-outline" onclick="window.print()">\n                    Print Quote\n                </button>\n            </div>\n        `,t.style.display="block",t.scrollIntoView({behavior:"smooth"})}formatServiceType(e){return{residential:"Residential Paving",commercial:"Commercial Paving",maintenance:"Maintenance Services",custom:"Custom Projects",emergency:"Emergency Repairs"}[e]||"Residential Paving"}formatMultiplier(e){const t=Math.round(100*(e-1));return t>0?`+${t}%`:t<0?`${t}%`:"Standard"}getSizeDescription(e){return e<500?"Small project":e<1e3?"Medium project":e<2e3?"Large project":e<5e3?"Very large project":"Commercial scale"}getSeasonDescription(){const e=(new Date).getMonth();return 11===e||0===e||1===e?"Winter rates":e>=2&&e<=4||e>=8&&e<=9?"Peak season":"Summer rates"}}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("estimate-form-container");if(e)try{new da("estimate-form-container")}catch(t){e.innerHTML=`\n                        <div style="text-align: center; padding: 3rem; color: #e74c3c; background: #fdf2f2; border: 2px solid #e74c3c; border-radius: 8px;">\n                            <h3>Unable to Load Form</h3>\n                            <p>Please refresh the page to try again.</p>\n                            <p style="font-size: 0.9rem; margin-top: 1rem; color: #666;">Error: ${t.message}</p>\n                        </div>\n                    `}});
