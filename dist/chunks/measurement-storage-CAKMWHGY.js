/* empty css              */import{r as e,g as t,a as n}from"./chunk-E0eRZBtV.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function r(e={}){var t;if("undefined"==typeof window||null===e.route)return null;window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)});const n=function(e){return e.scriptSrc?e.scriptSrc:e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}(e);if(document.head.querySelector(`script[src*="${n}"]`))return null;e.beforeSend&&(null==(t=window.si)||t.call(window,"beforeSend",e.beforeSend));const r=document.createElement("script");return r.src=n,r.defer=!0,r.dataset.sdkn="@vercel/speed-insights"+(e.framework?`/${e.framework}`:""),r.dataset.sdkv="1.2.0",e.sampleRate&&(r.dataset.sampleRate=e.sampleRate.toString()),e.route&&(r.dataset.route=e.route),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(r.dataset.dsn=e.dsn),r.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${n}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(r),{setRoute:e=>{r.dataset.route=null!=e?e:void 0}}}function o(){return"undefined"!=typeof window}function a(){try{}catch(e){}return"production"}function s(){return"development"===((o()?window.vam:a())||"production")}function i(e={debug:!0}){var t;if(!o())return;!function(e="auto"){window.vam="auto"!==e?e:a()}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=function(e){return e.scriptSrc?e.scriptSrc:s()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),r.dataset.sdkv="1.5.0",e.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(r.dataset.dsn=e.dsn),r.onerror=()=>{const e=s()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${e}`)},s()&&!1===e.debug&&(r.dataset.debug="false"),document.head.appendChild(r)}const l={apiKey:"",libraries:["drawing","geometry","places"]},c={zoom:15,center:{lat:39.9612,lng:-82.9988},mapTypeId:"hybrid",mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_CENTER},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},fullscreenControl:!0},d={drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.RECTANGLE,google.maps.drawing.OverlayType.CIRCLE]},polygonOptions:{fillColor:"#FFD700",fillOpacity:.3,strokeWeight:2,strokeColor:"#FFD700",clickable:!1,editable:!0,zIndex:1},rectangleOptions:{fillColor:"#FFD700",fillOpacity:.3,strokeWeight:2,strokeColor:"#FFD700",clickable:!1,editable:!0,zIndex:1},circleOptions:{fillColor:"#FFD700",fillOpacity:.3,strokeWeight:2,strokeColor:"#FFD700",clickable:!1,editable:!0,zIndex:1}},u={GOOGLE_MAPS_DATA:"neff_paving_google_maps_measurements",ARCGIS_DATA:"neff_paving_arcgis_measurements",ACTIVE_TOOL:"neff_paving_active_measurement_tool",MEASUREMENT_SESSION:"neff_paving_measurement_session"};function p(e,t){try{const n=x(e),r={data:t,timestamp:(new Date).toISOString(),toolType:e};sessionStorage.setItem(n,JSON.stringify(r)),sessionStorage.setItem(u.ACTIVE_TOOL,e),E(),console.log(`Measurement data stored for ${e}:`,t)}catch(n){console.error("Failed to store measurement data:",n)}}function g(e){try{const t=x(e),n=sessionStorage.getItem(t);if(!n)return null;const r=JSON.parse(n),o=Date.now()-new Date(r.timestamp).getTime();return o>864e5?(h(e),null):r.data}catch(t){return console.error("Failed to retrieve measurement data:",t),null}}function h(e){try{const t=x(e);sessionStorage.removeItem(t),E(),console.log(`Measurement data cleared for ${e}`)}catch(t){console.error("Failed to clear measurement data:",t)}}function m(){try{Object.values(u).forEach(e=>{sessionStorage.removeItem(e)}),console.log("All measurement data cleared")}catch(e){console.error("Failed to clear all measurement data:",e)}}function f(){return sessionStorage.getItem(u.ACTIVE_TOOL)||"google-maps"}function y(){return Object.values(u).some(e=>e!==u.MEASUREMENT_SESSION&&null!==sessionStorage.getItem(e))}function v(){return{googleMaps:g("google-maps"),arcgis:g("arcgis"),activeTool:f()}}function b(){m()}function w(){m()}function x(e){switch(e){case"google-maps":return u.GOOGLE_MAPS_DATA;case"arcgis":return u.ARCGIS_DATA;default:throw new Error(`Unknown tool type: ${e}`)}}function E(){try{const e={lastUpdated:(new Date).toISOString(),tools:[]};sessionStorage.getItem(u.GOOGLE_MAPS_DATA)&&e.tools.push("google-maps"),sessionStorage.getItem(u.ARCGIS_DATA)&&e.tools.push("arcgis"),sessionStorage.setItem(u.MEASUREMENT_SESSION,JSON.stringify(e))}catch(e){console.error("Failed to update session metadata:",e)}}function S(){try{const e=sessionStorage.getItem(u.MEASUREMENT_SESSION);if(e){const t=JSON.parse(e),n=Date.now()-new Date(t.lastUpdated).getTime();n>864e5&&m()}}catch(e){console.error("Failed to initialize storage:",e)}}class I{constructor(e,t={}){if(this.containerId=e,this.container=document.getElementById(e),this.options={showCalculator:!0,showAddressSearch:!0,showAreaInfo:!0,onAreaCalculated:()=>{},...t},this.map=null,this.drawingManager=null,this.currentShape=null,this.currentArea=null,this.geocoder=null,this.searchBox=null,!this.container)throw new Error(`Container with ID "${e}" not found`);this.init()}async init(){try{this.render(),await this.loadGoogleMaps(),this.initMap(),this.setupEventListeners()}catch(e){console.error("Error initializing area finder:",e),this.showError("Failed to initialize area finder")}}render(){this.container.innerHTML=`\n            <div class="area-finder-container">\n                ${this.options.showAddressSearch?'\n                <div class="area-finder-controls">\n                    <div class="search-section">\n                        <label for="address-search">Search Location</label>\n                        <div class="search-input-group">\n                            <input \n                                type="text" \n                                id="address-search" \n                                placeholder="Enter address or coordinates..."\n                                class="form-control"\n                            >\n                            <button type="button" id="search-btn" class="btn btn-primary">Search</button>\n                        </div>\n                    </div>\n                    \n                    <div class="drawing-controls">\n                        <button type="button" id="clear-shapes" class="btn btn-outline-danger" disabled>Clear All</button>\n                        <button type="button" id="calculate-area" class="btn btn-outline-success" disabled>Calculate Area</button>\n                    </div>\n                </div>\n                ':""}\n                \n                <div class="map-section">\n                    <div id="${this.containerId}-map" class="area-finder-map"></div>\n                    \n                    <div class="map-instructions">\n                        <h6>Instructions:</h6>\n                        <ul>\n                            <li>Click on the map to start drawing</li>\n                            <li>Continue clicking to add points</li>\n                            <li>Click the first point again to close the shape</li>\n                            <li>Use the drawing tools above the map to switch between shapes</li>\n                        </ul>\n                    </div>\n                </div>\n                \n                ${this.options.showAreaInfo?'\n                <div class="area-info-section">\n                    <div id="area-results" class="area-results" style="display: none;">\n                        <h6>Area Calculation Results</h6>\n                        <div class="results-grid">\n                            <div class="result-item">\n                                <span class="result-label">Area:</span>\n                                <span class="result-value" id="area-sqft">0 sq ft</span>\n                            </div>\n                            <div class="result-item">\n                                <span class="result-label">Perimeter:</span>\n                                <span class="result-value" id="perimeter-ft">0 ft</span>\n                            </div>\n                            <div class="result-item">\n                                <span class="result-label">Acres:</span>\n                                <span class="result-value" id="area-acres">0 acres</span>\n                            </div>\n                            <div class="result-item">\n                                <span class="result-label">Square Meters:</span>\n                                <span class="result-value" id="area-sqm">0 m¬≤</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                ':""}\n            </div>\n        `,this.addStyles()}addStyles(){if(document.getElementById("area-finder-styles"))return;const e=document.createElement("style");e.id="area-finder-styles",e.textContent="\n            .area-finder-container {\n                background: #ffffff;\n                border-radius: 12px;\n                overflow: hidden;\n                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n            }\n\n            .area-finder-controls {\n                padding: 20px;\n                background: #f8f9fa;\n                border-bottom: 1px solid #e9ecef;\n                display: flex;\n                flex-wrap: wrap;\n                gap: 20px;\n                align-items: end;\n            }\n\n            .search-section {\n                flex: 1;\n                min-width: 300px;\n            }\n\n            .search-section label {\n                display: block;\n                margin-bottom: 6px;\n                font-weight: 500;\n                color: #374151;\n            }\n\n            .search-input-group {\n                display: flex;\n                gap: 8px;\n            }\n\n            .search-input-group input {\n                flex: 1;\n                padding: 10px 12px;\n                border: 1px solid #d1d5db;\n                border-radius: 8px;\n                font-size: 14px;\n            }\n\n            .search-input-group input:focus {\n                outline: none;\n                border-color: #2563eb;\n                box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n            }\n\n            .drawing-controls {\n                display: flex;\n                gap: 10px;\n            }\n\n            .btn {\n                padding: 8px 16px;\n                border-radius: 6px;\n                font-size: 14px;\n                font-weight: 500;\n                border: 1px solid transparent;\n                cursor: pointer;\n                transition: all 0.2s;\n            }\n\n            .btn-primary {\n                background: #2563eb;\n                color: white;\n                border-color: #2563eb;\n            }\n\n            .btn-primary:hover {\n                background: #1d4ed8;\n            }\n\n            .btn-outline-danger {\n                color: #dc2626;\n                border-color: #dc2626;\n                background: transparent;\n            }\n\n            .btn-outline-danger:hover {\n                background: #dc2626;\n                color: white;\n            }\n\n            .btn-outline-success {\n                color: #16a34a;\n                border-color: #16a34a;\n                background: transparent;\n            }\n\n            .btn-outline-success:hover {\n                background: #16a34a;\n                color: white;\n            }\n\n            .btn:disabled {\n                opacity: 0.5;\n                cursor: not-allowed;\n            }\n\n            .map-section {\n                position: relative;\n            }\n\n            .area-finder-map {\n                height: 500px;\n                width: 100%;\n            }\n\n            .map-instructions {\n                position: absolute;\n                top: 10px;\n                left: 10px;\n                background: rgba(255, 255, 255, 0.95);\n                padding: 15px;\n                border-radius: 8px;\n                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n                max-width: 300px;\n                font-size: 13px;\n                z-index: 10;\n            }\n\n            .map-instructions h6 {\n                margin: 0 0 10px 0;\n                color: #1f2937;\n                font-weight: 600;\n            }\n\n            .map-instructions ul {\n                margin: 0;\n                padding-left: 16px;\n                color: #6b7280;\n            }\n\n            .map-instructions li {\n                margin-bottom: 4px;\n            }\n\n            .area-info-section {\n                padding: 20px;\n                background: #f8f9fa;\n                border-top: 1px solid #e9ecef;\n            }\n\n            .area-results {\n                background: white;\n                border-radius: 8px;\n                padding: 20px;\n                border: 1px solid #e5e7eb;\n            }\n\n            .area-results h6 {\n                margin: 0 0 15px 0;\n                color: #1f2937;\n                font-weight: 600;\n            }\n\n            .results-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n                gap: 15px;\n            }\n\n            .result-item {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                padding: 12px;\n                background: #f9fafb;\n                border-radius: 6px;\n                border: 1px solid #f3f4f6;\n            }\n\n            .result-label {\n                font-weight: 500;\n                color: #6b7280;\n            }\n\n            .result-value {\n                font-weight: 600;\n                color: #1f2937;\n                font-family: 'Courier New', monospace;\n            }\n\n            .error-message {\n                background: #fef2f2;\n                color: #dc2626;\n                padding: 12px 16px;\n                border-radius: 8px;\n                border: 1px solid #fecaca;\n                margin: 10px;\n            }\n\n            @media (max-width: 768px) {\n                .area-finder-controls {\n                    flex-direction: column;\n                    align-items: stretch;\n                }\n\n                .search-input-group {\n                    flex-direction: column;\n                }\n\n                .drawing-controls {\n                    justify-content: center;\n                }\n\n                .results-grid {\n                    grid-template-columns: 1fr;\n                }\n\n                .map-instructions {\n                    position: static;\n                    margin: 10px;\n                    max-width: none;\n                }\n            }\n        ",document.head.appendChild(e)}async loadGoogleMaps(){return new Promise((e,t)=>{if("undefined"!=typeof google&&google.maps)return void e();window.initAreaFinderMap=()=>{delete window.initAreaFinderMap,e()};const n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${l.apiKey}&libraries=${l.libraries.join(",")}&callback=initAreaFinderMap`,n.onerror=t,document.head.appendChild(n)})}initMap(){const e=document.getElementById(`${this.containerId}-map`);this.map=new google.maps.Map(e,{...c,center:{lat:39.9612,lng:-82.9988}}),this.geocoder=new google.maps.Geocoder,this.initDrawingManager(),this.initSearchBox(),this.restorePreviousData()}initDrawingManager(){this.drawingManager=new google.maps.drawing.DrawingManager({...d,map:this.map}),google.maps.event.addListener(this.drawingManager,"overlaycomplete",e=>{this.handleShapeComplete(e)})}initSearchBox(){const e=document.getElementById("address-search");e&&(this.searchBox=new google.maps.places.SearchBox(e),this.map.addListener("bounds_changed",()=>{this.searchBox.setBounds(this.map.getBounds())}),this.searchBox.addListener("places_changed",()=>{const e=this.searchBox.getPlaces();if(0===e.length)return;const t=e[0];t.geometry&&t.geometry.location&&(this.map.setCenter(t.geometry.location),this.map.setZoom(18))}))}setupEventListeners(){const e=document.getElementById("search-btn"),t=document.getElementById("clear-shapes"),n=document.getElementById("calculate-area");e&&e.addEventListener("click",()=>this.searchLocation()),t&&t.addEventListener("click",()=>this.clearShapes()),n&&n.addEventListener("click",()=>this.calculateArea());const r=document.getElementById("address-search");r&&r.addEventListener("keypress",e=>{"Enter"===e.key&&this.searchLocation()})}handleShapeComplete(e){this.currentShape&&this.currentShape.setMap(null),this.currentShape=e.overlay,this.drawingManager.setDrawingMode(null),this.enableButton("clear-shapes"),this.enableButton("calculate-area"),!1!==this.options.autoCalculate&&this.calculateArea()}async calculateArea(){if(this.currentShape)try{const e=this.getShapeCoordinates(this.currentShape),t=await fetch("/api/maps/calculate-area",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coordinates:e})}),n=await t.json();if(!n.success)throw new Error(n.message||"Calculation failed");this.displayAreaResults(n.data),this.currentArea=n.data;p("google-maps",{...n.data,coordinates:e,timestamp:(new Date).toISOString()}),this.options.onAreaCalculated(n.data)}catch(e){console.error("Area calculation error:",e),this.showError("Failed to calculate area. Please try again.")}else this.showError("No shape to calculate. Please draw a shape first.")}getShapeCoordinates(e){let t=[];if(e.getPath){const n=e.getPath();for(let e=0;e<n.getLength();e++){const r=n.getAt(e);t.push({lat:r.lat(),lng:r.lng()})}}else if(e.getBounds){const n=e.getBounds(),r=n.getNorthEast(),o=n.getSouthWest();if(e.getRadius){const n=e.getCenter(),r=e.getRadius(),o=32;for(let e=0;e<o;e++){const a=360*e/o*(Math.PI/180),s=n.lat()+r/111320*Math.cos(a),i=n.lng()+r/(111320*Math.cos(n.lat()*Math.PI/180))*Math.sin(a);t.push({lat:s,lng:i})}}else t=[{lat:r.lat(),lng:r.lng()},{lat:r.lat(),lng:o.lng()},{lat:o.lat(),lng:o.lng()},{lat:o.lat(),lng:r.lng()}]}return t}displayAreaResults(e){const t=document.getElementById("area-results");t&&(document.getElementById("area-sqft").textContent=`${e.areaInSquareFeet.toLocaleString()} sq ft`,document.getElementById("perimeter-ft").textContent=`${(3.28084*e.perimeter).toFixed(2)} ft`,document.getElementById("area-acres").textContent=`${e.areaInAcres} acres`,document.getElementById("area-sqm").textContent=`${e.area.toLocaleString()} m¬≤`,t.style.display="block")}searchLocation(){const e=document.getElementById("address-search").value.trim();e?this.geocoder.geocode({address:e},(e,t)=>{if("OK"===t&&e[0]){const t=e[0].geometry.location;this.map.setCenter(t),this.map.setZoom(18),new google.maps.Marker({position:t,map:this.map,title:"Search Result"})}else this.showError("Location not found. Please try a different address.")}):this.showError("Please enter an address or coordinates")}clearShapes(){this.currentShape&&(this.currentShape.setMap(null),this.currentShape=null);const e=document.getElementById("area-results");e&&(e.style.display="none"),this.disableButton("clear-shapes"),this.disableButton("calculate-area"),this.currentArea=null}enableButton(e){const t=document.getElementById(e);t&&(t.disabled=!1)}disableButton(e){const t=document.getElementById(e);t&&(t.disabled=!0)}showError(e){const t=document.createElement("div");t.className="error-message",t.textContent=e,this.container.insertBefore(t,this.container.firstChild),setTimeout(()=>{t.remove()},5e3)}getAreaData(){return this.currentArea}setLocation(e,t,n=18){this.map&&(this.map.setCenter({lat:e,lng:t}),this.map.setZoom(n))}destroy(){this.currentShape&&this.currentShape.setMap(null),this.drawingManager&&this.drawingManager.setMap(null),this.container.innerHTML=""}restoreAreaData(e){if(!e)return;this.clearShapes();const t=e.coordinates.map(e=>new google.maps.LatLng(e.lat,e.lng));this.currentShape=new google.maps.Polygon({path:t,map:this.map}),this.calculateArea()}restorePreviousData(){try{const e=g("google-maps");if(e&&e.coordinates&&e.coordinates.length>0){const t=e.coordinates.map(e=>new google.maps.LatLng(e.lat,e.lng));this.currentShape=new google.maps.Polygon({path:t,map:this.map,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}),this.currentArea=e,this.displayAreaResults(e),this.enableButton("clear-shapes"),this.enableButton("calculate-area");const n=new google.maps.LatLngBounds;e.coordinates.forEach(e=>{n.extend(new google.maps.LatLng(e.lat,e.lng))}),this.map.fitBounds(n),console.log("Restored Google Maps measurement data:",e)}}catch(e){console.error("Error restoring previous Google Maps data:",e)}}}class C{constructor(){this.locations={reynoldsburg:{address:"1847 Brice Road, Reynoldsburg, OH 43068",name:"Reynoldsburg Office",mapId:"reynoldsburg-google-map"},zanesville:{address:"6575 W Pike, Zanesville, OH 43701",name:"Main Location/Zanesville Office",mapId:"zanesville-google-map"}},this.init()}init(){this.setupMapPlaceholders(),this.bindEvents()}setupMapPlaceholders(){Object.values(this.locations).forEach(e=>{const t=document.getElementById(e.mapId);t&&(t.style.cursor="pointer",t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label",`View ${e.name} on Google Maps`))})}bindEvents(){Object.entries(this.locations).forEach(([e,t])=>{const n=document.getElementById(t.mapId);n&&(n.addEventListener("click",()=>this.loadMap(e)),n.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.loadMap(e))}))})}loadMap(e){const t=this.locations[e];if(!t)return;const n=document.getElementById(t.mapId);if(!n)return;const r=this.createEmbedUrl(t.address);n.innerHTML=`\n            <iframe \n                src="${r}"\n                width="100%" \n                height="400" \n                style="border:0; border-radius: 8px;" \n                allowfullscreen="" \n                loading="lazy" \n                referrerpolicy="no-referrer-when-downgrade"\n                title="${t.name} Location Map">\n            </iframe>\n        `,n.style.cursor="default",n.classList.add("map-loaded")}createEmbedUrl(e){return`https://www.google.com/maps/embed/v1/place?key=&q=${encodeURIComponent(e)}&zoom=15&maptype=roadmap`}openInGoogleMaps(e){const t=this.locations[e];if(!t)return;const n=`https://www.google.com/maps/search/${encodeURIComponent(t.address)}`;window.open(n,"_blank")}initWithoutApiKey(){Object.entries(this.locations).forEach(([e,t])=>{const n=document.getElementById(t.mapId);if(!n)return;n.innerHTML=`\n                <div class="static-map-view" onclick="window.open('https://www.google.com/maps/search/${encodeURIComponent(t.address)}', '_blank')" style="cursor: pointer;">\n                    <div class="map-static-content">\n                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 48px; height: 48px; color: #4285f4; margin-bottom: 16px;">\n                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>\n                        </svg>\n                        <h4 style="margin: 0 0 8px 0; color: #1a73e8;">${t.address}</h4>\n                        <p style="margin: 0; color: #5f6368;">Click to view in Google Maps</p>\n                        <div style="margin-top: 12px; padding: 8px 16px; background: #4285f4; color: white; border-radius: 4px; display: inline-block;">\n                            View on Google Maps\n                        </div>\n                    </div>\n                </div>\n            `;const r=n.querySelector(".static-map-view");r&&(Object.assign(r.style,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px",backgroundColor:"#f8f9fa",border:"2px dashed #dadce0",borderRadius:"8px",textAlign:"center",transition:"all 0.3s ease",padding:"20px"}),r.addEventListener("mouseenter",function(){this.style.backgroundColor="#e8f0fe",this.style.borderColor="#4285f4"}),r.addEventListener("mouseleave",function(){this.style.backgroundColor="#f8f9fa",this.style.borderColor="#dadce0"}))})}loadEmbeddedMaps(){Object.entries(this.locations).forEach(([e,t])=>{const n=document.getElementById(t.mapId);if(!n)return;const r=encodeURIComponent(t.address);n.innerHTML=`\n                <iframe \n                    src="https://www.google.com/maps?q=${r}&output=embed"\n                    width="100%" \n                    height="350" \n                    style="border:0; border-radius: 8px;" \n                    allowfullscreen="" \n                    loading="lazy" \n                    referrerpolicy="no-referrer-when-downgrade"\n                    title="${t.name} Location Map">\n                </iframe>\n            `,n.classList.add("map-loaded")})}}document.addEventListener("DOMContentLoaded",()=>{(new C).loadEmbeddedMaps()});class A{constructor(){this.modal=null}open(e){const t=e.querySelector("img").src,n=e.querySelector("h4").textContent,r=e.querySelector("p").textContent;this.modal=document.createElement("div"),this.modal.classList.add("gallery-modal"),this.modal.innerHTML=`\n            <div class="gallery-modal-content">\n                <span class="close">&times;</span>\n                <img src="${t}" alt="${n}">\n                <h3>${n}</h3>\n                <p>${r}</p>\n            </div>\n        `,document.body.appendChild(this.modal),this.modal.querySelector(".close").addEventListener("click",()=>{this.close()}),this.modal.addEventListener("click",e=>{e.target===this.modal&&this.close()})}close(){this.modal&&(this.modal.remove(),this.modal=null)}}let k=[{category:"commercial",image:"/assets/images/projects/commercial-parking-1.jpg",title:"Commercial Parking Lot",description:"Commercial ‚Ä¢ 2023",tag:"New Construction"},{category:"commercial",image:"/assets/images/projects/commercial-warehouse-1.jpg",title:"Warehouse Access Road",description:"Commercial ‚Ä¢ 2023",tag:"Heavy Duty"},{category:"custom",image:"/assets/images/projects/custom-decorative-1.jpg",title:"Decorative Asphalt",description:"Custom ‚Ä¢ 2023",tag:"Specialty Work"},{category:"maintenance",image:"/assets/images/projects/maintenance-repair-1.jpg",title:"Asphalt Maintenance",description:"Maintenance ‚Ä¢ 2023",tag:"Preventive Care"},{category:"residential",image:"/assets/images/projects/residential-driveway-1.jpg",title:"Modern Residential Driveway",description:"Residential ‚Ä¢ 2023",tag:"New Installation"},{category:"residential",image:"/assets/images/projects/residential-walkway-1.jpg",title:"Residential Walkway",description:"Residential ‚Ä¢ 2023",tag:"New Installation"}];class M{constructor(){this.filterButtons=document.querySelectorAll(".filter-btn"),this.galleryGrid=document.querySelector(".gallery-grid"),this.galleryModal=new A,this.isLoading=!1,this.init()}async init(){try{this.showLoading(),await this.loadProjects(),this.initFilters(),this.hideLoading()}catch(e){console.error("Error initializing gallery:",e),this.showError("Failed to load gallery. Please refresh the page.")}}async loadProjects(){this.galleryGrid.innerHTML="";const e=k.filter(e=>e.image&&e.title&&e.category);0!==e.length?(e.forEach(e=>{const t=this.createGalleryItem(e);this.galleryGrid.appendChild(t)}),this.galleryItems=document.querySelectorAll(".gallery-item"),this.initModal(),this.preloadImages()):this.showError("No gallery items found.")}showLoading(){this.isLoading=!0,this.galleryGrid.innerHTML='\n            <div class="gallery-loading">\n                <div class="loading-spinner"></div>\n                <p>Loading gallery...</p>\n            </div>\n        '}hideLoading(){this.isLoading=!1;const e=this.galleryGrid.querySelector(".gallery-loading");e&&e.remove()}showError(e){this.galleryGrid.innerHTML=`\n            <div class="gallery-error">\n                <div class="error-icon">‚ö†Ô∏è</div>\n                <p>${e}</p>\n                <button onclick="window.location.reload()" class="btn btn-primary">Retry</button>\n            </div>\n        `}preloadImages(){Array.from(this.galleryItems).slice(0,6).map(e=>e.querySelector("img")).forEach(e=>{if(e&&e.src){const t=new Image;t.src=e.src,t.onerror=()=>{e.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yMDAgMTUwTDE3NSAxMjVIMjI1TDIwMCAxNTBaIiBmaWxsPSIjOUI5QkEwIi8+CjxwYXRoIGQ9Ik0yMDAgMTUwTDE3NSAxNzVIMjI1TDIwMCAxNTBaIiBmaWxsPSIjOUI5QkEwIi8+Cjx0ZXh0IHg9IjIwMCIgeT0iMjAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOUI5QkEwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiPkltYWdlIG5vdCBhdmFpbGFibGU8L3RleHQ+Cjwvc3ZnPg==",e.alt="Image not available"}}})}createGalleryItem(e){const t=document.createElement("div");return t.className="gallery-item",t.dataset.category=e.category,t.innerHTML=`\n            <div class="gallery-image">\n                <img src="${e.image}" alt="${e.title}" loading="lazy">\n                <div class="gallery-overlay">\n                    <div class="gallery-info">\n                        <h4>${e.title}</h4>\n                        <p>${e.description}</p>\n                        <span class="gallery-tag">${e.tag}</span>\n                    </div>\n                    <button class="gallery-expand" aria-label="View full project">\n                        <svg viewBox="0 0 24 24" fill="currentColor">\n                            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        `,t}initFilters(){this.filterButtons.forEach(e=>{e.addEventListener("click",()=>{this.filter(e.dataset.filter),this.setActiveButton(e)})})}initModal(){this.galleryItems.forEach(e=>{e.addEventListener("click",()=>{this.galleryModal.open(e)})})}filter(e){this.galleryItems.forEach(t=>{const n=t.dataset.category;t.style.display="all"===e||e===n?"block":"none"})}setActiveButton(e){this.filterButtons.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")}}const L="/",T="vercel",_="2025-07-30T10:10:20.183Z",P="1753870220183";"undefined"!=typeof window&&window.location.search.includes("debug=assets")&&(console.group("üõ†Ô∏è Build-time Variables Check"),console.log("BASE_URL:",L),console.log("DEPLOY_MODE:",T),console.log("IS_VERCEL:",true),console.log("IS_GITHUB_PAGES:",false),console.log("BUILD_TIMESTAMP:",_),console.log("DEPLOY_TIME:",P),console.groupEnd());const O={vercel:{useRelativePaths:!1,assetPrefix:"",cdnEnabled:!0,cacheStrategy:"aggressive"},github:{useRelativePaths:!0,assetPrefix:"/Neff-Paving",cdnEnabled:!1,cacheStrategy:"moderate"},development:{useRelativePaths:!1,assetPrefix:"",cdnEnabled:!1,cacheStrategy:"none"}};function D(){return O[T]||O.github}function B(){return L}function R(e,t={}){const n="undefined"!=typeof window&&window.location.search.includes("debug=assets");n&&console.log("üîß getAssetPath called with:",{assetPath:e,options:t,DEPLOY_MODE:T,BASE_URL:L});const r=D(),{useRelative:o=r.useRelativePaths,addCacheBusting:a=!0,forceAbsolute:s=!1}=t;let i=e;if(e.startsWith("http://")||e.startsWith("https://"))return n&&console.log("‚Ü©Ô∏è  External URL, returning as-is:",e),e;if(i="/"+(e.startsWith("/")?e.slice(1):e),n&&console.log("üîµ Vercel absolute path:",i),i=i.replace(/([^:])\/{2,}/g,"$1/"),a&&"none"!==r.cacheStrategy){const e=i.includes("?")?"&":"?";i+=`${e}v=${"aggressive"===r.cacheStrategy?P:_}`}return n&&console.log("‚úÖ Final resolved path:",i),i}function F(){if("undefined"!=typeof document&&(function(e=[]){if("undefined"==typeof document)return;[{type:"style",href:"/assets/main.css",as:"style"},{type:"script",href:"/src/main.js",as:"script"},{type:"font",href:"https://fonts.gstatic.com/s/oswald/v49/TK3IWkUHHAIjg75cFRf3bXL8LICs1_Fw.woff2",as:"font",crossorigin:!0},{type:"image",href:"/assets/images/logo.png",as:"image"},...e].forEach(e=>{if(document.querySelector(`link[href="${e.href}"]`))return;const t=document.createElement("link");t.rel="font"===e.type?"preload":"prefetch",t.href=R(e.href,{addCacheBusting:!1}),t.as=e.as,e.crossorigin&&(t.crossOrigin="anonymous"),"font"===e.type&&(t.type="font/woff2"),document.head.appendChild(t)})}(),function(){if("undefined"==typeof document)return;document.querySelectorAll(['a[href^="/"]:not([href^="//"])','img[src^="/"]:not([src^="//"])','link[href^="/"]:not([href^="//"])','script[src^="/"]:not([src^="//"])','source[src^="/"]:not([src^="//"])','video[src^="/"]:not([src^="//"])','audio[src^="/"]:not([src^="//"])','[style*="url(/"]'].join(", ")).forEach(e=>{try{const t=e.tagName.toLowerCase();let n,r;if("a"===t||"link"===t)n="href";else if(["img","script","source","video","audio"].includes(t))n="src";else if(e.hasAttribute("style")){const t=e.getAttribute("style"),n=t.match(/url\(([^)]+)\)/g);if(n){let r=t;n.forEach(e=>{const t=e.replace(/url\(['"]?([^'"]+)['"]?\)/,"$1");if(t.startsWith("/")&&!t.startsWith("//")){const n=R(t);r=r.replace(e,`url(${n})`)}}),e.setAttribute("style",r)}return}if(n&&(r=e.getAttribute(n),r&&r.startsWith("/")&&!r.startsWith("//")&&!r.startsWith(L)&&!r.startsWith("http"))){const t=R(r,{addCacheBusting:!e.hasAttribute("data-no-cache-bust")});e.setAttribute(n,t)}}catch(t){console.warn("Failed to update asset path for element:",e,t)}})}(),"IntersectionObserver"in window)){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=R(n.dataset.src),n.removeAttribute("data-src"),t.unobserve(n))}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}"undefined"!=typeof document&&"loading"===document.readyState?document.addEventListener("DOMContentLoaded",F):"undefined"!=typeof document&&F();const z="loaded",q="error",N=new Map,j=new Map;const G=new class{constructor(e={}){this.config={maxConcurrentLoads:6,retryAttempts:3,retryDelay:1e3,enableCache:!0,enablePreloading:!0,enableLazyLoading:!0,...e},this.currentLoads=0,this.loadQueue=[],this.observers=new Map,this.config.enableLazyLoading&&"IntersectionObserver"in window&&this.initLazyLoading()}async loadAsset(e,t={}){const n=R(e),r=n;if(this.config.enableCache&&N.has(r)){const e=N.get(r);if(e.state===z)return e.data;if(e.state===q&&!t.forceRetry)throw e.error}if(j.has(r))return j.get(r);const o=this._loadAssetWithRetry(n,t);j.set(r,o);try{const e=await o;return this.config.enableCache&&N.set(r,{state:z,data:e,timestamp:Date.now()}),e}catch(a){throw this.config.enableCache&&N.set(r,{state:q,error:a,timestamp:Date.now()}),a}finally{j.delete(r),this.currentLoads--,this._processQueue()}}async loadAssets(e,t={}){const{failFast:n=!1,maxConcurrent:r=this.config.maxConcurrentLoads}=t,o=e.map(e=>{const n="string"==typeof e?e:e.path,r="object"==typeof e?{...t,...e}:t;return this.loadAsset(n,r)});return n?Promise.all(o):Promise.allSettled(o)}preloadCriticalAssets(e=[]){if(!this.config.enablePreloading)return;[{path:"/assets/styles/main.css",type:"style",priority:"high"},{path:"/entries/main.js",type:"script",priority:"high"},{path:"/assets/images/logo.png",type:"image",priority:"medium"},...e].forEach(e=>{this._createPreloadLink(e)})}initLazyLoading(){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(this._loadLazyImage(e.target),t.unobserve(e.target))})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)}),this.observers.set("lazyImages",e)}addLazyImages(e=document){if(!this.observers.has("lazyImages"))return;const t=this.observers.get("lazyImages");e.querySelectorAll("img[data-src]").forEach(e=>{t.observe(e)})}loadImage(e,t={}){return new Promise((n,r)=>{const o=new Image,a=R(e);o.onload=()=>n(o),o.onerror=()=>{if(t.fallback){const o=new Image;o.onload=()=>n(o),o.onerror=()=>r(new Error(`Failed to load image: ${e} and fallback`)),o.src=R(t.fallback)}else r(new Error(`Failed to load image: ${e}`))},t.crossOrigin&&(o.crossOrigin=t.crossOrigin),t.decoding&&(o.decoding=t.decoding),t.loading&&(o.loading=t.loading),o.src=a})}loadCSS(e,t={}){return new Promise((n,r)=>{const o=document.createElement("link"),a=R(e);o.rel="stylesheet",o.type="text/css",o.href=a,t.media&&(o.media=t.media),t.crossOrigin&&(o.crossOrigin=t.crossOrigin),o.onload=()=>n(o),o.onerror=()=>r(new Error(`Failed to load CSS: ${e}`)),document.head.appendChild(o)})}loadJS(e,t={}){return new Promise((n,r)=>{const o=document.createElement("script"),a=R(e);o.src=a,o.type=t.type||"text/javascript",void 0!==t.async&&(o.async=t.async),void 0!==t.defer&&(o.defer=t.defer),t.crossOrigin&&(o.crossOrigin=t.crossOrigin),t.integrity&&(o.integrity=t.integrity),o.onload=()=>n(o),o.onerror=()=>r(new Error(`Failed to load script: ${e}`)),document.head.appendChild(o)})}clearCache(e=null){if(e){const t=new RegExp(e);for(const[e]of N)t.test(e)&&N.delete(e)}else N.clear()}getCacheStats(){const e={size:N.size,loaded:0,error:0,totalSize:0};for(const[t,n]of N)n.state===z?e.loaded++:n.state===q&&e.error++;return e}async _loadAssetWithRetry(e,t={}){const{retryAttempts:n=this.config.retryAttempts}=t;for(let o=0;o<=n;o++)try{return await this._loadAssetDirect(e,t)}catch(r){if(o===n)throw r;await new Promise(e=>setTimeout(e,this.config.retryDelay*Math.pow(2,o)))}}async _loadAssetDirect(e,t={}){const{type:n=this._detectAssetType(e)}=t;switch(n){case"image":return this.loadImage(e,t);case"css":return this.loadCSS(e,t);case"js":return this.loadJS(e,t);default:const n=await fetch(e);if(!n.ok)throw new Error(`Failed to load asset: ${e} (${n.status})`);return n}}_detectAssetType(e){var t;const n=null==(t=e.split(".").pop())?void 0:t.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(n)?"image":"css"===n?"css":["js","mjs"].includes(n)?"js":"unknown"}_createPreloadLink(e){if(document.querySelector(`link[href="${R(e.path)}"]`))return;const t=document.createElement("link");t.rel="font"===e.type?"preload":"prefetch",t.href=R(e.path),t.as=e.as||e.type,"font"===e.type&&(t.type="font/woff2",t.crossOrigin="anonymous"),"high"===e.priority&&(t.fetchPriority="high"),document.head.appendChild(t)}async _loadLazyImage(e){try{const t=e.dataset.src;if(!t)return;const n=await this.loadImage(t,{crossOrigin:e.crossOrigin,decoding:"async"});e.src=n.src,e.removeAttribute("data-src"),e.classList.add("loaded"),e.dispatchEvent(new Event("load"))}catch(t){console.warn("Failed to load lazy image:",t),e.classList.add("error")}}_processQueue(){for(;this.loadQueue.length>0&&this.currentLoads<this.config.maxConcurrentLoads;){const e=this.loadQueue.shift();this.currentLoads++,e()}}};function $(){console.group("üîç Asset Path Debug Information"),console.log("üìã Build-time Variables:"),console.log("  __BASE_URL__:","/"),console.log("  __DEPLOY_MODE__:","vercel"),console.log("  __BUILD_TIMESTAMP__:","2025-07-30T10:10:20.183Z"),console.log("  __DEPLOY_TIME__:","1753870220183"),console.log("  __IS_VERCEL__:",!0),console.log("  __IS_GITHUB_PAGES__:",!1),console.log("  __PLATFORM__:","vercel"),console.log("\nüìä Computed Values:"),console.log("  BASE_URL:",L),console.log("  DEPLOY_MODE:",T),console.log("  getBaseUrl():",B()),console.log("  getEnvironmentConfig():",D()),console.log("\nüîß Asset Path Tests:");const e=["/assets/images/logo.png","/assets/styles/main.css","/entries/main.js","assets/images/hero-bg.jpg","styles/main.css","https://external.com/image.jpg","/favicon.ico"];e.forEach(e=>{const t=R(e),n=t.includes("//")&&!t.startsWith("http"),r=t.includes("/Neff-Paving//");console.log(`  "${e}" ‚Üí "${t}"`,{hasDoubleSlash:n,hasIncorrectBase:r,length:t.length}),n&&console.warn("    ‚ö†Ô∏è  Double slash detected!"),r&&console.warn("    ‚ö†Ô∏è  Incorrect base URL!")}),console.log("\nüåê URL Creation Tests:");return["index.html","/index.html","services/","/services/"].forEach(e=>{const t=("/"+((n=e).startsWith("/")?n.slice(1):n)).replace(/([^:])\/{2,}/g,"$1/");var n;console.log(`  "${e}" ‚Üí "${t}"`)}),console.log("\nüèóÔ∏è Environment Detection:"),console.log("  process.env.NODE_ENV:","undefined"!=typeof process?"production":"undefined"),console.log("  Current environment config:",D()),console.log("\nüöÄ Deployment Scenarios:"),console.log("  üîµ Vercel deployment detected"),console.log("    Sample asset path:",R("/assets/images/test.jpg",{forceAbsolute:!0})),console.groupEnd(),{buildVars:{baseUrl:"/",deployMode:"vercel",isVercel:!0,isGitHub:!1},computedValues:{BASE_URL:L,DEPLOY_MODE:T,baseUrl:B(),envConfig:D()},testResults:e.map(e=>({input:e,output:R(e),hasIssues:R(e).includes("//")&&!R(e).startsWith("http")}))}}function W(){console.group("üß™ Asset Loading Tests");const e=new Image,t=R("/assets/images/logo.png");console.log("Testing image load:",t),e.onload=()=>{console.log("‚úÖ Image loaded successfully:",t)},e.onerror=()=>{console.error("‚ùå Image failed to load:",t)},e.src=t;const n=document.createElement("link");n.rel="stylesheet",n.type="text/css";const r=R("/assets/styles/test.css");console.log("Testing CSS load:",r),n.onload=()=>{console.log("‚úÖ CSS loaded successfully:",r),n.remove()},n.onerror=()=>{console.error("‚ùå CSS failed to load:",r),n.remove()},n.href=r,document.head.appendChild(n),console.groupEnd()}function H(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}
/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{G.preloadCriticalAssets()}):G.preloadCriticalAssets(),"undefined"!=typeof window&&window.location.search.includes("debug=assets")&&document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{$(),W()},1e3)}),"undefined"!=typeof window&&(window.debugAssetPaths=$,window.testAssetLoading=W,window.fixDoubleSlashes=function(){console.group("üîß Fixing Double Slashes"),['img[src*="//"]','link[href*="//"]','script[src*="//"]','a[href*="//"]'].forEach(e=>{const t=document.querySelectorAll(e);console.log(`Found ${t.length} elements with "${e}"`),t.forEach(e=>{const t="a"===e.tagName.toLowerCase()||"link"===e.tagName.toLowerCase()?"href":"src",n=e.getAttribute(t);if(n&&n.includes("//")&&!n.startsWith("http")){const r=n.replace(/\/+/g,"/");e.setAttribute(t,r),console.log(`Fixed: "${n}" ‚Üí "${r}"`)}})}),console.groupEnd()},window.disableAssetOptimization=function(){console.log("üö´ Temporarily disabling asset optimization system"),window.originalGetAssetPath=window.getAssetPath,window.getAssetPath=function(e){return console.log("üîÑ Using simplified asset path for:",e),e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:"/"+e},console.log("Asset optimization disabled. Use enableAssetOptimization() to re-enable.")},window.enableAssetOptimization=function(){window.originalGetAssetPath&&(window.getAssetPath=window.originalGetAssetPath,delete window.originalGetAssetPath,console.log("‚úÖ Asset optimization re-enabled"))});var Y,U,V,X,Z,Q,J,K,ee,te,ne,re,oe,ae=function(){return Y||"undefined"!=typeof window&&(Y=window.gsap)&&Y.registerPlugin&&Y},se=1,ie=[],le=[],ce=[],de=Date.now,ue=function(e,t){return t},pe=function(e,t){return~ce.indexOf(e)&&ce[ce.indexOf(e)+1][t]},ge=function(e){return!!~te.indexOf(e)},he=function(e,t,n,r,o){return e.addEventListener(t,n,{passive:!1!==r,capture:!!o})},me=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},fe="scrollLeft",ye="scrollTop",ve=function(){return ne&&ne.isPressed||le.cache++},be=function(e,t){var n=function n(r){if(r||0===r){se&&(V.history.scrollRestoration="manual");var o=ne&&ne.isPressed;r=n.v=Math.round(r)||(ne&&ne.iOS?1:0),e(r),n.cacheID=le.cache,o&&ue("ss",r)}else(t||le.cache!==n.cacheID||ue("ref"))&&(n.cacheID=le.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},we={s:fe,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:be(function(e){return arguments.length?V.scrollTo(e,xe.sc()):V.pageXOffset||X[fe]||Z[fe]||Q[fe]||0})},xe={s:ye,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:we,sc:be(function(e){return arguments.length?V.scrollTo(we.sc(),e):V.pageYOffset||X[ye]||Z[ye]||Q[ye]||0})},Ee=function(e,t){return(t&&t._ctx&&t._ctx.selector||Y.utils.toArray)(e)[0]||("string"==typeof e&&!1!==Y.config().nullTargetWarn?console.warn("Element not found:",e):null)},Se=function(e,t){var n=t.s,r=t.sc;ge(e)&&(e=X.scrollingElement||Z);var o=le.indexOf(e),a=r===xe.sc?1:2;!~o&&(o=le.push(e)-1),le[o+a]||he(e,"scroll",ve);var s=le[o+a],i=s||(le[o+a]=be(pe(e,n),!0)||(ge(e)?r:be(function(t){return arguments.length?e[n]=t:e[n]})));return i.target=e,s||(i.smooth="smooth"===Y.getProperty(e,"scrollBehavior")),i},Ie=function(e,t,n){var r=e,o=e,a=de(),s=a,i=t||50,l=Math.max(500,3*i),c=function(e,t){var l=de();t||l-a>i?(o=r,r=e,s=a,a=l):n?r+=e:r=o+(e-o)/(l-s)*(a-s)};return{update:c,reset:function(){o=r=n?0:r,s=a=0},getVelocity:function(e){var t=s,i=o,d=de();return(e||0===e)&&e!==r&&c(e),a===s||d-s>l?0:(r+(n?i:-i))/((n?d:a)-t)*1e3}}},Ce=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Ae=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},ke=function(){var e,t,n,r;(ee=Y.core.globals().ScrollTrigger)&&ee.core&&(e=ee.core,t=e.bridge||{},n=e._scrollers,r=e._proxies,n.push.apply(n,le),r.push.apply(r,ce),le=n,ce=r,ue=function(e,n){return t[e](n)})},Me=function(e){return Y=e||ae(),!U&&Y&&"undefined"!=typeof document&&document.body&&(V=window,X=document,Z=X.documentElement,Q=X.body,te=[V,X,Z,Q],Y.utils.clamp,oe=Y.core.context||function(){},K="onpointerenter"in Q?"pointer":"mouse",J=Le.isTouch=V.matchMedia&&V.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in V||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,re=Le.eventTypes=("ontouchstart"in Z?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Z?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return se=0},500),ke(),U=1),U};we.op=xe,le.cache=0;var Le=function(){function e(e){this.init(e)}return e.prototype.init=function(e){U||Me(Y)||console.warn("Please gsap.registerPlugin(Observer)"),ee||ke();var t=e.tolerance,n=e.dragMinimum,r=e.type,o=e.target,a=e.lineHeight,s=e.debounce,i=e.preventDefault,l=e.onStop,c=e.onStopDelay,d=e.ignore,u=e.wheelSpeed,p=e.event,g=e.onDragStart,h=e.onDragEnd,m=e.onDrag,f=e.onPress,y=e.onRelease,v=e.onRight,b=e.onLeft,w=e.onUp,x=e.onDown,E=e.onChangeX,S=e.onChangeY,I=e.onChange,C=e.onToggleX,A=e.onToggleY,k=e.onHover,M=e.onHoverEnd,L=e.onMove,T=e.ignoreCheck,_=e.isNormalizer,P=e.onGestureStart,O=e.onGestureEnd,D=e.onWheel,B=e.onEnable,R=e.onDisable,F=e.onClick,z=e.scrollSpeed,q=e.capture,N=e.allowClicks,j=e.lockAxis,G=e.onLockAxis;this.target=o=Ee(o)||Z,this.vars=e,d&&(d=Y.utils.toArray(d)),t=t||1e-9,n=n||0,u=u||1,z=z||1,r=r||"wheel,touch,pointer",s=!1!==s,a||(a=parseFloat(V.getComputedStyle(Q).lineHeight)||22);var $,W,H,te,ae,se,le,ce=this,ue=0,pe=0,fe=e.passive||!i&&!1!==e.passive,ye=Se(o,we),be=Se(o,xe),Le=ye(),Te=be(),_e=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===re[0],Pe=ge(o),Oe=o.ownerDocument||X,De=[0,0,0],Be=[0,0,0],Re=0,Fe=function(){return Re=de()},ze=function(e,t){return(ce.event=e)&&d&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,d)||t&&_e&&"touch"!==e.pointerType||T&&T(e,t)},qe=function(){var e=ce.deltaX=Ae(De),n=ce.deltaY=Ae(Be),r=Math.abs(e)>=t,o=Math.abs(n)>=t;I&&(r||o)&&I(ce,e,n,De,Be),r&&(v&&ce.deltaX>0&&v(ce),b&&ce.deltaX<0&&b(ce),E&&E(ce),C&&ce.deltaX<0!=ue<0&&C(ce),ue=ce.deltaX,De[0]=De[1]=De[2]=0),o&&(x&&ce.deltaY>0&&x(ce),w&&ce.deltaY<0&&w(ce),S&&S(ce),A&&ce.deltaY<0!=pe<0&&A(ce),pe=ce.deltaY,Be[0]=Be[1]=Be[2]=0),(te||H)&&(L&&L(ce),H&&(g&&1===H&&g(ce),m&&m(ce),H=0),te=!1),se&&!(se=!1)&&G&&G(ce),ae&&(D(ce),ae=!1),$=0},Ne=function(e,t,n){De[n]+=e,Be[n]+=t,ce._vx.update(e),ce._vy.update(t),s?$||($=requestAnimationFrame(qe)):qe()},je=function(e,t){j&&!le&&(ce.axis=le=Math.abs(e)>Math.abs(t)?"x":"y",se=!0),"y"!==le&&(De[2]+=e,ce._vx.update(e,!0)),"x"!==le&&(Be[2]+=t,ce._vy.update(t,!0)),s?$||($=requestAnimationFrame(qe)):qe()},Ge=function(e){if(!ze(e,1)){var t=(e=Ce(e,i)).clientX,r=e.clientY,o=t-ce.x,a=r-ce.y,s=ce.isDragging;ce.x=t,ce.y=r,(s||(o||a)&&(Math.abs(ce.startX-t)>=n||Math.abs(ce.startY-r)>=n))&&(H=s?2:1,s||(ce.isDragging=!0),je(o,a))}},$e=ce.onPress=function(e){ze(e,1)||e&&e.button||(ce.axis=le=null,W.pause(),ce.isPressed=!0,e=Ce(e),ue=pe=0,ce.startX=ce.x=e.clientX,ce.startY=ce.y=e.clientY,ce._vx.reset(),ce._vy.reset(),he(_?o:Oe,re[1],Ge,fe,!0),ce.deltaX=ce.deltaY=0,f&&f(ce))},We=ce.onRelease=function(e){if(!ze(e,1)){me(_?o:Oe,re[1],Ge,!0);var t=!isNaN(ce.y-ce.startY),n=ce.isDragging,r=n&&(Math.abs(ce.x-ce.startX)>3||Math.abs(ce.y-ce.startY)>3),a=Ce(e);!r&&t&&(ce._vx.reset(),ce._vy.reset(),i&&N&&Y.delayedCall(.08,function(){if(de()-Re>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(Oe.createEvent){var t=Oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,V,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),ce.isDragging=ce.isGesturing=ce.isPressed=!1,l&&n&&!_&&W.restart(!0),H&&qe(),h&&n&&h(ce),y&&y(ce,r)}},He=function(e){return e.touches&&e.touches.length>1&&(ce.isGesturing=!0)&&P(e,ce.isDragging)},Ye=function(){return(ce.isGesturing=!1)||O(ce)},Ue=function(e){if(!ze(e)){var t=ye(),n=be();Ne((t-Le)*z,(n-Te)*z,1),Le=t,Te=n,l&&W.restart(!0)}},Ve=function(e){if(!ze(e)){e=Ce(e,i),D&&(ae=!0);var t=(1===e.deltaMode?a:2===e.deltaMode?V.innerHeight:1)*u;Ne(e.deltaX*t,e.deltaY*t,0),l&&!_&&W.restart(!0)}},Xe=function(e){if(!ze(e)){var t=e.clientX,n=e.clientY,r=t-ce.x,o=n-ce.y;ce.x=t,ce.y=n,te=!0,l&&W.restart(!0),(r||o)&&je(r,o)}},Ze=function(e){ce.event=e,k(ce)},Qe=function(e){ce.event=e,M(ce)},Je=function(e){return ze(e)||Ce(e,i)&&F(ce)};W=ce._dc=Y.delayedCall(c||.25,function(){ce._vx.reset(),ce._vy.reset(),W.pause(),l&&l(ce)}).pause(),ce.deltaX=ce.deltaY=0,ce._vx=Ie(0,50,!0),ce._vy=Ie(0,50,!0),ce.scrollX=ye,ce.scrollY=be,ce.isDragging=ce.isGesturing=ce.isPressed=!1,oe(this),ce.enable=function(e){return ce.isEnabled||(he(Pe?Oe:o,"scroll",ve),r.indexOf("scroll")>=0&&he(Pe?Oe:o,"scroll",Ue,fe,q),r.indexOf("wheel")>=0&&he(o,"wheel",Ve,fe,q),(r.indexOf("touch")>=0&&J||r.indexOf("pointer")>=0)&&(he(o,re[0],$e,fe,q),he(Oe,re[2],We),he(Oe,re[3],We),N&&he(o,"click",Fe,!0,!0),F&&he(o,"click",Je),P&&he(Oe,"gesturestart",He),O&&he(Oe,"gestureend",Ye),k&&he(o,K+"enter",Ze),M&&he(o,K+"leave",Qe),L&&he(o,K+"move",Xe)),ce.isEnabled=!0,ce.isDragging=ce.isGesturing=ce.isPressed=te=H=!1,ce._vx.reset(),ce._vy.reset(),Le=ye(),Te=be(),e&&e.type&&$e(e),B&&B(ce)),ce},ce.disable=function(){ce.isEnabled&&(ie.filter(function(e){return e!==ce&&ge(e.target)}).length||me(Pe?Oe:o,"scroll",ve),ce.isPressed&&(ce._vx.reset(),ce._vy.reset(),me(_?o:Oe,re[1],Ge,!0)),me(Pe?Oe:o,"scroll",Ue,q),me(o,"wheel",Ve,q),me(o,re[0],$e,q),me(Oe,re[2],We),me(Oe,re[3],We),me(o,"click",Fe,!0),me(o,"click",Je),me(Oe,"gesturestart",He),me(Oe,"gestureend",Ye),me(o,K+"enter",Ze),me(o,K+"leave",Qe),me(o,K+"move",Xe),ce.isEnabled=ce.isPressed=ce.isDragging=!1,R&&R(ce))},ce.kill=ce.revert=function(){ce.disable();var e=ie.indexOf(ce);e>=0&&ie.splice(e,1),ne===ce&&(ne=0)},ie.push(ce),_&&ge(o)&&(ne=ce),ce.enable(p)},H(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();Le.version="3.13.0",Le.create=function(e){return new Le(e)},Le.register=Me,Le.getAll=function(){return ie.slice()},Le.getById=function(e){return ie.filter(function(t){return t.vars.id===e})[0]},ae()&&Y.registerPlugin(Le);
/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/
var Te,_e,Pe,Oe,De,Be,Re,Fe,ze,qe,Ne,je,Ge,$e,We,He,Ye,Ue,Ve,Xe,Ze,Qe,Je,Ke,et,tt,nt,rt,ot,at,st,it,lt,ct,dt,ut,pt,gt,ht=1,mt=Date.now,ft=mt(),yt=0,vt=0,bt=function(e,t,n){var r=Ot(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},wt=function(e,t){return!t||Ot(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},xt=function e(){return vt&&requestAnimationFrame(e)},Et=function(){return $e=1},St=function(){return $e=0},It=function(e){return e},Ct=function(e){return Math.round(1e5*e)/1e5||0},At=function(){return"undefined"!=typeof window},kt=function(){return Te||At()&&(Te=window.gsap)&&Te.registerPlugin&&Te},Mt=function(e){return!!~Re.indexOf(e)},Lt=function(e){return("Height"===e?st:Pe["inner"+e])||De["client"+e]||Be["client"+e]},Tt=function(e){return pe(e,"getBoundingClientRect")||(Mt(e)?function(){return Wn.width=Pe.innerWidth,Wn.height=st,Wn}:function(){return nn(e)})},_t=function(e,t){var n=t.s,r=t.d2,o=t.d,a=t.a;return Math.max(0,(n="scroll"+r)&&(a=pe(e,n))?a()-Tt(e)()[o]:Mt(e)?(De[n]||Be[n])-Lt(r):e[n]-e["offset"+r])},Pt=function(e,t){for(var n=0;n<Ve.length;n+=3)(!t||~t.indexOf(Ve[n+1]))&&e(Ve[n],Ve[n+1],Ve[n+2])},Ot=function(e){return"string"==typeof e},Dt=function(e){return"function"==typeof e},Bt=function(e){return"number"==typeof e},Rt=function(e){return"object"==typeof e},Ft=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},zt=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},qt=Math.abs,Nt="left",jt="right",Gt="bottom",$t="width",Wt="height",Ht="Right",Yt="Left",Ut="Top",Vt="Bottom",Xt="padding",Zt="margin",Qt="Width",Jt="Height",Kt="px",en=function(e){return Pe.getComputedStyle(e)},tn=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},nn=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==en(e)[We]&&Te.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},rn=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},on=function(e){var t,n=[],r=e.labels,o=e.duration();for(t in r)n.push(r[t]/o);return n},an=function(e){var t=Te.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,o){var a;if(void 0===o&&(o=.001),!r)return t(e);if(r>0){for(e-=o,a=0;a<n.length;a++)if(n[a]>=e)return n[a];return n[a-1]}for(a=n.length,e+=o;a--;)if(n[a]<=e)return n[a];return n[0]}:function(n,r,o){void 0===o&&(o=.001);var a=t(n);return!r||Math.abs(a-n)<o||a-n<0==r<0?a:t(r<0?n-e:n+e)}},sn=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},ln=function(e,t,n,r,o){return e.addEventListener(t,n,{passive:!r,capture:!!o})},cn=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},dn=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},un={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},pn={toggleActions:"play",anticipatePin:0},gn={top:0,left:0,center:.5,bottom:1,right:1},hn=function(e,t){if(Ot(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in gn?gn[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},mn=function(e,t,n,r,o,a,s,i){var l=o.startColor,c=o.endColor,d=o.fontSize,u=o.indent,p=o.fontWeight,g=Oe.createElement("div"),h=Mt(n)||"fixed"===pe(n,"pinType"),m=-1!==e.indexOf("scroller"),f=h?Be:n,y=-1!==e.indexOf("start"),v=y?l:c,b="border-color:"+v+";font-size:"+d+";color:"+v+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((m||i)&&h?"fixed;":"absolute;"),(m||i||!h)&&(b+=(r===xe?jt:Gt)+":"+(a+parseFloat(u))+"px;"),s&&(b+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),g._isStart=y,g.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),g.style.cssText=b,g.innerText=t||0===t?e+"-"+t:e,f.children[0]?f.insertBefore(g,f.children[0]):f.appendChild(g),g._offset=g["offset"+r.op.d2],fn(g,0,r,y),g},fn=function(e,t,n,r){var o={display:"block"},a=n[r?"os2":"p2"],s=n[r?"p2":"os2"];e._isFlipped=r,o[n.a+"Percent"]=r?-100:0,o[n.a]=r?"1px":0,o["border"+a+Qt]=1,o["border"+s+Qt]=0,o[n.p]=t+"px",Te.set(e,o)},yn=[],vn={},bn=function(){return mt()-yt>34&&(dt||(dt=requestAnimationFrame(Fn)))},wn=function(){(!Je||!Je.isPressed||Je.startX>Be.clientWidth)&&(le.cache++,Je?dt||(dt=requestAnimationFrame(Fn)):Fn(),yt||An("scrollStart"),yt=mt())},xn=function(){tt=Pe.innerWidth,et=Pe.innerHeight},En=function(e){le.cache++,(!0===e||!Ge&&!Qe&&!Oe.fullscreenElement&&!Oe.webkitFullscreenElement&&(!Ke||tt!==Pe.innerWidth||Math.abs(Pe.innerHeight-et)>.25*Pe.innerHeight))&&Fe.restart(!0)},Sn={},In=[],Cn=function e(){return cn(Qn,"scrollEnd",e)||Dn(!0)},An=function(e){return Sn[e]&&Sn[e].map(function(e){return e()})||In},kn=[],Mn=function(e){for(var t=0;t<kn.length;t+=5)(!e||kn[t+4]&&kn[t+4].query===e)&&(kn[t].style.cssText=kn[t+1],kn[t].getBBox&&kn[t].setAttribute("transform",kn[t+2]||""),kn[t+3].uncache=1)},Ln=function(e,t){var n;for(He=0;He<yn.length;He++)!(n=yn[He])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));it=!0,t&&Mn(t),t||An("revert")},Tn=function(e,t){le.cache++,(t||!ut)&&le.forEach(function(e){return Dt(e)&&e.cacheID++&&(e.rec=0)}),Ot(e)&&(Pe.history.scrollRestoration=ot=e)},_n=0,Pn=function(){Be.appendChild(at),st=!Je&&at.offsetHeight||Pe.innerHeight,Be.removeChild(at)},On=function(e){return ze(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Dn=function(e,t){if(De=Oe.documentElement,Be=Oe.body,Re=[Pe,Oe,De,Be],!yt||e||it){Pn(),ut=Qn.isRefreshing=!0,le.forEach(function(e){return Dt(e)&&++e.cacheID&&(e.rec=e())});var n=An("refreshInit");Xe&&Qn.sort(),t||Ln(),le.forEach(function(e){Dt(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),yn.slice(0).forEach(function(e){return e.refresh()}),it=!1,yn.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),lt=1,On(!0),yn.forEach(function(e){var t=_t(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),On(!1),lt=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),le.forEach(function(e){Dt(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),Tn(ot,1),Fe.pause(),_n++,ut=2,Fn(2),yn.forEach(function(e){return Dt(e.vars.onRefresh)&&e.vars.onRefresh(e)}),ut=Qn.isRefreshing=!1,An("refresh")}else ln(Qn,"scrollEnd",Cn)},Bn=0,Rn=1,Fn=function(e){if(2===e||!ut&&!it){Qn.isUpdating=!0,gt&&gt.update(0);var t=yn.length,n=mt(),r=n-ft>=50,o=t&&yn[0].scroll();if(Rn=Bn>o?-1:1,ut||(Bn=o),r&&(yt&&!$e&&n-yt>200&&(yt=0,An("scrollEnd")),Ne=ft,ft=n),Rn<0){for(He=t;He-- >0;)yn[He]&&yn[He].update(0,r);Rn=1}else for(He=0;He<t;He++)yn[He]&&yn[He].update(0,r);Qn.isUpdating=!1}dt=0},zn=[Nt,"top",Gt,jt,Zt+Vt,Zt+Ht,Zt+Ut,Zt+Yt,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],qn=zn.concat([$t,Wt,"boxSizing","max"+Qt,"max"+Jt,"position",Zt,Xt,Xt+Ut,Xt+Ht,Xt+Vt,Xt+Yt]),Nn=function(e,t,n,r){if(!e._gsap.swappedIn){for(var o,a=zn.length,s=t.style,i=e.style;a--;)s[o=zn[a]]=n[o];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),i[Gt]=i[jt]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[$t]=rn(e,we)+Kt,s[Wt]=rn(e,xe)+Kt,s[Xt]=i[Zt]=i.top=i[Nt]="0",Gn(r),i[$t]=i["max"+Qt]=n[$t],i[Wt]=i["max"+Jt]=n[Wt],i[Xt]=n[Xt],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},jn=/([A-Z])/g,Gn=function(e){if(e){var t,n,r=e.t.style,o=e.length,a=0;for((e.t._gsap||Te.core.getCache(e.t)).uncache=1;a<o;a+=2)n=e[a+1],t=e[a],n?r[t]=n:r[t]&&r.removeProperty(t.replace(jn,"-$1").toLowerCase())}},$n=function(e){for(var t=qn.length,n=e.style,r=[],o=0;o<t;o++)r.push(qn[o],n[qn[o]]);return r.t=e,r},Wn={left:0,top:0},Hn=function(e,t,n,r,o,a,s,i,l,c,d,u,p,g){Dt(e)&&(e=e(i)),Ot(e)&&"max"===e.substr(0,3)&&(e=u+("="===e.charAt(4)?hn("0"+e.substr(3),n):0));var h,m,f,y=p?p.time():0;if(p&&p.seek(0),isNaN(e)||(e=+e),Bt(e))p&&(e=Te.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,u,e)),s&&fn(s,n,r,!0);else{Dt(t)&&(t=t(i));var v,b,w,x,E=(e||"0").split(" ");f=Ee(t,i)||Be,(v=nn(f)||{})&&(v.left||v.top)||"none"!==en(f).display||(x=f.style.display,f.style.display="block",v=nn(f),x?f.style.display=x:f.style.removeProperty("display")),b=hn(E[0],v[r.d]),w=hn(E[1]||"0",n),e=v[r.p]-l[r.p]-c+b+o-w,s&&fn(s,w,r,n-w<20||s._isStart&&w>20),n-=n-w}if(g&&(i[g]=e||-.001,e<0&&(e=0)),a){var S=e+n,I=a._isStart;h="scroll"+r.d2,fn(a,S,r,I&&S>20||!I&&(d?Math.max(Be[h],De[h]):a.parentNode[h])<=S+1),d&&(l=nn(s),d&&(a.style[r.op.p]=l[r.op.p]-r.op.m-a._offset+Kt))}return p&&f&&(h=nn(f),p.seek(u),m=nn(f),p._caScrollDist=h[r.p]-m[r.p],e=e/p._caScrollDist*u),p&&p.seek(y),p?e:Math.round(e)},Yn=/(webkit|moz|length|cssText|inset)/i,Un=function(e,t,n,r){if(e.parentNode!==t){var o,a,s=e.style;if(t===Be){for(o in e._stOrig=s.cssText,a=en(e))+o||Yn.test(o)||!a[o]||"string"!=typeof s[o]||"0"===o||(s[o]=a[o]);s.top=n,s.left=r}else s.cssText=e._stOrig;Te.core.getCache(e).uncache=1,t.appendChild(e)}},Vn=function(e,t,n){var r=t,o=r;return function(t){var a=Math.round(e());return a!==r&&a!==o&&Math.abs(a-r)>3&&Math.abs(a-o)>3&&(t=a,n&&n()),o=r,r=Math.round(t)}},Xn=function(e,t,n){var r={};r[t.p]="+="+n,Te.set(e,r)},Zn=function(e,t){var n=Se(e,t),r="_scroll"+t.p2,o=function t(o,a,s,i,l){var c=t.tween,d=a.onComplete,u={};s=s||n();var p=Vn(n,s,function(){c.kill(),t.tween=0});return l=i&&l||0,i=i||o-s,c&&c.kill(),a[r]=o,a.inherit=!1,a.modifiers=u,u[r]=function(){return p(s+i*c.ratio+l*c.ratio*c.ratio)},a.onUpdate=function(){le.cache++,t.tween&&Fn()},a.onComplete=function(){t.tween=0,d&&d.call(c)},c=t.tween=Te.to(e,a)};return e[r]=n,n.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},ln(e,"wheel",n.wheelHandler),Qn.isTouch&&ln(e,"touchmove",n.wheelHandler),o},Qn=function(){function e(t,n){_e||e.register(Te)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),rt(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),vt){var r,o,a,s,i,l,c,d,u,p,g,h,m,f,y,v,b,w,x,E,S,I,C,A,k,M,L,T,_,P,O,D,B,R,F,z,q,N,j,G,$,W,H=t=tn(Ot(t)||Bt(t)||t.nodeType?{trigger:t}:t,pn),Y=H.onUpdate,U=H.toggleClass,V=H.id,X=H.onToggle,Z=H.onRefresh,Q=H.scrub,J=H.trigger,K=H.pin,ee=H.pinSpacing,te=H.invalidateOnRefresh,ne=H.anticipatePin,re=H.onScrubComplete,oe=H.onSnapComplete,ae=H.once,se=H.snap,ie=H.pinReparent,de=H.pinSpacer,ue=H.containerAnimation,ge=H.fastScrollEnd,he=H.preventOverlaps,me=t.horizontal||t.containerAnimation&&!1!==t.horizontal?we:xe,fe=!Q&&0!==Q,ye=Ee(t.scroller||Pe),ve=Te.core.getCache(ye),be=Mt(ye),Ie="fixed"===("pinType"in t?t.pinType:pe(ye,"pinType")||be&&"fixed"),Ce=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],Ae=fe&&t.toggleActions.split(" "),ke="markers"in t?t.markers:pn.markers,Me=be?0:parseFloat(en(ye)["border"+me.p2+Qt])||0,Le=this,_e=t.onRefreshInit&&function(){return t.onRefreshInit(Le)},Re=function(e,t,n){var r=n.d,o=n.d2,a=n.a;return(a=pe(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?Lt(o):e["client"+o])||0}}(ye,be,me),Fe=function(e,t){return!t||~ce.indexOf(e)?Tt(e):function(){return Wn}}(ye,be),je=0,We=0,Ye=0,Ue=Se(ye,me);if(Le._startClamp=Le._endClamp=!1,Le._dir=me,ne*=45,Le.scroller=ye,Le.scroll=ue?ue.time.bind(ue):Ue,s=Ue(),Le.vars=t,n=n||t.animation,"refreshPriority"in t&&(Xe=1,-9999===t.refreshPriority&&(gt=Le)),ve.tweenScroll=ve.tweenScroll||{top:Zn(ye,xe),left:Zn(ye,we)},Le.tweenTo=r=ve.tweenScroll[me.p],Le.scrubDuration=function(e){(B=Bt(e)&&e)?D?D.duration(e):D=Te.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:B,paused:!0,onComplete:function(){return re&&re(Le)}}):(D&&D.progress(1).kill(),D=0)},n&&(n.vars.lazy=!1,n._initted&&!Le.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),Le.animation=n.pause(),n.scrollTrigger=Le,Le.scrubDuration(Q),P=0,V||(V=n.vars.id)),se&&(Rt(se)&&!se.push||(se={snapTo:se}),"scrollBehavior"in Be.style&&Te.set(be?[Be,De]:ye,{scrollBehavior:"auto"}),le.forEach(function(e){return Dt(e)&&e.target===(be?Oe.scrollingElement||De:ye)&&(e.smooth=!1)}),a=Dt(se.snapTo)?se.snapTo:"labels"===se.snapTo?function(e){return function(t){return Te.utils.snap(on(e),t)}}(n):"labelsDirectional"===se.snapTo?(G=n,function(e,t){return an(on(G))(e,t.direction)}):!1!==se.directional?function(e,t){return an(se.snapTo)(e,mt()-We<500?0:t.direction)}:Te.utils.snap(se.snapTo),R=se.duration||{min:.1,max:2},R=Rt(R)?qe(R.min,R.max):qe(R,R),F=Te.delayedCall(se.delay||B/2||.1,function(){var e=Ue(),t=mt()-We<500,o=r.tween;if(!(t||Math.abs(Le.getVelocity())<10)||o||$e||je===e)Le.isActive&&je!==e&&F.restart(!0);else{var s,i,d=(e-l)/f,u=n&&!fe?n.totalProgress():d,p=t?0:(u-O)/(mt()-Ne)*1e3||0,g=Te.utils.clamp(-d,1-d,qt(p/2)*p/.185),h=d+(!1===se.inertia?0:g),m=se,y=m.onStart,v=m.onInterrupt,b=m.onComplete;if(s=a(h,Le),Bt(s)||(s=h),i=Math.max(0,Math.round(l+s*f)),e<=c&&e>=l&&i!==e){if(o&&!o._initted&&o.data<=qt(i-e))return;!1===se.inertia&&(g=s-d),r(i,{duration:R(qt(.185*Math.max(qt(h-u),qt(s-u))/p/.05||0)),ease:se.ease||"power3",data:qt(i-e),onInterrupt:function(){return F.restart(!0)&&v&&v(Le)},onComplete:function(){Le.update(),je=Ue(),n&&!fe&&(D?D.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),P=O=n&&!fe?n.totalProgress():Le.progress,oe&&oe(Le),b&&b(Le)}},e,g*f,i-e-g*f),y&&y(Le,r.tween)}}}).pause()),V&&(vn[V]=Le),(j=(J=Le.trigger=Ee(J||!0!==K&&K))&&J._gsap&&J._gsap.stRevert)&&(j=j(Le)),K=!0===K?J:Ee(K),Ot(U)&&(U={targets:J,className:U}),K&&(!1===ee||ee===Zt||(ee=!(!ee&&K.parentNode&&K.parentNode.style&&"flex"===en(K.parentNode).display)&&Xt),Le.pin=K,(o=Te.core.getCache(K)).spacer?y=o.pinState:(de&&((de=Ee(de))&&!de.nodeType&&(de=de.current||de.nativeElement),o.spacerIsNative=!!de,de&&(o.spacerState=$n(de))),o.spacer=w=de||Oe.createElement("div"),w.classList.add("pin-spacer"),V&&w.classList.add("pin-spacer-"+V),o.pinState=y=$n(K)),!1!==t.force3D&&Te.set(K,{force3D:!0}),Le.spacer=w=o.spacer,_=en(K),A=_[ee+me.os2],E=Te.getProperty(K),S=Te.quickSetter(K,me.a,Kt),Nn(K,w,_),b=$n(K)),ke){h=Rt(ke)?tn(ke,un):un,p=mn("scroller-start",V,ye,me,h,0),g=mn("scroller-end",V,ye,me,h,0,p),x=p["offset"+me.op.d2];var Ve=Ee(pe(ye,"content")||ye);d=this.markerStart=mn("start",V,Ve,me,h,x,0,ue),u=this.markerEnd=mn("end",V,Ve,me,h,x,0,ue),ue&&(N=Te.quickSetter([d,u],me.a,Kt)),Ie||ce.length&&!0===pe(ye,"fixedMarkers")||(W=en($=be?Be:ye).position,$.style.position="absolute"===W||"fixed"===W?W:"relative",Te.set([p,g],{force3D:!0}),M=Te.quickSetter(p,me.a,Kt),T=Te.quickSetter(g,me.a,Kt))}if(ue){var Qe=ue.vars.onUpdate,Je=ue.vars.onUpdateParams;ue.eventCallback("onUpdate",function(){Le.update(0,0,1),Qe&&Qe.apply(ue,Je||[])})}if(Le.previous=function(){return yn[yn.indexOf(Le)-1]},Le.next=function(){return yn[yn.indexOf(Le)+1]},Le.revert=function(e,t){if(!t)return Le.kill(!0);var r=!1!==e||!Le.enabled,o=Ge;r!==Le.isReverted&&(r&&(z=Math.max(Ue(),Le.scroll.rec||0),Ye=Le.progress,q=n&&n.progress()),d&&[d,u,p,g].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(Ge=Le,Le.update(r)),!K||ie&&Le.isActive||(r?function(e,t,n){Gn(n);var r=e._gsap;if(r.spacerIsNative)Gn(r.spacerState);else if(e._gsap.swappedIn){var o=t.parentNode;o&&(o.insertBefore(e,t),o.removeChild(t))}e._gsap.swappedIn=!1}(K,w,y):Nn(K,w,en(K),k)),r||Le.update(r),Ge=o,Le.isReverted=r)},Le.refresh=function(o,a,h,x){if(!Ge&&Le.enabled||a)if(K&&o&&yt)ln(e,"scrollEnd",Cn);else{!ut&&_e&&_e(Le),Ge=Le,r.tween&&!h&&(r.tween.kill(),r.tween=0),D&&D.pause(),te&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren&&n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)})),Le.isReverted||Le.revert(!0,!0),Le._subPinOffset=!1;var S,A,M,T,_,P,O,B,R,N,j,G,$,W=Re(),H=Fe(),Y=ue?ue.duration():_t(ye,me),U=f<=.01||!f,V=0,X=x||0,Q=Rt(h)?h.end:t.end,ne=t.endTrigger||J,re=Rt(h)?h.start:t.start||(0!==t.start&&J?K?"0 0":"0 100%":0),oe=Le.pinnedContainer=t.pinnedContainer&&Ee(t.pinnedContainer,Le),ae=J&&Math.max(0,yn.indexOf(Le))||0,se=ae;for(ke&&Rt(h)&&(G=Te.getProperty(p,me.p),$=Te.getProperty(g,me.p));se-- >0;)(P=yn[se]).end||P.refresh(0,1)||(Ge=Le),!(O=P.pin)||O!==J&&O!==K&&O!==oe||P.isReverted||(N||(N=[]),N.unshift(P),P.revert(!0,!0)),P!==yn[se]&&(ae--,se--);for(Dt(re)&&(re=re(Le)),re=bt(re,"start",Le),l=Hn(re,J,W,me,Ue(),d,p,Le,H,Me,Ie,Y,ue,Le._startClamp&&"_startClamp")||(K?-.001:0),Dt(Q)&&(Q=Q(Le)),Ot(Q)&&!Q.indexOf("+=")&&(~Q.indexOf(" ")?Q=(Ot(re)?re.split(" ")[0]:"")+Q:(V=hn(Q.substr(2),W),Q=Ot(re)?re:(ue?Te.utils.mapRange(0,ue.duration(),ue.scrollTrigger.start,ue.scrollTrigger.end,l):l)+V,ne=J)),Q=bt(Q,"end",Le),c=Math.max(l,Hn(Q||(ne?"100% 0":Y),ne,W,me,Ue()+V,u,g,Le,H,Me,Ie,Y,ue,Le._endClamp&&"_endClamp"))||-.001,V=0,se=ae;se--;)(O=(P=yn[se]).pin)&&P.start-P._pinPush<=l&&!ue&&P.end>0&&(S=P.end-(Le._startClamp?Math.max(0,P.start):P.start),(O===J&&P.start-P._pinPush<l||O===oe)&&isNaN(re)&&(V+=S*(1-P.progress)),O===K&&(X+=S));if(l+=V,c+=V,Le._startClamp&&(Le._startClamp+=V),Le._endClamp&&!ut&&(Le._endClamp=c||-.001,c=Math.min(c,_t(ye,me))),f=c-l||(l-=.01)&&.001,U&&(Ye=Te.utils.clamp(0,1,Te.utils.normalize(l,c,z))),Le._pinPush=X,d&&V&&((S={})[me.a]="+="+V,oe&&(S[me.p]="-="+Ue()),Te.set([d,u],S)),!K||lt&&Le.end>=_t(ye,me)){if(J&&Ue()&&!ue)for(A=J.parentNode;A&&A!==Be;)A._pinOffset&&(l-=A._pinOffset,c-=A._pinOffset),A=A.parentNode}else S=en(K),T=me===xe,M=Ue(),I=parseFloat(E(me.a))+X,!Y&&c>1&&(j={style:j=(be?Oe.scrollingElement||De:ye).style,value:j["overflow"+me.a.toUpperCase()]},be&&"scroll"!==en(Be)["overflow"+me.a.toUpperCase()]&&(j.style["overflow"+me.a.toUpperCase()]="scroll")),Nn(K,w,S),b=$n(K),A=nn(K,!0),B=Ie&&Se(ye,T?we:xe)(),ee?((k=[ee+me.os2,f+X+Kt]).t=w,(se=ee===Xt?rn(K,me)+f+X:0)&&(k.push(me.d,se+Kt),"auto"!==w.style.flexBasis&&(w.style.flexBasis=se+Kt)),Gn(k),oe&&yn.forEach(function(e){e.pin===oe&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),Ie&&Ue(z)):(se=rn(K,me))&&"auto"!==w.style.flexBasis&&(w.style.flexBasis=se+Kt),Ie&&((_={top:A.top+(T?M-l:B)+Kt,left:A.left+(T?B:M-l)+Kt,boxSizing:"border-box",position:"fixed"})[$t]=_["max"+Qt]=Math.ceil(A.width)+Kt,_[Wt]=_["max"+Jt]=Math.ceil(A.height)+Kt,_[Zt]=_[Zt+Ut]=_[Zt+Ht]=_[Zt+Vt]=_[Zt+Yt]="0",_[Xt]=S[Xt],_[Xt+Ut]=S[Xt+Ut],_[Xt+Ht]=S[Xt+Ht],_[Xt+Vt]=S[Xt+Vt],_[Xt+Yt]=S[Xt+Yt],v=function(e,t,n){for(var r,o=[],a=e.length,s=n?8:0;s<a;s+=2)r=e[s],o.push(r,r in t?t[r]:e[s+1]);return o.t=e.t,o}(y,_,ie),ut&&Ue(0)),n?(R=n._initted,Ze(1),n.render(n.duration(),!0,!0),C=E(me.a)-I+f+X,L=Math.abs(f-C)>1,Ie&&L&&v.splice(v.length-2,2),n.render(0,!0,!0),R||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Ze(0)):C=f,j&&(j.value?j.style["overflow"+me.a.toUpperCase()]=j.value:j.style.removeProperty("overflow-"+me.a));N&&N.forEach(function(e){return e.revert(!1,!0)}),Le.start=l,Le.end=c,s=i=ut?z:Ue(),ue||ut||(s<z&&Ue(z),Le.scroll.rec=0),Le.revert(!1,!0),We=mt(),F&&(je=-1,F.restart(!0)),Ge=0,n&&fe&&(n._initted||q)&&n.progress()!==q&&n.progress(q||0,!0).render(n.time(),!0,!0),(U||Ye!==Le.progress||ue||te||n&&!n._initted)&&(n&&!fe&&(n._initted||Ye||!1!==n.vars.immediateRender)&&n.totalProgress(ue&&l<-.001&&!Ye?Te.utils.normalize(l,c,0):Ye,!0),Le.progress=U||(s-l)/f===Ye?0:Ye),K&&ee&&(w._pinOffset=Math.round(Le.progress*C)),D&&D.invalidate(),isNaN(G)||(G-=Te.getProperty(p,me.p),$-=Te.getProperty(g,me.p),Xn(p,me,G),Xn(d,me,G-(x||0)),Xn(g,me,$),Xn(u,me,$-(x||0))),U&&!ut&&Le.update(),!Z||ut||m||(m=!0,Z(Le),m=!1)}},Le.getVelocity=function(){return(Ue()-i)/(mt()-Ne)*1e3||0},Le.endAnimation=function(){Ft(Le.callbackAnimation),n&&(D?D.progress(1):n.paused()?fe||Ft(n,Le.direction<0,1):Ft(n,n.reversed()))},Le.labelToScroll=function(e){return n&&n.labels&&(l||Le.refresh()||l)+n.labels[e]/n.duration()*f||0},Le.getTrailing=function(e){var t=yn.indexOf(Le),n=Le.direction>0?yn.slice(0,t).reverse():yn.slice(t+1);return(Ot(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return Le.direction>0?e.end<=l:e.start>=c})},Le.update=function(e,t,o){if(!ue||o||e){var a,d,u,g,h,m,y,x=!0===ut?z:Le.scroll(),E=e?0:(x-l)/f,k=E<0?0:E>1?1:E||0,_=Le.progress;if(t&&(i=s,s=ue?Ue():x,se&&(O=P,P=n&&!fe?n.totalProgress():k)),ne&&K&&!Ge&&!ht&&yt&&(!k&&l<x+(x-i)/(mt()-Ne)*ne?k=1e-4:1===k&&c>x+(x-i)/(mt()-Ne)*ne&&(k=.9999)),k!==_&&Le.enabled){if(g=(h=(a=Le.isActive=!!k&&k<1)!==(!!_&&_<1))||!!k!=!!_,Le.direction=k>_?1:-1,Le.progress=k,g&&!Ge&&(d=k&&!_?0:1===k?1:1===_?2:3,fe&&(u=!h&&"none"!==Ae[d+1]&&Ae[d+1]||Ae[d],y=n&&("complete"===u||"reset"===u||u in n))),he&&(h||y)&&(y||Q||!n)&&(Dt(he)?he(Le):Le.getTrailing(he).forEach(function(e){return e.endAnimation()})),fe||(!D||Ge||ht?n&&n.totalProgress(k,!(!Ge||!We&&!e)):(D._dp._time-D._start!==D._time&&D.render(D._dp._time-D._start),D.resetTo?D.resetTo("totalProgress",k,n._tTime/n._tDur):(D.vars.totalProgress=k,D.invalidate().restart()))),K)if(e&&ee&&(w.style[ee+me.os2]=A),Ie){if(g){if(m=!e&&k>_&&c+1>x&&x+1>=_t(ye,me),ie)if(e||!a&&!m)Un(K,w);else{var B=nn(K,!0),R=x-l;Un(K,Be,B.top+(me===xe?R:0)+Kt,B.left+(me===xe?0:R)+Kt)}Gn(a||m?v:b),L&&k<1&&a||S(I+(1!==k||m?0:C))}}else S(Ct(I+C*k));se&&!r.tween&&!Ge&&!ht&&F.restart(!0),U&&(h||ae&&k&&(k<1||!ct))&&ze(U.targets).forEach(function(e){return e.classList[a||ae?"add":"remove"](U.className)}),Y&&!fe&&!e&&Y(Le),g&&!Ge?(fe&&(y&&("complete"===u?n.pause().totalProgress(1):"reset"===u?n.restart(!0).pause():"restart"===u?n.restart(!0):n[u]()),Y&&Y(Le)),!h&&ct||(X&&h&&zt(Le,X),Ce[d]&&zt(Le,Ce[d]),ae&&(1===k?Le.kill(!1,1):Ce[d]=0),h||Ce[d=1===k?1:3]&&zt(Le,Ce[d])),ge&&!a&&Math.abs(Le.getVelocity())>(Bt(ge)?ge:2500)&&(Ft(Le.callbackAnimation),D?D.progress(1):Ft(n,"reverse"===u?1:!k,1))):fe&&Y&&!Ge&&Y(Le)}if(T){var q=ue?x/ue.duration()*(ue._caScrollDist||0):x;M(q+(p._isFlipped?1:0)),T(q)}N&&N(-x/ue.duration()*(ue._caScrollDist||0))}},Le.enable=function(t,n){Le.enabled||(Le.enabled=!0,ln(ye,"resize",En),be||ln(ye,"scroll",wn),_e&&ln(e,"refreshInit",_e),!1!==t&&(Le.progress=Ye=0,s=i=je=Ue()),!1!==n&&Le.refresh())},Le.getTween=function(e){return e&&r?r.tween:D},Le.setPositions=function(e,t,n,r){if(ue){var o=ue.scrollTrigger,a=ue.duration(),s=o.end-o.start;e=o.start+s*e/a,t=o.start+s*t/a}Le.refresh(!1,!1,{start:wt(e,n&&!!Le._startClamp),end:wt(t,n&&!!Le._endClamp)},r),Le.update()},Le.adjustPinSpacing=function(e){if(k&&e){var t=k.indexOf(me.d)+1;k[t]=parseFloat(k[t])+e+Kt,k[1]=parseFloat(k[1])+e+Kt,Gn(k)}},Le.disable=function(t,n){if(Le.enabled&&(!1!==t&&Le.revert(!0,!0),Le.enabled=Le.isActive=!1,n||D&&D.pause(),z=0,o&&(o.uncache=1),_e&&cn(e,"refreshInit",_e),F&&(F.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!be)){for(var a=yn.length;a--;)if(yn[a].scroller===ye&&yn[a]!==Le)return;cn(ye,"resize",En),be||cn(ye,"scroll",wn)}},Le.kill=function(e,r){Le.disable(e,r),D&&!r&&D.kill(),V&&delete vn[V];var a=yn.indexOf(Le);a>=0&&yn.splice(a,1),a===He&&Rn>0&&He--,a=0,yn.forEach(function(e){return e.scroller===Le.scroller&&(a=1)}),a||ut||(Le.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),d&&[d,u,p,g].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),gt===Le&&(gt=0),K&&(o&&(o.uncache=1),a=0,yn.forEach(function(e){return e.pin===K&&a++}),a||(o.spacer=0)),t.onKill&&t.onKill(Le)},yn.push(Le),Le.enable(!1,!1),j&&j(Le),n&&n.add&&!f){var Ke=Le.update;Le.update=function(){Le.update=Ke,le.cache++,l||c||Le.refresh()},Te.delayedCall(.01,Le.update),f=.01,l=c=0}else Le.refresh();K&&function(){if(pt!==_n){var e=pt=_n;requestAnimationFrame(function(){return e===_n&&Dn(!0)})}}()}else this.update=this.refresh=this.kill=It},e.register=function(t){return _e||(Te=t||kt(),At()&&window.document&&e.enable(),_e=vt),_e},e.defaults=function(e){if(e)for(var t in e)pn[t]=e[t];return pn},e.disable=function(e,t){vt=0,yn.forEach(function(n){return n[t?"kill":"disable"](e)}),cn(Pe,"wheel",wn),cn(Oe,"scroll",wn),clearInterval(je),cn(Oe,"touchcancel",It),cn(Be,"touchstart",It),sn(cn,Oe,"pointerdown,touchstart,mousedown",Et),sn(cn,Oe,"pointerup,touchend,mouseup",St),Fe.kill(),Pt(cn);for(var n=0;n<le.length;n+=3)dn(cn,le[n],le[n+1]),dn(cn,le[n],le[n+2])},e.enable=function(){if(Pe=window,Oe=document,De=Oe.documentElement,Be=Oe.body,Te&&(ze=Te.utils.toArray,qe=Te.utils.clamp,rt=Te.core.context||It,Ze=Te.core.suppressOverwrites||It,ot=Pe.history.scrollRestoration||"auto",Bn=Pe.pageYOffset||0,Te.core.globals("ScrollTrigger",e),Be)){vt=1,(at=document.createElement("div")).style.height="100vh",at.style.position="absolute",Pn(),xt(),Le.register(Te),e.isTouch=Le.isTouch,nt=Le.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ke=1===Le.isTouch,ln(Pe,"wheel",wn),Re=[Pe,Oe,De,Be],Te.matchMedia?(e.matchMedia=function(e){var t,n=Te.matchMedia();for(t in e)n.add(t,e[t]);return n},Te.addEventListener("matchMediaInit",function(){return Ln()}),Te.addEventListener("matchMediaRevert",function(){return Mn()}),Te.addEventListener("matchMedia",function(){Dn(0,1),An("matchMedia")}),Te.matchMedia().add("(orientation: portrait)",function(){return xn(),xn})):console.warn("Requires GSAP 3.11.0 or later"),xn(),ln(Oe,"scroll",wn);var t,n,r=Be.hasAttribute("style"),o=Be.style,a=o.borderTopStyle,s=Te.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",t=nn(Be),xe.m=Math.round(t.top+xe.sc())||0,we.m=Math.round(t.left+we.sc())||0,a?o.borderTopStyle=a:o.removeProperty("border-top-style"),r||(Be.setAttribute("style",""),Be.removeAttribute("style")),je=setInterval(bn,250),Te.delayedCall(.5,function(){return ht=0}),ln(Oe,"touchcancel",It),ln(Be,"touchstart",It),sn(ln,Oe,"pointerdown,touchstart,mousedown",Et),sn(ln,Oe,"pointerup,touchend,mouseup",St),We=Te.utils.checkPrefix("transform"),qn.push(We),_e=mt(),Fe=Te.delayedCall(.2,Dn).pause(),Ve=[Oe,"visibilitychange",function(){var e=Pe.innerWidth,t=Pe.innerHeight;Oe.hidden?(Ye=e,Ue=t):Ye===e&&Ue===t||En()},Oe,"DOMContentLoaded",Dn,Pe,"load",Dn,Pe,"resize",En],Pt(ln),yn.forEach(function(e){return e.enable(0,1)}),n=0;n<le.length;n+=3)dn(cn,le[n],le[n+1]),dn(cn,le[n],le[n+2])}},e.config=function(t){"limitCallbacks"in t&&(ct=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(je)||(je=n)&&setInterval(bn,n),"ignoreMobileResize"in t&&(Ke=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(Pt(cn)||Pt(ln,t.autoRefreshEvents||"none"),Qe=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=Ee(e),r=le.indexOf(n),o=Mt(n);~r&&le.splice(r,o?6:2),t&&(o?ce.unshift(Pe,t,Be,t,De,t):ce.unshift(n,t))},e.clearMatchMedia=function(e){yn.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(Ot(e)?Ee(e):e).getBoundingClientRect(),o=r[n?$t:Wt]*t||0;return n?r.right-o>0&&r.left+o<Pe.innerWidth:r.bottom-o>0&&r.top+o<Pe.innerHeight},e.positionInViewport=function(e,t,n){Ot(e)&&(e=Ee(e));var r=e.getBoundingClientRect(),o=r[n?$t:Wt],a=null==t?o/2:t in gn?gn[t]*o:~t.indexOf("%")?parseFloat(t)*o/100:parseFloat(t)||0;return n?(r.left+a)/Pe.innerWidth:(r.top+a)/Pe.innerHeight},e.killAll=function(e){if(yn.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=Sn.killAll||[];Sn={},t.forEach(function(e){return e()})}},e}();Qn.version="3.13.0",Qn.saveStyles=function(e){return e?ze(e).forEach(function(e){if(e&&e.style){var t=kn.indexOf(e);t>=0&&kn.splice(t,5),kn.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Te.core.getCache(e),rt())}}):kn},Qn.revert=function(e,t){return Ln(!e,t)},Qn.create=function(e,t){return new Qn(e,t)},Qn.refresh=function(e){return e?En(!0):(_e||Qn.register())&&Dn(!0)},Qn.update=function(e){return++le.cache&&Fn(!0===e?2:0)},Qn.clearScrollMemory=Tn,Qn.maxScroll=function(e,t){return _t(e,t?we:xe)},Qn.getScrollFunc=function(e,t){return Se(Ee(e),t?we:xe)},Qn.getById=function(e){return vn[e]},Qn.getAll=function(){return yn.filter(function(e){return"ScrollSmoother"!==e.vars.id})},Qn.isScrolling=function(){return!!yt},Qn.snapDirectional=an,Qn.addEventListener=function(e,t){var n=Sn[e]||(Sn[e]=[]);~n.indexOf(t)||n.push(t)},Qn.removeEventListener=function(e,t){var n=Sn[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},Qn.batch=function(e,t){var n,r=[],o={},a=t.interval||.016,s=t.batchMax||1e9,i=function(e,t){var n=[],r=[],o=Te.delayedCall(a,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||o.restart(!0),n.push(e.trigger),r.push(e),s<=n.length&&o.progress(1)}};for(n in t)o[n]="on"===n.substr(0,2)&&Dt(t[n])&&"onRefreshInit"!==n?i(0,t[n]):t[n];return Dt(s)&&(s=s(),ln(Qn,"refresh",function(){return s=t.batchMax()})),ze(e).forEach(function(e){var t={};for(n in o)t[n]=o[n];t.trigger=e,r.push(Qn.create(t))}),r};var Jn,Kn=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},er=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(Le.isTouch?" pinch-zoom":""):"none",t===De&&e(Be,n)},tr={auto:1,scroll:1},nr=function(e){var t,n=e.event,r=e.target,o=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,s=a._gsap||Te.core.getCache(a),i=mt();if(!s._isScrollT||i-s._isScrollT>2e3){for(;a&&a!==Be&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!tr[(t=en(a)).overflowY]&&!tr[t.overflowX]);)a=a.parentNode;s._isScroll=a&&a!==r&&!Mt(a)&&(tr[(t=en(a)).overflowY]||tr[t.overflowX]),s._isScrollT=i}(s._isScroll||"x"===o)&&(n.stopPropagation(),n._gsapAllow=!0)},rr=function(e,t,n,r){return Le.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&nr,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&ln(Oe,Le.eventTypes[0],ar,!1,!0)},onDisable:function(){return cn(Oe,Le.eventTypes[0],ar,!0)}})},or=/(input|label|select|textarea)/i,ar=function(e){var t=or.test(e.target.tagName);(t||Jn)&&(e._gsapAllow=!0,Jn=t)},sr=function(e){Rt(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,o,a,s,i,l,c=e,d=c.normalizeScrollX,u=c.momentum,p=c.allowNestedScroll,g=c.onRelease,h=Ee(e.target)||De,m=Te.core.globals().ScrollSmoother,f=m&&m.get(),y=nt&&(e.content&&Ee(e.content)||f&&!1!==e.content&&!f.smooth()&&f.content()),v=Se(h,xe),b=Se(h,we),w=1,x=(Le.isTouch&&Pe.visualViewport?Pe.visualViewport.scale*Pe.visualViewport.width:Pe.outerWidth)/Pe.innerWidth,E=0,S=Dt(u)?function(){return u(t)}:function(){return u||2.8},I=rr(h,e.type,!0,p),C=function(){return o=!1},A=It,k=It,M=function(){n=_t(h,xe),k=qe(nt?1:0,n),d&&(A=qe(0,_t(h,we))),r=_n},L=function(){y._gsap.y=Ct(parseFloat(y._gsap.y)+v.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",v.offset=v.cacheID=0},T=function(){M(),a.isActive()&&a.vars.scrollY>n&&(v()>n?a.progress(1)&&v(n):a.resetTo("scrollY",n))};return y&&Te.set(y,{y:"+=0"}),e.ignoreCheck=function(e){return nt&&"touchmove"===e.type&&function(){if(o){requestAnimationFrame(C);var e=Ct(t.deltaY/2),n=k(v.v-e);if(y&&n!==v.v+v.offset){v.offset=n-v.v;var r=Ct((parseFloat(y&&y._gsap.y)||0)-v.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",y._gsap.y=r+"px",v.cacheID=le.cache,Fn()}return!0}v.offset&&L(),o=!0}()||w>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){o=!1;var e=w;w=Ct((Pe.visualViewport&&Pe.visualViewport.scale||1)/x),a.pause(),e!==w&&er(h,w>1.01||!d&&"x"),s=b(),i=v(),M(),r=_n},e.onRelease=e.onGestureStart=function(e,t){if(v.offset&&L(),t){le.cache++;var r,o,s=S();d&&(o=(r=b())+.05*s*-e.velocityX/.227,s*=Kn(b,r,o,_t(h,we)),a.vars.scrollX=A(o)),o=(r=v())+.05*s*-e.velocityY/.227,s*=Kn(v,r,o,_t(h,xe)),a.vars.scrollY=k(o),a.invalidate().duration(s).play(.01),(nt&&a.vars.scrollY>=n||r>=n-1)&&Te.to({},{onUpdate:T,duration:s})}else l.restart(!0);g&&g(e)},e.onWheel=function(){a._ts&&a.pause(),mt()-E>1e3&&(r=0,E=mt())},e.onChange=function(e,t,n,o,a){if(_n!==r&&M(),t&&d&&b(A(o[2]===t?s+(e.startX-e.x):b()+t-o[1])),n){v.offset&&L();var l=a[2]===n,c=l?i+e.startY-e.y:v()+n-a[1],u=k(c);l&&c!==u&&(i+=u-c),v(u)}(n||t)&&Fn()},e.onEnable=function(){er(h,!d&&"x"),Qn.addEventListener("refresh",T),ln(Pe,"resize",T),v.smooth&&(v.target.style.scrollBehavior="auto",v.smooth=b.smooth=!1),I.enable()},e.onDisable=function(){er(h,!0),cn(Pe,"resize",T),Qn.removeEventListener("refresh",T),I.kill()},e.lockAxis=!1!==e.lockAxis,(t=new Le(e)).iOS=nt,nt&&!v()&&v(1),nt&&Te.ticker.add(It),l=t._dc,a=Te.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:d?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Vn(v,v(),function(){return a.pause()})},onUpdate:Fn,onComplete:l.vars.onComplete}),t};Qn.sort=function(e){if(Dt(e))return yn.sort(e);var t=Pe.pageYOffset||0;return Qn.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+Pe.innerHeight}),yn.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},Qn.observe=function(e){return new Le(e)},Qn.normalizeScroll=function(e){if(void 0===e)return Je;if(!0===e&&Je)return Je.enable();if(!1===e)return Je&&Je.kill(),void(Je=e);var t=e instanceof Le?e:sr(e);return Je&&Je.target===t.target&&Je.kill(),Mt(t.target)&&(Je=t),t},Qn.core={_getVelocityProp:Ie,_inputObserver:rr,_scrollers:le,_proxies:ce,bridge:{ss:function(){yt||An("scrollStart"),yt=mt()},ref:function(){return Ge}}},kt()&&Te.registerPlugin(Qn);const ir=t(e());n.registerPlugin(Qn);class lr{constructor(){this.scrollRevealElements=[],this.isLoading=!1,this.formProgress=0,this.areaFinderInstance=null,this.arcGISInstance=null,this.arcGISLoaded=!1,this.arcGISLoading=!1,this.activeMeasurementTool="google-maps",this.init()}init(){F(),S(),i(),r({beforeSend:e=>e}),this.preloadCriticalAssets(),this.initHeroVideo(),this.initLoadingAnimation(),this.initAnimations(),this.initScrollEffects(),this.initRevealOnScroll(),this.initNavigation(),this.initGalleryFilters(),this.initContactForm(),this.initSectionAnimations(),this.initConversionOptimizations(),this.initInteractiveFeatures(),this.initClickToCall(),this.initEmergencyServiceHighlight(),this.initNotificationSystem(),this.initLocationMaps(),this.initGallery(),this.initLazyLoading(),this.initMeasurementToolToggle(),this.initServiceWorker(),this.initTestimonialReadMore()}initMeasurementToolToggle(){const e=document.querySelectorAll(".toggle-btn");document.getElementById("google-maps-container");const t=document.getElementById("arcgis-container"),n=document.getElementById("arcgis-placeholder");t&&(t.style.display="block",t.style.visibility="visible",t.style.opacity="1"),this.arcGISLoaded||this.arcGISLoading||(this.arcGISLoading=!0,n&&(n.style.display="flex"),this.loadArcGIS().then(()=>{this.arcGISLoaded=!0,this.arcGISLoading=!1,n&&(n.style.display="none")}).catch(e=>{console.error("Error loading ArcGIS:",e),this.arcGISLoading=!1,n&&this.showArcGISError(n,e)})),e.forEach(e=>{const t=e.dataset.tool;e.classList.remove("active"),"arcgis-3d"===t&&e.classList.add("active"),e.style.pointerEvents="none",e.style.opacity="0.6"}),this.activeMeasurementTool="arcgis-3d"}async loadArcGIS(){return new Promise((e,t)=>{if(this.arcGISLoaded)return void e();const n=document.createElement("link");n.rel="stylesheet",n.href="https://js.arcgis.com/4.33/esri/themes/light/main.css",document.head.appendChild(n);const r=document.createElement("script");r.type="module",r.src="https://js.arcgis.com/calcite-components/3.2.1/calcite.esm.js",document.head.appendChild(r);const o=document.createElement("script");o.src="https://js.arcgis.com/4.33/",o.onload=()=>{const n=document.createElement("script");n.type="module",n.src="https://js.arcgis.com/4.33/map-components/",n.onload=()=>{this.initializeArcGISScene(),e()},n.onerror=t,document.head.appendChild(n)},o.onerror=t,document.head.appendChild(o)})}initializeArcGISScene(){const e=document.getElementById("arcgis-scene-view");document.getElementById("arcgis-placeholder");const t=document.getElementById("arcgis-results"),n=document.getElementById("line-result"),r=document.getElementById("area-result");e.innerHTML='\n            <arcgis-scene item-id="5ce0de673d3b41a3bf3a217942211c4b" style="height: 100%; width: 100%;">\n                <arcgis-zoom position="top-left"></arcgis-zoom>\n                <arcgis-navigation-toggle position="top-left"></arcgis-navigation-toggle>\n                <arcgis-compass position="top-left"></arcgis-compass>\n                <arcgis-expand id="expand-line" position="top-right" group="top-right">\n                    <arcgis-direct-line-measurement-3d></arcgis-direct-line-measurement-3d>\n                </arcgis-expand>\n                <arcgis-expand id="expand-area" position="top-right" group="top-right">\n                    <arcgis-area-measurement-3d></arcgis-area-measurement-3d>\n                </arcgis-expand>\n            </arcgis-scene>\n        ',setTimeout(()=>{const o=e.querySelector("arcgis-scene"),a=e.querySelector("arcgis-direct-line-measurement-3d"),s=e.querySelector("arcgis-area-measurement-3d"),i=e.querySelector("#expand-line"),l=e.querySelector("#expand-area");o&&a&&s&&o.viewOnReady().then(()=>{this.setupArcGISMeasurementObservers(i,l,a,s,n,r,t)})},1e3)}setupArcGISMeasurementObservers(e,t,n,r,o,a,s){new MutationObserver(e=>{e.forEach(e=>{e.target.expanded?(n.start(),s.style.display="block"):(n.clear(),r.clear(),o.textContent="0 m",a.textContent="0 m¬≤",t.expanded||(s.style.display="none"))})}).observe(e,{attributeFilter:["expanded"]});new MutationObserver(t=>{t.forEach(t=>{t.target.expanded?(r.start(),s.style.display="block"):(n.clear(),r.clear(),o.textContent="0 m",a.textContent="0 m¬≤",e.expanded||(s.style.display="none"))})}).observe(t,{attributeFilter:["expanded"]}),n.addEventListener("measure-complete",e=>{e.detail&&e.detail.distance&&(o.textContent=`${e.detail.distance.toFixed(2)} ${e.detail.unit||"m"}`,this.updateProjectSizeFromMeasurement(e.detail,"distance"))}),r.addEventListener("measure-complete",e=>{e.detail&&e.detail.area&&(a.textContent=`${e.detail.area.toFixed(2)} ${e.detail.unit||"m¬≤"}`,this.updateProjectSizeFromMeasurement(e.detail,"area"))}),window.arcGISTool={getMeasurementData:()=>{const e=o.textContent,t=a.textContent,n=parseFloat(t.split(" ")[0]),r=parseFloat(e.split(" ")[0]);return n>0?{area:10.764*n,perimeter:3.28084*r,coordinates:[],unit:"sqft"}:null},clearMeasurements:()=>{n.clear(),r.clear(),o.textContent="0 m",a.textContent="0 m¬≤",s.style.display="none"}}}updateProjectSizeFromMeasurement(e,t){const n=document.getElementById("project-size");if(n&&"area"===t&&e.area){const t=Math.round(10.764*e.area);n.value=`${t} sq ft`,n.dispatchEvent(new Event("input",{bubbles:!0}))}}showArcGISError(e,t){e.innerHTML='\n            <div style="text-align: center; padding: 2rem; color: #dc3545;">\n                <div style="font-size: 48px; margin-bottom: 1rem;">‚ö†Ô∏è</div>\n                <h3 style="margin-bottom: 1rem; color: #dc3545;">Failed to Load ArcGIS</h3>\n                <p style="margin-bottom: 1.5rem; color: #6c757d;">Unable to load the 3D measurement tool. This might be due to a network issue or service unavailability.</p>\n                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">\n                    <button onclick="window.location.reload();" \n                            style="padding: 0.5rem 1rem; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">Retry</button>\n                </div>\n                <p style="margin-top: 1rem; font-size: 0.9rem; color: #6c757d;">Please try refreshing the page or contact us directly for assistance.</p>\n            </div>\n        '}initHeroVideo(){const e=document.getElementById("hero-video");if(!e)return;const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"":window.location.pathname.includes("/Neff-Paving/")?"/Neff-Paving":"",n=e.querySelector("source");if(n){const e="assets/videos/optimized/neff-paving-1080p.mp4";n.src=t?`${t}/${e}`:e}e.addEventListener("error",e=>{console.error("Video failed to load:",e);const t=document.getElementById("hero");t&&(t.style.backgroundColor="#2c2c2c")}),e.addEventListener("loadeddata",()=>{e.play().catch(e=>{console.error("Video autoplay failed:",e)})}),e.style.opacity="1"}preloadCriticalAssets(){G.preloadCriticalAssets([{path:"/assets/images/hero-bg.jpg",type:"image",priority:"high"},{path:"/assets/videos/optimized/neff-paving-1080p.mp4",type:"video",priority:"medium"},{path:"/assets/images/logo.png",type:"image",priority:"high"}])}initLazyLoading(){document.querySelectorAll("img[src]").forEach(e=>{const t=e.src;!t||t.startsWith("data:")||e.hasAttribute("data-no-lazy")||(e.dataset.src=t,e.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB2aWV3Qm94PSIwIDAgMSAxIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiNGOEY5RkEiIGQ9Ik0wIDBoMXYxSDB6Ii8+PC9zdmc+",e.loading="lazy",e.classList.add("lazy-load"))}),G.addLazyImages()}initSectionAnimations(){document.querySelectorAll(".service-card").forEach(e=>{e.addEventListener("mouseenter",()=>{n.to(e,{scale:1.03,duration:.3,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{n.to(e,{scale:1,duration:.3,ease:"power2.out"})})}),document.querySelectorAll(".team-member").forEach((e,t)=>{n.from(e,{y:50,opacity:0,duration:.8,delay:.1*t,scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"}})}),document.querySelectorAll(".contact-method").forEach((e,t)=>{e.style.opacity="1",e.style.transform="none"}),document.querySelectorAll(".stat-number").forEach(e=>{const t=e.textContent;e.textContent="0",n.to(e,{textContent:t,duration:2,ease:"power2.out",snap:{textContent:1},scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none none"}})}),document.querySelectorAll(".cert-icon").forEach((e,t)=>{n.from(e,{scale:0,rotation:180,duration:.5,delay:.05*t,ease:"back.out(1.7)",scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"}})})}initAnimations(){ir.init({duration:1e3,once:!0,offset:100}),n.from(".hero-content h2",{duration:1.5,y:50,opacity:0,ease:"power3.out"}),n.from(".hero-content p",{duration:1.5,y:30,opacity:0,delay:.3,ease:"power3.out"})}initAreaFinder(){const e=document.querySelector(".map-placeholder");if(e){e.innerHTML='\n                <div id="area-finder-container">\n                    <h4>Project Area Calculator</h4>\n                    <p>Draw the area of your project on the map to get an accurate estimate.</p>\n                </div>\n            ';try{this.areaFinderInstance=new I("area-finder-container",{showCalculator:!0,showAddressSearch:!0,showAreaInfo:!0,onAreaCalculated:e=>{console.log("Area calculated:",e),this.updateProjectSizeFromArea(e)}})}catch(t){console.error("Error initializing area finder:",t),e.innerHTML='\n                    <div class="error-message">\n                        <p>Unable to load map. Please enter project size manually in the form above.</p>\n                    </div>\n                '}}}updateProjectSizeFromArea(e){const t=document.getElementById("project-size");t&&e.areaInSquareFeet&&(t.value=`${Math.round(e.areaInSquareFeet)} sq ft`,t.dispatchEvent(new Event("input",{bubbles:!0})))}initScrollEffects(){window.matchMedia("(prefers-reduced-motion: reduce)").matches||n.to(".hero-content",{yPercent:10,ease:"none",scrollTrigger:{trigger:"#hero",start:"top bottom",end:"bottom top",scrub:2}});n.timeline({scrollTrigger:{trigger:"#hero",start:"top 80%",toggleActions:"play none none reverse"}}).from(".hero-title",{y:60,opacity:0,duration:1.2,ease:"power3.out"}).from(".hero-subtitle",{y:40,opacity:0,duration:1,ease:"power3.out"},"-=0.8").from(".hero-cta .btn",{y:30,opacity:0,duration:.8,stagger:.2,ease:"power3.out"},"-=0.6").from(".feature-badge",{y:20,opacity:0,duration:.6,stagger:.1,ease:"power3.out"},"-=0.4"),n.from(".asphalt-service-grid .service-card, .concrete-service-container .service-card",{y:80,opacity:0,duration:1,stagger:.2,ease:"power3.out",scrollTrigger:{trigger:".services-section",start:"top 80%",toggleActions:"play none none reverse"}}),n.from(".gallery-item",{scale:.8,opacity:0,duration:.8,stagger:.1,ease:"power3.out",scrollTrigger:{trigger:".gallery-container",start:"top 80%",toggleActions:"play none none reverse"}}),n.to("header",{backgroundColor:"rgba(44, 62, 80, 0.98)",scrollTrigger:{trigger:"body",start:"top -50px",end:"top -100px",scrub:1}}),n.utils.toArray("section").forEach((e,t)=>{"hero"!==e.id&&n.from(e,{opacity:0,y:50,duration:1,scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"}})})}initNavigation(){document.querySelectorAll('nav a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});let e=0;window.addEventListener("scroll",()=>{const t=window.pageYOffset||document.documentElement.scrollTop,n=document.querySelector("header");n.style.transform=t>e&&t>100?"translateY(-100%)":"translateY(0)",e=t<=0?0:t})}initGalleryFilters(){const e=document.querySelectorAll(".filter-btn"),t=document.querySelectorAll(".gallery-item");e.forEach(r=>{r.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),r.classList.add("active");const o=r.dataset.filter;t.forEach(e=>{"all"===o||e.dataset.category===o?(e.style.display="block",n.fromTo(e,{opacity:0,y:20},{opacity:1,y:0,duration:.5,delay:.3*Math.random()})):n.to(e,{opacity:0,y:-20,duration:.3,onComplete:()=>{e.style.display="none"}})})})})}initContactForm(){const e=document.getElementById("contact-form");e&&e.addEventListener("submit",async t=>{t.preventDefault();const n=new FormData(e),r=Object.fromEntries(n),o=this.getMeasurementData();if(o&&!this.validateMeasurementData(o))return void this.showValidationErrors(["measurement-invalid"]);if(o&&(r.measurementData=o,r.areaInSquareFeet=o.areaInSquareFeet,r.measurementTool=o.toolType),!this.validateForm(r))return;const a=e.querySelector('button[type="submit"]'),s=a.textContent;a.textContent="Sending...",a.disabled=!0;try{const t=await fetch("/api/estimates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),n=await t.json();if(!n.success)throw new Error(n.message||"Submission failed");this.showSuccessMessage("Your estimate request has been submitted successfully!"),e.reset(),this.clearMeasurementData(),b()}catch(i){console.error("Form submission error:",i),this.showSuccessMessage("Form submitted! We will contact you within 2 business hours.","warning")}finally{a.textContent=s,a.disabled=!1}});const t=document.getElementById("start-chat");t&&t.addEventListener("click",()=>{alert("Chat widget would open here. In a real implementation, this would integrate with a chat service like Intercom, Zendesk, or custom solution.")})}validateForm(e){const t=[];["firstName","lastName","email","phone","serviceType"].forEach(n=>{e[n]&&""!==e[n].trim()||t.push(n)});e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&t.push("email-format");return e.phone&&!/^[\d\s\-\+\(\)]{10,}$/.test(e.phone.replace(/\D/g,""))&&t.push("phone-format"),!(t.length>0)||(this.showValidationErrors(t),!1)}showValidationErrors(e){document.querySelectorAll(".error-message").forEach(e=>e.remove()),e.forEach(e=>{let t,n;switch(e){case"firstName":t="first-name",n="First name is required";break;case"lastName":t="last-name",n="Last name is required";break;case"email":t="email",n="Email is required";break;case"email-format":t="email",n="Please enter a valid email address";break;case"phone":t="phone",n="Phone number is required";break;case"phone-format":t="phone",n="Please enter a valid phone number";break;case"serviceType":t="service-type",n="Please select a service type";break;case"measurement-invalid":t="project-size",n="Please complete the measurement or clear the drawing to proceed"}const r=document.getElementById(t);if(r){const e=document.createElement("div");e.className="error-message",e.style.color="var(--error-red)",e.style.fontSize="14px",e.style.marginTop="var(--spacing-xs)",e.textContent=n,r.parentNode.appendChild(e),r.style.borderColor="var(--error-red)"}})}getMeasurementData(){if(this.areaFinderInstance&&this.areaFinderInstance.getAreaData()){const e=this.areaFinderInstance.getAreaData();return{toolType:"google-maps",areaInSquareFeet:e.areaInSquareFeet,areaInAcres:e.areaInAcres,perimeter:e.perimeter,coordinates:e.coordinates||[],timestamp:(new Date).toISOString()}}if(window.arcGISTool&&window.arcGISTool.getMeasurementData){const e=window.arcGISTool.getMeasurementData();if(e&&e.area)return{toolType:"arcgis",areaInSquareFeet:e.area,areaInAcres:e.area/43560,perimeter:e.perimeter||0,coordinates:e.coordinates||[],timestamp:(new Date).toISOString()}}return null}validateMeasurementData(e){if(!e)return!1;if(!e.areaInSquareFeet||e.areaInSquareFeet<=0)return!1;return!!["google-maps","arcgis"].includes(e.toolType)}clearMeasurementData(){this.areaFinderInstance&&this.areaFinderInstance.clearShapes(),window.arcGISTool&&window.arcGISTool.clearMeasurements&&window.arcGISTool.clearMeasurements()}showSuccessMessage(e="Thank You!",t="success"){const r=document.querySelector(".success-message");r&&r.remove();const o=document.createElement("div");o.className="success-message alert alert-"+("success"===t?"success":"warning"),o.style.cssText=`\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: ${"success"===t?"#d4edda":"#fff3cd"};\n            color: ${"success"===t?"#155724":"#856404"};\n            padding: 1rem 1.5rem;\n            border-radius: 8px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n            z-index: 10000;\n            border: 1px solid ${"success"===t?"#c3e6cb":"#ffeaa7"};\n            max-width: 400px;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        `,o.innerHTML=`\n            <div style="display: flex; align-items: center; justify-content: space-between;">\n                <div>\n                    <h4 style="margin: 0 0 0.5rem 0; font-size: 1.1rem; font-weight: 600;">${"success"===t?"‚úÖ ":"‚ö†Ô∏è "}${e}</h4>\n                    <p style="margin: 0; font-size: 0.9rem;">\n                        ${"success"===t?"Your estimate request has been submitted successfully. We'll contact you within 2 business hours with a detailed quote.":"Your form has been submitted. If you don't hear from us within 24 hours, please call us directly."}\n                    </p>\n                </div>\n                <button onclick="this.parentElement.parentElement.remove()" \n                        style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: inherit; margin-left: 1rem;">√ó</button>\n            </div>\n        `,document.body.appendChild(o),setTimeout(()=>{o.parentElement&&o.remove()},8e3),void 0!==n&&n.fromTo(o,{x:400,opacity:0},{x:0,opacity:1,duration:.5,ease:"back.out(1.7)"})}initLoadingAnimation(){const e=document.createElement("div");e.className="loading-overlay show",e.innerHTML='\n            <div class="loading-spinner"></div>\n        ',document.body.appendChild(e),window.addEventListener("load",()=>{setTimeout(()=>{e.classList.remove("show"),setTimeout(()=>{e.remove()},300)},500)})}initRevealOnScroll(){[{selector:".service-card",class:"reveal stagger-1"},{selector:".gallery-item",class:"reveal-scale stagger-2"},{selector:".team-member",class:"reveal-left stagger-3"},{selector:".contact-method",class:"reveal-right stagger-1"},{selector:".cert-category",class:"reveal stagger-2"}].forEach(({selector:e,class:t})=>{document.querySelectorAll(e).forEach((e,n)=>{e.classList.add("reveal"),t.includes("stagger")&&e.classList.add("stagger-"+(n%6+1)),t.includes("reveal-left")?e.classList.add("reveal-left"):t.includes("reveal-right")?e.classList.add("reveal-right"):t.includes("reveal-scale")&&e.classList.add("reveal-scale")})});const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("revealed")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".reveal, .reveal-left, .reveal-right, .reveal-scale").forEach(t=>{e.observe(t)})}initConversionOptimizations(){const e=document.getElementById("contact-form");if(e){const t=document.createElement("div");t.className="form-progress",t.innerHTML='<div class="form-progress-bar"></div>',e.insertBefore(t,e.firstChild);const n=e.querySelectorAll("input[required], select[required], textarea[required]"),r=t.querySelector(".form-progress-bar");n.forEach(e=>{e.addEventListener("input",()=>{this.updateFormProgress(n,r)}),e.addEventListener("change",()=>{this.updateFormProgress(n,r)})})}this.addUrgencyIndicators(),this.trackUserEngagement()}updateFormProgress(e,t){const n=Array.from(e).filter(e=>"email"===e.type?e.value&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value):e.value&&""!==e.value.trim()).length/e.length*100;t.style.width=`${n}%`,e.forEach(e=>{const t=e.closest(".form-group");e.value&&""!==e.value.trim()?"email"!==e.type||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)?(t.classList.remove("error"),t.classList.add("success")):(t.classList.remove("success"),t.classList.add("error")):t.classList.remove("success","error")})}createStickyCTA(){const e=document.createElement("div");e.className="sticky-cta",e.style.cssText="\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: var(--safety-yellow);\n            color: var(--asphalt-dark);\n            padding: var(--spacing-md) var(--spacing-lg);\n            border-radius: 25px;\n            box-shadow: var(--shadow-lg);\n            z-index: 1000;\n            font-family: var(--font-primary);\n            font-weight: 600;\n            cursor: pointer;\n            transform: translateY(100px);\n            transition: var(--transition);\n        ",e.innerHTML="\n            üìû Call for Free Quote: (555) 123-PAVE\n        ",e.addEventListener("click",()=>{window.location.href="tel:5551237283"}),document.body.appendChild(e);const t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting?e.style.transform="translateY(100px)":e.style.transform="translateY(0)"})},{threshold:.1}),n=document.getElementById("hero");n&&t.observe(n)}addUrgencyIndicators(){const e=document.querySelector(".emergency-service");if(e){const t=document.createElement("div");t.style.cssText="\n                background: rgba(255, 255, 255, 0.1);\n                padding: var(--spacing-sm);\n                border-radius: var(--border-radius);\n                margin-top: var(--spacing-md);\n                font-size: 14px;\n                text-align: center;\n            ",t.innerHTML="‚ö° Average response time: 30 minutes",e.appendChild(t)}this.addSocialProof()}addSocialProof(){const e=document.querySelector(".hero-content");if(e){const t=document.createElement("div");t.className="social-proof",t.style.cssText="\n                margin-top: var(--spacing-lg);\n                padding: var(--spacing-md);\n                background: rgba(255, 255, 255, 0.1);\n                border-radius: var(--border-radius);\n                text-align: center;\n                font-size: 14px;\n            ",t.innerHTML="\n                ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Rated 4.9/5 by 200+ customers | üèÜ BBB A+ Rating\n            ",e.appendChild(t)}}trackUserEngagement(){window.addEventListener("scroll",()=>{Math.round(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100)>=50&&!this.hasShownScrollOffer&&(this.showScrollOffer(),this.hasShownScrollOffer=!0)});let e=0;setInterval(()=>{e+=1,e>=120&&!this.hasShownTimeOffer&&(this.showTimeOffer(),this.hasShownTimeOffer=!0)},1e3),document.addEventListener("mouseleave",e=>{e.clientY<0&&!this.hasShownExitIntent&&(this.showExitIntentOffer(),this.hasShownExitIntent=!0)})}showScrollOffer(){this.showNotification("üì± Still browsing? Get a free quote in under 2 minutes!","info",()=>{document.getElementById("contact-form").scrollIntoView({behavior:"smooth"})})}showTimeOffer(){this.showNotification("‚è∞ Limited Time: Free site consultation with any quote request!","warning")}showExitIntentOffer(){this.showNotification("üöÄ Wait! Get 10% off your first project - Call now: (555) 123-PAVE","success",()=>{window.location.href="tel:5551237283"})}initInteractiveFeatures(){document.querySelectorAll(".cert-icon").forEach(e=>{const t=e.closest("li");t&&(t.classList.add("tooltip"),t.setAttribute("data-tooltip","Click for more information"))}),document.querySelectorAll(".service-card").forEach(e=>{const t=e.querySelector(".btn");t&&t.addEventListener("click",t=>{t.preventDefault(),this.prefilleForm(e)})})}prefilleForm(e){const t=e.querySelector("h3").textContent,n=document.getElementById("service-type");if(n){const e={"Residential Paving":"residential","Commercial Paving":"commercial","Maintenance Services":"maintenance","Custom Solutions":"custom"}[t];e&&(n.value=e,n.dispatchEvent(new Event("change")))}document.getElementById("contact-form").scrollIntoView({behavior:"smooth"}),this.showNotification(`Form pre-filled for ${t} services!`,"success")}initClickToCall(){document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",()=>{this.trackPhoneClick(e.href)})});document.querySelectorAll(".method-info, .hero-subtitle").forEach(e=>{const t=e.textContent,n=/\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})/;n.test(t)&&(e.style.cursor="pointer",e.style.textDecoration="underline",e.addEventListener("click",()=>{const e=t.match(n)[0];window.location.href=`tel:${e.replace(/\D/g,"")}`}))})}trackPhoneClick(e){console.log("Phone click tracked:",e)}initEmergencyServiceHighlight(){const e=(new Date).getHours(),t=e>=7&&e<=19;document.querySelectorAll(".contact-method.emergency").forEach(e=>{if(!t){e.style.order="-1",e.style.transform="scale(1.05)";const t=document.createElement("div");t.style.cssText="\n                    position: absolute;\n                    top: -10px;\n                    right: -10px;\n                    background: var(--warning-amber);\n                    color: var(--asphalt-dark);\n                    padding: var(--spacing-xs) var(--spacing-sm);\n                    border-radius: 15px;\n                    font-size: 12px;\n                    font-weight: 700;\n                    animation: pulse 2s infinite;\n                ",t.textContent="AFTER HOURS",e.style.position="relative",e.appendChild(t)}})}initNotificationSystem(){const e=document.createElement("div");e.id="notification-container",e.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 10000;\n            display: flex;\n            flex-direction: column;\n            gap: var(--spacing-md);\n        ",document.body.appendChild(e)}showNotification(e,t="info",n=null){const r=document.getElementById("notification-container");if(!r)return;const o=document.createElement("div");o.className=`notification ${t} show`,o.innerHTML=`\n            <div style="display: flex; align-items: center; justify-content: space-between;">\n                <span>${e}</span>\n                <button onclick="this.closest('.notification').remove()" style="background: none; border: none; color: inherit; font-size: 18px; cursor: pointer; margin-left: var(--spacing-md);">&times;</button>\n            </div>\n        `,n&&(o.style.cursor="pointer",o.addEventListener("click",n)),r.appendChild(o),setTimeout(()=>{o.remove()},5e3)}initLocationMaps(){try{this.locationMaps=new C}catch(e){console.error("Error initializing location maps:",e)}}initServiceWorker(){"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered successfully:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&this.showUpdateNotification()})})}).catch(e=>{console.log("Service Worker registration failed:",e)})}):console.log("Service Worker not supported")}showUpdateNotification(){const e=document.createElement("div");e.className="update-notification",e.style.cssText="\n            position: fixed;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background: #2196F3;\n            color: white;\n            padding: 1rem 2rem;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            z-index: 10001;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n        ",e.innerHTML='\n            <span>üöÄ A new version is available!</span>\n            <button onclick="window.location.reload()" \n                    style="background: white; color: #2196F3; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-weight: 600;">Update</button>\n            <button onclick="this.parentElement.remove()" \n                    style="background: transparent; color: white; border: 1px solid white; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer;">Later</button>\n        ',document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.remove()},1e4)}debounce(e,t){let n;return function(...r){const o=this;clearTimeout(n),n=setTimeout(()=>e.apply(o,r),t)}}initGallery(){document.querySelector(".gallery-grid")&&new M}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}document.addEventListener("DOMContentLoaded",()=>{new lr});export{m as clearAllMeasurementData,h as clearMeasurementData,f as getActiveTool,v as getAllMeasurementData,g as getMeasurementData,w as handleFormReset,b as handleFormSubmission,y as hasMeasurementData,S as initializeStorage,p as storeMeasurementData};
//# sourceMappingURL=measurement-storage-CAKMWHGY.js.map
